<!DOCTYPE html><html lang="en"><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <!-- This should probably be done with a server-side include, but
         PHP is easier. -->
    <meta name="description" content="Woburn Collegiate Institute Programming
Enrichment Group Online Judge">
<meta name="keywords" content="PEG Judge,wcipeg.com,Online judge,Canadian
Computing Competition,CCC,American Computer Science League,ACSL,Programming
Enrichment Group,Validator,COCI,Croatian Open Competition in Informatics,
Woburn,Woburn Challenge,Woburn Collegiate Institute,APIO,Asian Pacific
Informatics Olympiad,BOI,Bulgarian Olympiad in Informatics,SMAC,Sane's Monthly
Algorithms Challenge,Problem Solving in Pascal,Bi-Weekly Challenge,Validator,
Hanson Wang,Canada">

    <title>PEG Judge - Boxlings</title>

    <link href="https://wcipeg.com/assets/css/common.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/submissions.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/bbcode.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/highlight/styles/idea.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/icons/favicon.ico" rel="shortcut icon" type="text/css">
    <link href="https://wcipeg.com/assets/css/style.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/jquery.autocomplete.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/desc.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/testcase_editor.css" rel="stylesheet" type="text/css">

    <script type="text/javascript">
        function get_csrf_key() {
            return "csrf_test_name";
        }
        function get_csrf_value() {
            return "cd8f9afcd982cdf2c4dae0ddd014f93b";
        }
        function get_site_url() {
            return "https:\/\/wcipeg.com\/";
        }
    </script>
    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-1.10.1.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-post-csrf.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/global.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment-timezone.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/highlight/highlight.pack.js"></script>    <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
  </head>

  <body style="">
    <div id="backheader"></div>
    <div id="backmenu"></div>

    <div id="wrapper">
      <div id="container">
        <div id="header">
          <div id="logo">
            <!-- TODO: Change "PEG" to something customizable -->
            <a href="https://wcipeg.com/main"><img src="https://wcipeg.com/assets/img/logo.gif" alt="PEG"></a>          </div>
          <div id="user">
                                      Please <a href="https://wcipeg.com/auth/login?ref=%2Fproblem%2Fboxl"><b>log in</b></a>              or <a href="https://wcipeg.com/auth/register"><b>register an account</b></a>.
                      </div> <!-- user -->
                  </div> <!-- header -->

<div id="menu">
  <ul class="nav">
        <li><a href="https://wcipeg.com/main">main</a></li>        <li><a href="https://wcipeg.com/announcements">announcements</a></li>        <li><a href="https://wcipeg.com/problems">problems</a></li>        <li><a href="https://wcipeg.com/submissions">submissions</a></li>        <li><a href="https://wcipeg.com/users">users</a></li>        <li><a href="https://wcipeg.com/organizations">organizations</a></li>        <li><a href="https://wcipeg.com/submit">submit</a></li>        <li><a href="https://wcipeg.com/contests">contests</a></li>        <li><a href="/wiki/Judge:Help" target="_blank">help (<strong>README</strong>)</a></li>        <li><a href="/wiki" target="_blank">wiki</a></li>        <li><a href="/legacy" target="_blank">old</a></li>        <li><a href="/wiki/Judge:Contact" target="_blank">contact</a></li>          </ul>
</div>

<div id="content">


<div id="descContent">
<style type="text/css">
    #descContent span.nobr {
        white-space: nowrap;
    }
    
    #input-table {
        text-align: justify;
    }

    #input-table > tbody > tr > td:first-child {
        vertical-align: top;
        width: 120px;
        text-align: left;
    }
</style>

<h2 align="center">Boxlings</h2>

<p>Doctor Y, always eager to further his research in the field of boxology, is observing a family of boxen in their natural habitat - a barrel of wine. He has noticed that in addition to the <var>N</var> (1 ≤ <var>N</var> ≤ 200,000) rectangular, two-dimensional boxen, there are <var>M</var> (1 ≤ <var>M</var> ≤ 200,000) almost imperceptible points floating on the surface of the wine. He reasons that these must be baby boxen - also known as boxlings.</p>

<p>Curious as to the customs of box families, Doctor Y wishes to count how many boxlings are floating on top of boxne. From his top-down view of the barrel, he has divided the surface of the wine into a two-dimensional Catersian plane, and noted the positions of all the boxen and boxlings. Each box occupies a rectangular region parallel to the axes of the plane, with its lower-left corner at (<var>x</var><sub>1</sub>, <var>y</var><sub>1</sub>) and its upper-right corner at (<var>x</var><sub>2</sub>, <var>y</var><sub>2</sub>), such that (-10<sup>8</sup> ≤ <var>x</var><sub>1</sub> &lt; <var>x</var><sub>2</sub> ≤ 10<sup>8</sup>) and (-10<sup>8</sup> ≤ <var>y</var><sub>1</sub> &lt; <var>y</var><sub>2</sub> ≤ 10<sup>8</sup>). Doctor Y has observed that boxen sometimes overlap one another. Each boxling is so small that it occupies only a single point on the plane, with x-coordinate <var>a</var> and y-coordinate <var>b</var>, such that (-10<sup>8</sup> ≤ <var>a</var>, <var>b</var> ≤ 10<sup>8</sup>).</p>

<p>Having recorded the locations of all the life forms on the surface of the wine, Doctor Y is interested in counting exactly how many boxlings are floating on top of at least one box. Note that if a boxling is on the very edge or corner of a box, it counts as being on top. Also note that two boxlings can occupy the exact same locations, and that they should be counted separately.</p>

<p>With so many boxen and boxlings living in this wine barrel, Doctor Y doesn't feel like sitting there and counting them all by hand, crazy though he is. As such, he wants you to write a program to, given the locations of all the boxen and boxlings, count the number of boxlings that are floating on top of at least one box. Don't worry; your hard work will surely lead to exciting discoveries in the field of boxology.</p>


<h3>Input</h3>

<table id="input-table">
<tbody><tr>
    <td>Line 1:</td>
    <td>Two integers - <var>N</var> and <var>M</var></td>
</tr>
<tr>
    <td>The next <var>N</var> lines:</td>
    <td>Four integers - <var>x</var><sub>1</sub>, <var>y</var><sub>1</sub>, <var>x</var><sub>2</sub> and <var>y</var><sub>2</sub></td>
</tr>
<tr>
    <td>The next <var>M</var> lines:</td>
    <td>Two integers <var>a</var> and <var>b</var></td>
</tr>
</tbody></table>

<h3>Output</h3>

<p>A single integer - the number of boxlings that are on top of at least one box.</p>

<h3>Sample Input</h3>
<pre>5 10
-1 -1 2 5
4 -3 5 3
1 2 4 4
5 -6 8 -4
1 -2 8 0
1 4
5 4
2 2
3 1
6 -5
5 -1
3 -3
-1 -2
-1 -1
2 -1</pre>

<h3>Sample Output</h3>
<pre>6</pre>

<h3>Explanation</h3>
<p>Below is a top-down view of the surface of the wine:<br><br>
<img src="images/boxl/boxl.png" alt=""></p>

<p>The coloured-in squares are the boxen, the red dots are boxlings that are on top of at least one box, and the blue dots are the other boxlings. Counting the red dots, it can be seen that there are six of them.</p></div>

<div id="descSidebar"> <!-- TODO: Make this nicer/more semantic -->
  <p>
        
        <a href="https://wcipeg.com/submissions/,boxl">All Submissions</a>    <br>
    
        <a href="https://wcipeg.com/submissions/rank/boxl">Best Solutions</a>        <br>
  </p>

  <p>
    
      </p>

  <p>
            <br>
  </p>

  <p>
    <!-- TODO: Move this into the controller -->
    <b>Point Value:</b> 20 (partial)<br>
    <b>Time Limit:</b> 3.00s<br>
    <b>Memory Limit:</b> 256M<br>
    <b>Added:</b> May 30, 2009<br>
        <b>Author:</b> <a href="https://wcipeg.com/user/SourSpinach">SourSpinach</a>  </p>

  
  <p>
  <b>Languages Allowed:</b><br>
  <span title="C++03 (g++ 4.1.3)">C++03</span>, <span title="Pascal (fpc 2.6.0-9)">PAS</span>, <span title="C (gcc 4.7.2)">C</span>, <span title="Haskell (ghc-6.12.1)">HASK</span>, <span title="Intel x86 assembly (nasm 2.10.01)">ASM</span>, <span title="Ruby (ruby 2.1.2)">RUBY</span>, <span title="Python 2 (python 2.6.8)">PYTH2</span>, <span title="Java (OpenJDK javac 1.7.0_03)">JAVA</span>, <span title="PHP (PHP 5.4.4)">PHP</span>, <span title="Scheme (Racket v5.0.1) (NOT WORKING)">SCM</span>, <span title="OCaml (version 3.12.1)">CAML</span>, <span title="Perl, v5.10.1">PERL</span>, <span title="C# (Mono version 2.4.4.0) (NOT WORKING)">C#</span>, <span title="C++11 (g++ 4.9.1)">C++11</span>, <span title="Python 3 (python 3.2.3)">PYTH3</span>  </p>
</div> <!-- descSidebar -->

<div id="comments">
  <h2 class="icon" style="background: url(https://wcipeg.com/assets/icons/comment_bubble.png) no-repeat right top">Comments (<a href="https://wcipeg.com/comments/search/place=boxl">Search</a>)</h2><p style="text-align: center"></p><div class="comment_block" id="comment5246">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/SourSpinach">SourSpinach</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/5246">May 12, 2013 - 11:21:49 am UTC</a>      </span>
      <a class="comment_title" id="title5246" onclick="toggle(&quot;body5246&quot;)">Correction</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating5246">
    (<span class="upvotes"><span id="upvotes5246">0</span></span>/<span class="downvotes"><span id="downvotes5246">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body5246" class="comment_body">
    <pre id="msg5246" style="display: none">For each box, (x1,y1) and (x2,y2) are opposite corners (x2&gt;x1 and y2&gt;y1 don't necessarily hold).

Additionally, a box may have zero area, in which case it's treated as a line (or a point) and may still have boxlings on top of it.</pre>
    <div style="opacity: 1">
      For each box, (x1,y1) and (x2,y2) are opposite corners (x2&gt;x1 and y2&gt;y1 don't necessarily hold). <br> <br>Additionally, a box may have zero area, in which case it's treated as a line (or a point) and may still have boxlings on top of it.    </div>
    <br><div class="comment_block" id="comment5695">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/FatalEagle">FatalEagle</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/5695">Jan 04, 2014 - 4:28:14 pm UTC</a>      </span>
      <a class="comment_title" id="title5695" onclick="toggle(&quot;body5695&quot;)">Re: Correction</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating5695">
    (<span class="upvotes"><span id="upvotes5695">1</span></span>/<span class="downvotes"><span id="downvotes5695">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body5695" class="comment_body">
    <pre id="msg5695" style="display: none">Treating boxen which have x1&gt;x2 and y1&gt;y2 as valid boxes gives me WA?</pre>
    <div style="opacity: 1">
      Treating boxen which have x1&gt;x2 and y1&gt;y2 as valid boxes gives me WA?    </div>
      </div>
</div>
  </div>
</div>
<br>
<div class="comment_block" id="comment2491">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/SourSpinach">SourSpinach</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/2491">Sep 02, 2009 - 9:27:49 pm UTC</a>      </span>
      <a class="comment_title" id="title2491" onclick="toggle(&quot;body2491&quot;)">Hint</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating2491">
    (<span class="upvotes"><span id="upvotes2491">1</span></span>/<span class="downvotes"><span id="downvotes2491">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body2491" class="comment_body">
    <pre id="msg2491" style="display: none">This problem can be solved with a data structure known as a 2D range tree. It can be researched on the internet and implemented without too much trouble.</pre>
    <div style="opacity: 1">
      This problem can be solved with a data structure known as a 2D range tree. It can be researched on the internet and implemented without too much trouble.    </div>
    <br><div class="comment_block" id="comment2493">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/bbi5291">bbi5291</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/2493">Sep 02, 2009 - 9:34:28 pm UTC</a>      </span>
      <a class="comment_title" id="title2493" onclick="toggle(&quot;body2493&quot;)">Re: Hint</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating2493">
    (<span class="upvotes"><span id="upvotes2493">1</span></span>/<span class="downvotes"><span id="downvotes2493">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body2493" class="comment_body">
    <pre id="msg2493" style="display: none">So 2D range tree is less nasty than 2D BIT? Or do we not agree on what a range tree [i]is[/i]?</pre>
    <div style="opacity: 1">
      So 2D range tree is less nasty than 2D BIT? Or do we not agree on what a range tree <span class="italics">is</span>?    </div>
    <br><div class="comment_block" id="comment2495">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/SourSpinach">SourSpinach</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/2495">Sep 03, 2009 - 12:14:04 am UTC</a>      </span>
      <a class="comment_title" id="title2495" onclick="toggle(&quot;body2495&quot;)">Re: Re: Hint</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating2495">
    (<span class="upvotes"><span id="upvotes2495">0</span></span>/<span class="downvotes"><span id="downvotes2495">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body2495" class="comment_body">
    <pre id="msg2495" style="display: none">It's not too bad...but I don't know, I've never coded a 2D BIT. You could try this problem and see for yourself what I mean by a range tree.</pre>
    <div style="opacity: 1">
      It's not too bad...but I don't know, I've never coded a 2D BIT. You could try this problem and see for yourself what I mean by a range tree.    </div>
      </div>
</div>
  </div>
</div>
  </div>
</div>
<br>
<div class="comment_block" id="comment2257">
  <div class="comment_header" style="opacity: 0.79345670852611">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/javic">javic</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/2257">Jun 04, 2009 - 1:37:03 am UTC</a>      </span>
      <a class="comment_title" id="title2257" onclick="toggle(&quot;body2257&quot;)"></a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating2257">
    (<span class="upvotes"><span id="upvotes2257">0</span></span>/<span class="downvotes"><span id="downvotes2257">1</span></span>)
  </li>
  </ul>  </div>
  <div id="body2257" class="comment_body">
    <pre id="msg2257" style="display: none">If it's a 2DBIT I'm not coding it...</pre>
    <div style="opacity: 0.79345670852611">
      If it's a 2DBIT I'm not coding it...    </div>
    <br><div class="comment_block" id="comment2258">
  <div class="comment_header" style="opacity: 0.90547134519913">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/SourSpinach">SourSpinach</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/2258">Jun 04, 2009 - 4:20:53 pm UTC</a>      </span>
      <a class="comment_title" id="title2258" onclick="toggle(&quot;body2258&quot;)">Re: ...</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating2258">
    (<span class="upvotes"><span id="upvotes2258">1</span></span>/<span class="downvotes"><span id="downvotes2258">1</span></span>)
  </li>
  </ul>  </div>
  <div id="body2258" class="comment_body">
    <pre id="msg2258" style="display: none">It's not quite that nasty.</pre>
    <div style="opacity: 0.90547134519913">
      It's not quite that nasty.    </div>
      </div>
</div>
  </div>
</div>
<br>
</div>

<div style="clear: both">&nbsp;</div>

</div> <!-- content -->
</div> <!-- container -->
</div> <!-- wrapper -->

<div id="footer">
  <div id="footer_time_info">
    Loaded in 0.0360s.<br>
    Server time on page load:
    May 8, 2018 16:09:01 UTC 
    <br>
  </div>
  <div style="clear: both; height: 1ex"></div>

  <div style="float: right">
    <a href="https://wcipeg.com%2Fproblem%2Fboxl">Secure server</a>  </div>

<a href="http://www.debian.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/debian.png" alt="Powered by Debian GNU/Linux"></a>

<a href="http://www.apache.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/apache.gif" alt="Powered by Apache"></a>

<a href="http://www.mysql.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/mysql.png" alt="Powered by MySQL"></a>

<a href="http://www.php.net" target="_blank">
  <img src="https://wcipeg.com/assets/img/php.gif" alt="Powered by PHP"> 
</a>

<a href="http://www.openssl.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/openssl.png" alt="Powered by OpenSSL"> 
</a>

<a href="http://www.codeigniter.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/codeignited.gif" alt="Powered by CodeIgniter"> 
</a>

<a href="http://validator.w3.org/check?uri=referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/html5.png" alt="Valid HTML 5"></a>

<a href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/css3.png" alt="Valid CSS 3"></a>

<span title="Thanks to Naomi Cui for helping to create this image">
  <a href="http://git-scm.com/" target="_blank">
    <img src="https://wcipeg.com/assets/img/git-80x15-final.png" alt="git managed">  </a>
</span>

<br>

<div style="font-size: 85%; line-height: 1.5">
  <a href="/wiki/Judge:Copyright" target="_blank">Notes on copyright</a> |
  <a href="/wiki/Judge:TOS" target="_blank">Terms of service</a>
  <br>
  <a href="/wiki/Judge:Free_software" target="_blank">The PEG Judge is powered
  solely by free software.</a>
</div>
 
</div> <!-- footer -->



</body></html>