<!DOCTYPE html><html lang="en"><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <!-- This should probably be done with a server-side include, but
         PHP is easier. -->
    <meta name="description" content="Woburn Collegiate Institute Programming
Enrichment Group Online Judge">
<meta name="keywords" content="PEG Judge,wcipeg.com,Online judge,Canadian
Computing Competition,CCC,American Computer Science League,ACSL,Programming
Enrichment Group,Validator,COCI,Croatian Open Competition in Informatics,
Woburn,Woburn Challenge,Woburn Collegiate Institute,APIO,Asian Pacific
Informatics Olympiad,BOI,Bulgarian Olympiad in Informatics,SMAC,Sane's Monthly
Algorithms Challenge,Problem Solving in Pascal,Bi-Weekly Challenge,Validator,
Hanson Wang,Canada">

    <title>PEG Judge - CCO16 - Pirates</title>

    <link href="https://wcipeg.com/assets/css/common.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/submissions.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/bbcode.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/highlight/styles/idea.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/icons/favicon.ico" rel="shortcut icon" type="text/css">
    <link href="https://wcipeg.com/assets/css/style.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/jquery.autocomplete.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/desc.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/testcase_editor.css" rel="stylesheet" type="text/css">

    <script type="text/javascript">
        function get_csrf_key() {
            return "csrf_test_name";
        }
        function get_csrf_value() {
            return "b0448e3f0d4e2bef09dbf2abc5691615";
        }
        function get_site_url() {
            return "https:\/\/wcipeg.com\/";
        }
    </script>
    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-1.10.1.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-post-csrf.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/global.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment-timezone.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/highlight/highlight.pack.js"></script>    <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
  </head>

  <body style="">
    <div id="backheader"></div>
    <div id="backmenu"></div>

    <div id="wrapper">
      <div id="container">
        <div id="header">
          <div id="logo">
            <!-- TODO: Change "PEG" to something customizable -->
            <a href="https://wcipeg.com/main"><img src="https://wcipeg.com/assets/img/logo.gif" alt="PEG"></a>          </div>
          <div id="user">
                                      Please <a href="https://wcipeg.com/auth/login?ref=%2Fproblem%2Fccc16s2p6"><b>log in</b></a>              or <a href="https://wcipeg.com/auth/register"><b>register an account</b></a>.
                      </div> <!-- user -->
                  </div> <!-- header -->

<div id="menu">
  <ul class="nav">
        <li><a href="https://wcipeg.com/main">main</a></li>        <li><a href="https://wcipeg.com/announcements">announcements</a></li>        <li><a href="https://wcipeg.com/problems">problems</a></li>        <li><a href="https://wcipeg.com/submissions">submissions</a></li>        <li><a href="https://wcipeg.com/users">users</a></li>        <li><a href="https://wcipeg.com/organizations">organizations</a></li>        <li><a href="https://wcipeg.com/submit">submit</a></li>        <li><a href="https://wcipeg.com/contests">contests</a></li>        <li><a href="/wiki/Judge:Help" target="_blank">help (<strong>README</strong>)</a></li>        <li><a href="/wiki" target="_blank">wiki</a></li>        <li><a href="/legacy" target="_blank">old</a></li>        <li><a href="/wiki/Judge:Contact" target="_blank">contact</a></li>          </ul>
</div>

<div id="content">


<div id="descContent">
<h3>2016 Canadian Computing Olympiad</h3>
<h2>Day 2, Problem 3 - Pirates</h2>

<p>A group of <var>N</var> pirates found <var>K</var> gold coins. They must decide on a way to distribute the coins amongst themselves. They have agreed on the following rules:</p>

<p>The oldest pirate proposes a distribution. (You can assume that all the pirates' ages are distinct.) A distribution assigns a non-negative integer number of coins to each pirate such that the sum of these numbers equals <var>K</var>.</p>

<p>Then, each pirate will vote either 'yes' or 'no' on the proposal. The number of 'yes' votes required for the proposal to pass depends on the number of pirates. If there are <var>X</var> pirates, then <var>V</var>[<var>X</var> − 1] 'yes' votes are required for the proposal to pass. If the proposal passes, the coins are assigned according the proposed distribution and the process ends. Otherwise, the oldest pirate is thrown overboard and the process is repeated without him.</p>

<p>The pirates act according to the following rules. The rules are given in order of priority; for example, rule 2 is only applied to distinguish between multiple options that are optimal according to rule 1.</p>

<ol>
<li>A pirate will act to prevent himself from being thrown overboard.</li>
<li>A pirate will act to maximize the number of coins he receives.</li>
<li>A pirate will act to maximize the number of pirates thrown overboard (excepting himself, because rule 1 takes priority).</li>
<li>A pirate will act to maximize the number of coins received by the oldest pirate. If there are still multiple choices that fit these rules, he will maximize the gold received by the second-oldest pirate, then the third-oldest pirate, etc.</li>
</ol>

<p>If there are multiple options that are optimal according to these rules, then the pirate chooses an action arbitrarily. (You can assume that the answer to this problem does not depend on the pirate's choice in this case.) Additionally, all the pirates are perfectly logical and know all the information contained in this problem statement. They cannot form agreements or coalitions because they do not trust each other.</p>

<p>We will number the pirates from 1 to <var>N</var>, where these are numbered from youngest (pirate 1) to the oldest (pirate <var>N</var>).</p>

<p>If there were only <var>i</var> pirates (where <var>i</var> = 1, …, <var>N</var>), how many coins would the oldest of them get?</p>

<h3>Input Format</h3>
<p>
The first line of input will be the number <var>N</var> (2 ≤ <var>N</var> ≤ 10<sup>6</sup>).<br>
The second line of input will be the integer <var>K</var> (1 ≤ <var>K</var> ≤ 10<sup>18</sup>).<br>
The next <var>N</var> lines of input contain <var>V</var>[<var>i</var>] (1 ≤ <var>V</var>[<var>i</var>] ≤ <var>i</var>) indicating the number of 'yes' votes required for a proposal to pass if there are <var>i</var> pirates remaining (<var>i</var> = 1, …, <var>N</var>).<br>
For 5 of the 25 available marks for this problem <var>N</var> ≤ 2000.<br>
For an additional 5 of the 25 available marks for this problem max(1, <var>i</var> − 3) ≤ <var>V</var>[<var>i</var>] ≤ <var>i</var> for all <var>i</var> = 1, …, <var>N</var>.<br>
For an additional 5 of the 25 available marks for this problem <var>K</var> = 10<sup>18</sup>.
</p>

<h3>Output Format</h3>
<p>
The output should consist of <var>N</var> integers, printed one per line. The <var>i</var>-th line of output is the number of coins that the <var>i</var>-th pirate would get if they were the oldest pirate. In other words, if only pirates 1, …, <var>i</var> − 1 existed. If the <var>i</var>-th pirate is thrown overboard, output <code>-1</code> on the <var>i</var>-th line.
</p>

<h3>Sample Input 1</h3>
<pre>5
100
1
1
2
2
3
</pre>

<h3>Sample Output 1</h3>
<pre>100
100
99
99
98
</pre>

<h3>Explanation 1</h3>
<p>If there are 2 pirates left, pirate 2 can propose that all of the gold coins go to him. Only 1 vote is required for this proposal to pass, so he can guarantee that it passes by voting for it.</p>
<p>If there are 3 pirates left, pirate 3 needs someone else to vote for his proposal. He can ensure this by giving 1 coin to pirate 1 and 99 to himself. Pirate 1 knows that if the proposal doesn't pass, he will receive nothing. So a single coin is enough to secure his vote.</p>
<p>If there are 4 pirates left, pirate 4 gives 1 gold coin to pirate 2 and 99 to himself.</p>
<p>If there are 5 pirates left, pirate 5 gives 1 gold coin to pirates 1 and 3 and keeps 98 coins for himself.</p>

<h3>Sample Input 2</h3>
<pre>5
100
1
2
3
4
4
</pre>

<h3>Sample Output 2</h3>
<pre>100
-1
-1
-1
100
</pre>

<h3>Explanation 2</h3>
<p>In this case, a full consensus is required for a proposal to pass, except when there are 5 pirates, in which case only 4 of the 5 votes are required.</p>
<p>If there is full consensus required, and there are 2 or more pirates, the youngest pirate will vote against the proposal to maximize their coins and also throw the most pirates overboard.</p>
In the case where there are 5 pirates, the oldest pirate will propose to give himself 100 coins. Everyone except the youngest pirate will vote 'yes', because if this proposal doesn't pass, the youngest pirate will get all of them thrown overboard and then take the coins for himself when only he remains. Since the pirates don't want to be thrown overboard, they will vote 'yes', even though the oldest pirate will offer them nothing.<p></p>

<h3>Sample Input 3</h3>
<pre>4
100
1
1
2
3
</pre>

<h3>Sample Output 3</h3>
<pre>100
100
99
97
</pre>

<h3>Explanation 3</h3>
<p>The first three cases were explained in Sample Input 1.</p><p>
</p><p>When there are 4 pirates, the oldest pirate needs 3 votes. He will give 2 coins to the youngest pirate and 1 coin to the second-youngest pirate, keeping the rest for himself.</p>

<h3>Sample Input 4</h3>
<pre>4
2
1
1
2
3
</pre>

<h3>Sample Output 4</h3>
<pre>2
2
1
-1
</pre>

<h3>Explanation 4</h3>
<p>The situation is the same as in Example 3, but now there are only 2 coins. With 1, 2 or 3 pirates, we have the same situations as in Example 3.</p>
<p>With 4 pirates, the oldest pirate does not have enough coins to ensure the 3 votes which he needs, so he will be thrown overboard.</p>
</div>

<div id="descSidebar"> <!-- TODO: Make this nicer/more semantic -->
  <p>
        
        <a href="https://wcipeg.com/submissions/,ccc16s2p6">All Submissions</a>    <br>
    
        <a href="https://wcipeg.com/submissions/rank/ccc16s2p6">Best Solutions</a>        <br>
  </p>

  <p>
    
      </p>

  <p>
            <br>
  </p>

  <p>
    <!-- TODO: Move this into the controller -->
    <b>Point Value:</b> 25 (partial)<br>
    <b>Time Limit:</b> 15.00s<br>
    <b>Memory Limit:</b> 512M<br>
    <b>Added:</b> May 14, 2016<br>
        <b>Author:</b> <a href="https://wcipeg.com/user/nullptr">nullptr</a>  </p>

  
  <p>
  <b>Languages Allowed:</b><br>
  <span title="C++03 (g++ 4.1.3)">C++03</span>, <span title="Pascal (fpc 2.6.0-9)">PAS</span>, <span title="C (gcc 4.7.2)">C</span>, <span title="Haskell (ghc-6.12.1)">HASK</span>, <span title="Intel x86 assembly (nasm 2.10.01)">ASM</span>, <span title="Ruby (ruby 2.1.2)">RUBY</span>, <span title="Python 2 (python 2.6.8)">PYTH2</span>, <span title="Java (OpenJDK javac 1.7.0_03)">JAVA</span>, <span title="PHP (PHP 5.4.4)">PHP</span>, <span title="Scheme (Racket v5.0.1) (NOT WORKING)">SCM</span>, <span title="OCaml (version 3.12.1)">CAML</span>, <span title="Perl, v5.10.1">PERL</span>, <span title="C# (Mono version 2.4.4.0) (NOT WORKING)">C#</span>, <span title="C++11 (g++ 4.9.1)">C++11</span>, <span title="Python 3 (python 3.2.3)">PYTH3</span>  </p>
</div> <!-- descSidebar -->

<div id="comments">
  <h2 class="icon" style="background: url(https://wcipeg.com/assets/icons/comment_bubble.png) no-repeat right top">Comments (<a href="https://wcipeg.com/comments/search/place=ccc16s2p6">Search</a>)</h2><p style="text-align: center"></p><div class="comment_block" id="comment7667">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/kobortor">kobortor</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/7667">Aug 19, 2016 - 1:26:52 am UTC</a>      </span>
      <a class="comment_title" id="title7667" onclick="toggle(&quot;body7667&quot;)">What would be the answer?</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating7667">
    (<span class="upvotes"><span id="upvotes7667">0</span></span>/<span class="downvotes"><span id="downvotes7667">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body7667" class="comment_body">
    <pre id="msg7667" style="display: none">4
100
1
1
1
2

The first 3 pirates would get 100 coins to themselves, but then if the 4th pirate offered the first 2 zero coins each, would they accept because rule 4?</pre>
    <div style="opacity: 1">
      4 <br>100 <br>1 <br>1 <br>1 <br>2 <br> <br>The first 3 pirates would get 100 coins to themselves, but then if the 4th pirate offered the first 2 zero coins each, would they accept because rule 4?    </div>
    <br><div class="comment_block" id="comment7670">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/jargon">jargon</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/7670">Aug 19, 2016 - 6:58:42 pm UTC</a>      </span>
      <a class="comment_title" id="title7670" onclick="toggle(&quot;body7670&quot;)">Re: What would be the answer?</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating7670">
    (<span class="upvotes"><span id="upvotes7670">0</span></span>/<span class="downvotes"><span id="downvotes7670">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body7670" class="comment_body">
    <pre id="msg7670" style="display: none">If theoretically Pirate 4 offered them both 0 coins, then my interpretation is that all three lower pirates will always vote no.

Each pirate will vote No due to Rule 3, except for Pirate 3 in the case where Pirate 4 does not offer him all the coins, in which case he votes No due to Rule 2.

Pirates 1 and 2 vote No because whether Pirate 4 or Pirate 3 is the oldest, they will still get 0 coins. (Pirate 3 simply takes them all for himself.) Thus, to maximise the number of pirates thrown overboard, they vote No. This is because Rule 3 takes precedence over Rule 4.

---

However, note that this won't happen. Since Pirates 1 and 2 receive 0 coins if Pirate 3 is the oldest, then to win one of their votes, Pirate 4 simply has to offer one of them one coin. Thus Pirate 4 receives 99 coins.</pre>
    <div style="opacity: 1">
      If theoretically Pirate 4 offered them both 0 coins, then my interpretation is that all three lower pirates will always vote no. <br> <br>Each pirate will vote No due to Rule 3, except for Pirate 3 in the case where Pirate 4 does not offer him all the coins, in which case he votes No due to Rule 2. <br> <br>Pirates 1 and 2 vote No because whether Pirate 4 or Pirate 3 is the oldest, they will still get 0 coins. (Pirate 3 simply takes them all for himself.) Thus, to maximise the number of pirates thrown overboard, they vote No. This is because Rule 3 takes precedence over Rule 4. <br> <br>--- <br> <br>However, note that this won't happen. Since Pirates 1 and 2 receive 0 coins if Pirate 3 is the oldest, then to win one of their votes, Pirate 4 simply has to offer one of them one coin. Thus Pirate 4 receives 99 coins.    </div>
      </div>
</div>
  </div>
</div>
<br>
<div class="comment_block" id="comment7594">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/Alex">Alex</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/7594">May 15, 2016 - 11:47:40 pm UTC</a>      </span>
      <a class="comment_title" id="title7594" onclick="toggle(&quot;body7594&quot;)">Output limit too small</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating7594">
    (<span class="upvotes"><span id="upvotes7594">0</span></span>/<span class="downvotes"><span id="downvotes7594">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body7594" class="comment_body">
    <pre id="msg7594" style="display: none">The output limit of the judge seems to be too small. Please hold off on submitting until we eventually raise it.</pre>
    <div style="opacity: 1">
      The output limit of the judge seems to be too small. Please hold off on submitting until we eventually raise it.    </div>
    <br><div class="comment_block" id="comment7612">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/SourSpinach">SourSpinach</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/7612">Jun 17, 2016 - 9:56:48 am UTC</a>      </span>
      <a class="comment_title" id="title7612" onclick="toggle(&quot;body7612&quot;)">Re: Output limit too small</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating7612">
    (<span class="upvotes"><span id="upvotes7612">0</span></span>/<span class="downvotes"><span id="downvotes7612">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body7612" class="comment_body">
    <pre id="msg7612" style="display: none">The output limit has now been increased to be sufficient for this problem, and all existing submissions have been rejudged.</pre>
    <div style="opacity: 1">
      The output limit has now been increased to be sufficient for this problem, and all existing submissions have been rejudged.    </div>
      </div>
</div>
  </div>
</div>
<br>
</div>

<div style="clear: both">&nbsp;</div>

</div> <!-- content -->
</div> <!-- container -->
</div> <!-- wrapper -->

<div id="footer">
  <div id="footer_time_info">
    Loaded in 0.0267s.<br>
    Server time on page load:
    May 5, 2018 17:03:23 UTC 
    <br>
  </div>
  <div style="clear: both; height: 1ex"></div>

  <div style="float: right">
    <a href="https://wcipeg.com%2Fproblem%2Fccc16s2p6">Secure server</a>  </div>

<a href="http://www.debian.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/debian.png" alt="Powered by Debian GNU/Linux"></a>

<a href="http://www.apache.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/apache.gif" alt="Powered by Apache"></a>

<a href="http://www.mysql.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/mysql.png" alt="Powered by MySQL"></a>

<a href="http://www.php.net" target="_blank">
  <img src="https://wcipeg.com/assets/img/php.gif" alt="Powered by PHP"> 
</a>

<a href="http://www.openssl.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/openssl.png" alt="Powered by OpenSSL"> 
</a>

<a href="http://www.codeigniter.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/codeignited.gif" alt="Powered by CodeIgniter"> 
</a>

<a href="http://validator.w3.org/check?uri=referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/html5.png" alt="Valid HTML 5"></a>

<a href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/css3.png" alt="Valid CSS 3"></a>

<span title="Thanks to Naomi Cui for helping to create this image">
  <a href="http://git-scm.com/" target="_blank">
    <img src="https://wcipeg.com/assets/img/git-80x15-final.png" alt="git managed">  </a>
</span>

<br>

<div style="font-size: 85%; line-height: 1.5">
  <a href="/wiki/Judge:Copyright" target="_blank">Notes on copyright</a> |
  <a href="/wiki/Judge:TOS" target="_blank">Terms of service</a>
  <br>
  <a href="/wiki/Judge:Free_software" target="_blank">The PEG Judge is powered
  solely by free software.</a>
</div>
 
</div> <!-- footer -->



</body></html>