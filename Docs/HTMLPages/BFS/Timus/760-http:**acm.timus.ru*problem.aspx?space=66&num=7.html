<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>G. Slalom @ USU Open Personal Contest 2008 @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=66&amp;num=7"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=66&amp;num=7&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=66&amp;num=7&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style52.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=66&amp;num=7&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=66&amp;num=7&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><h2 class="title">USU Open Personal Contest 2008</h2><div style="text-align:center; margin-bottom:1em;"><a href="/contest.aspx?id=66">About</a> &nbsp; &nbsp; <a href="/problemset.aspx?space=66" class="selectedMenu">Problems</a> &nbsp; &nbsp; <a href="/submit.aspx?space=66">Submit solution</a> &nbsp; &nbsp; <a href="/status.aspx?space=66">Judge status</a> &nbsp; &nbsp; <a href="/monitor.aspx?id=66">Standings</a></div><div style="margin-bottom:1em;"><div style="text-align:center; font-weight:bold;">Contest is over</div></div><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">G. Slalom</h2><div class="problem_limits">Time limit: 1.0 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal"> Each weekend Petr goes mountain skiing with his friends. He has learned
recently that Winter Olympic Games will be held in his city in several years'
time. Now Petr dreams of winning a gold Olympic medal in slalom. In this
sport, a sportsman must go downhill performing sharp turns, and he mustn't miss
the gates placed on the mountain slope. </div></div><img src="/image/get.aspx/e1856b44-d957-478a-87ba-9eaeac49878f" border="0" alt="Problem illustration" align="RIGHT" class="problem_raimage"><div class="problem_par"><div class="problem_par_normal">Petr started training at once because it was not much time left until the Games.
He created a training piste for himself by placing <i>n</i> poles on a slope.
Then he decided to calculate his downhill trajectory. For this, he plotted the
slope in the coordinate system shown in the picture. Petr can begin his
descent at any point on the start line (in the scheme, it is the line
<i>y</i>&nbsp;=&nbsp;100000) and end it at any point of the finish line
(the line <i>y</i>&nbsp;=&nbsp;0). His trajectory must be a broken line
with vertices at poles. The <i>y</i> coordinate must be decreasing at each moment.
Petr wants to ski downhill touching as many poles as possible and changing his
direction every time he touches a pole (i.e., if was going rightwards, he
must start going leftwards). He also may go through a pole in a straight line
without touching it. A possible trajectory is shown in the picture.
</div></div><div class="problem_par"><div class="problem_par_normal">Calculate an optimal trajectory for Petr.
</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">The first line contains the number of poles <i>n</i> (no more than 50000).
The following <i>n</i> lines contain coordinates of poles in the form of
pairs of integers (<i>x<sub>i</sub></i>,&nbsp;<i>y<sub>i</sub></i>) separated
with a space; <nobr>1 ≤ <i>i</i> ≤ <i>n</i></nobr>. All <i>x<sub>i</sub></i> and all
<i>y<sub>i</sub></i> are different and are in the range from 1 to 99999.
</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">In the first line, output the maximal number of poles that Petr can touch when
he skis down the slope. In the second line, give the numbers of the poles in
the order of touching.
</div></div><h3 class="problem_subtitle">Samples</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>5
5 2
6 5
1 1
4 3
2 4</pre></td><td><pre>4
2 5 4 3</pre></td></tr><tr><td><pre>4
1 6
3 4
5 2
4 1</pre></td><td><pre>3
1 3 4</pre></td></tr></tbody></table><div class="problem_source"><b>Problem Author: </b>Alexander Toropov (prepared by Alexander Ipatov)<br><b>Problem Source: </b>IX USU Open Personal Contest (March 1, 2008)<br></div></div></div><div class="problem_links"><a href="print.aspx?space=66&amp;num=7" target="_blank">Printable version</a><br></div>To submit the solution for this problem go to the Problem set: <a href="problem.aspx?space=1&amp;num=1606"><nobr>1606. Slalom</nobr></a></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table><img src="https://mc.yandex.ru/metrika/advert.gif" style="position: absolute; visibility: hidden; width: 0px; height: 0px;"></body></html>