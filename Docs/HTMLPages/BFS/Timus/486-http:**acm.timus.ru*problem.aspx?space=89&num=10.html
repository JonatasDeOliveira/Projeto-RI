<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>J. Space Tourism @ Ural SU contest. Petrozavodsk training camp. Summer 2010 @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=89&amp;num=10"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=89&amp;num=10&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=89&amp;num=10&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style52.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=89&amp;num=10&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=89&amp;num=10&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><h2 class="title">Ural SU contest. Petrozavodsk training camp. Summer 2010</h2><div style="text-align:center; margin-bottom:1em;"><a href="/contest.aspx?id=89">About</a> &nbsp; &nbsp; <a href="/problemset.aspx?space=89" class="selectedMenu">Problems</a> &nbsp; &nbsp; <a href="/submit.aspx?space=89">Submit solution</a> &nbsp; &nbsp; <a href="/status.aspx?space=89">Judge status</a> &nbsp; &nbsp; <a href="/monitor.aspx?id=89">Standings</a></div><div style="margin-bottom:1em;"><div style="text-align:center; font-weight:bold;">Contest is over</div></div><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">J. Space Tourism</h2><div class="problem_limits">Time limit: 2.0 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">There are <i>n</i> planets in Betelgeuse star system. Each planet is inhabited 
by a single race, different planets can be inhabited by the same race. All planets move in circular orbits,
lie on a single ray starting at the star and have same constant angular velocity. Tourists
from other galaxies often ask the Ministry of Space Tourism to help them plan their journey.
They would like to be escorted to a planet, from which they can start their individual journey
on their own small spaceship.</div></div><div class="problem_par"><div class="problem_par_normal">Spaceships of all the tourists are equipped with a small fuel tank, which allows to
cover at most <i>d</i> astronomical units without reloading. Such a reloading can be made on any
planet of the system. Moreover, each ship can operate only in a fixed range of distances to the
star, where he can use the radiation energy. A tourist can be escorted to a planet only if
the distance from this planet to the star fall into this range.</div></div><div class="problem_par"><div class="problem_par_normal">The Ministry ordered you to calculate the maximal number of races each tourist can come in contact with.</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">The first line contains space-separated integers <i>n</i>, <i>s</i> and <i>d</i> (1 ≤ <i>n</i>, <i>s</i>, <i>d</i> ≤ 10<sup>5</sup>),
which are the number of planets in Betelgeuse star system, the number of known races and the maximal
distance each ship can fly without reloading, respectively. Each of the next <i>n</i> lines describes a planet and contains two space-separated
positive integers which are a distance from this planet to the star and a number of race which lives on this planet, respectively.
Races are numbered with integers from 1 to <i>s</i>. The distances from planets to Betelgeuse are all different and don't
exceed 10<sup>6</sup> astronomical units.
The next line contains a number of tourists <i>m</i> (1 ≤ <i>m</i> ≤ 10<sup>5</sup>). Each of the next <i>m</i> lines contains
two space-separated positive integers, which are the minimal and the maximal possible distance to the star at which the ship of the tourist
can operate in. These distances doesn't exceed 10<sup>6</sup>.</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">For each tourist, you should output the maximal number of races he can come in contact with.</div></div><h3 class="problem_subtitle">Sample</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>5 5 11
10 1
50 2
30 1
20 1
60 3
2
5 65
15 45
</pre></td><td><pre>2
1
</pre></td></tr></tbody></table><div class="problem_source"><b>Problem Author: </b>Dmitry Ivankov<br><b>Problem Source: </b>Ural SU Contest. Petrozavodsk Summer Session, August 2010<br></div></div></div><div class="problem_links"><a href="print.aspx?space=89&amp;num=10" target="_blank">Printable version</a><br></div>To submit the solution for this problem go to the Problem set: <a href="problem.aspx?space=1&amp;num=1850"><nobr>1850. Space Tourism</nobr></a></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table><img src="https://mc.yandex.ru/metrika/advert.gif" style="position: absolute; visibility: hidden; width: 0px; height: 0px;"></body></html>