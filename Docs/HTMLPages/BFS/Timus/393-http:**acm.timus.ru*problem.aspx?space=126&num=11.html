<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>K. Ivan's Car @ Ural Regional School Programming Contest 2012 @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=126&amp;num=11"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=126&amp;num=11&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=126&amp;num=11&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style52.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=126&amp;num=11&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=126&amp;num=11&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><h2 class="title">Ural Regional School Programming Contest 2012</h2><div style="text-align:center; margin-bottom:1em;"><a href="/contest.aspx?id=126">About</a> &nbsp; &nbsp; <a href="/problemset.aspx?space=126" class="selectedMenu">Problems</a> &nbsp; &nbsp; <a href="/submit.aspx?space=126">Submit solution</a> &nbsp; &nbsp; <a href="/status.aspx?space=126">Judge status</a> &nbsp; &nbsp; <a href="/monitor.aspx?id=126">Standings</a></div><div style="margin-bottom:1em;"><div style="text-align:center; font-weight:bold;">Contest is over</div></div><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">K. Ivan's Car</h2><div class="problem_limits">Time limit: 1.5 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">The world is in danger! Awful earthquakes are detected all over the world.
Houses are destroyed, rivers overflow the banks, it is almost impossible to move from one city to another.
Some roads are still useful, but even they became too steep because of soil movements.</div></div><div class="problem_par"><div class="problem_par_normal">Fortunately, engineer Ivan has a car, which can go well uphill and downhill. But there are different gear-modes for
movement up and down, so during the driving you have to change gear-modes all the time. Also engineer Ivan has a good friend&nbsp;–– geologist
Orlov. Together they are able to invent a plan for world saving. But, unfortunately, geologist Orlov lives in another town.</div></div><div class="problem_par"><div class="problem_par_normal">Ivan wants to save the world, but gear-box in his car started to wear out, so he doesn’t know, how long he will be able to use it.
Please help Ivan to save the world. Find a route to the Orlov's town, such that Ivan will have to change gear-modes as few times as possible. In the beginning of the way Ivan can turn on any of gear-modes and you don't have to count this action as a changing of gear-mode.</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">There are two positive integer numbers <i>n</i> and <i>m</i> in the first line, the number of towns and roads
between them respectively <nobr>(2 ≤ <i>n</i> ≤ 10&nbsp;000;</nobr> <nobr>1 ≤ <i>m</i> ≤ 100&nbsp;000).</nobr> Next <i>m</i> lines contain two numbers each&nbsp;— numbers of towns,
which are connected by road. Moreover, the first is the town, which is situated below, from which you should go uphill by this road. Every road can be used for traveling in any of two directions.
There is at most one road between any two cities. In the last line there are numbers of two cities, in which
Ivan and geologist Orlov live, respectively. Although the majority of roads were destroyed, Ivan knows exactly, that the way to geologist Orlov's city exists.</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">Output the smallest number of gear-modes changes on the way to Orlov's city.</div></div><h3 class="problem_subtitle">Samples</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>3 2
1 2
3 2
1 3
</pre></td><td><pre>1
</pre></td></tr><tr><td><pre>3 3
1 2
2 3
3 1
1 3
</pre></td><td><pre>0
</pre></td></tr></tbody></table><div class="problem_source"><b>Problem Author: </b>Grigoriy Nazarov (prepared by Bulat Zaynullin)
<br><b>Problem Source: </b>Ural Regional School Programming Contest 2012<br></div></div></div><div class="problem_links"><a href="print.aspx?space=126&amp;num=11" target="_blank">Printable version</a><br></div>To submit the solution for this problem go to the Problem set: <a href="problem.aspx?space=1&amp;num=1930"><nobr>1930. Ivan's Car</nobr></a></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table><img src="https://mc.yandex.ru/metrika/advert.gif" style="position: absolute; visibility: hidden; width: 0px; height: 0px;"></body></html>