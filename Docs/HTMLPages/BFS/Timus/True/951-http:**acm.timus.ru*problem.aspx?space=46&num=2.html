<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>B. Fireflies @ Timus Top Coders: First Challenge @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=46&amp;num=2"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=46&amp;num=2&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=46&amp;num=2&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style52.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=46&amp;num=2&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=46&amp;num=2&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><h2 class="title">Timus Top Coders: First Challenge</h2><div style="text-align:center; margin-bottom:1em;"><a href="/contest.aspx?id=46">About</a> &nbsp; &nbsp; <a href="/problemset.aspx?space=46" class="selectedMenu">Problems</a> &nbsp; &nbsp; <a href="/submit.aspx?space=46">Submit solution</a> &nbsp; &nbsp; <a href="/status.aspx?space=46">Judge status</a> &nbsp; &nbsp; <a href="/monitor.aspx?id=46">Standings</a></div><div style="margin-bottom:1em;"><div style="text-align:center; font-weight:bold;">Contest is over</div></div><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">B. Fireflies</h2><div class="problem_limits">Time limit: 3.0 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><h3 class="problem_subtitle">Background</h3><div class="problem_par"><div class="problem_par_normal">Beastly cold is chilling to the marrow. Blue radiance is scorching the eyes. The vortex of power is engulfing into the depth of the darkness which is impossible to return from… But it was not the end. Power and will prevail over all. By the last effort he raised his evanescent shadow and fell out from the darkness into the real world — straight onto cold floor.</div></div><div class="problem_par"><div class="problem_par_normal">Light wizard Anton Derevensky was lying in the middle of the room near a dilapidated sofa dolefully staring at the choppy ceiling. As a result of last night he had an insufferable headache as well as a strong desire to do something good. Something light.</div></div><div class="problem_par"><div class="problem_par_normal">Flies were flying within the room. A lot of flies. Dark creatures. They must be lead into the light. By several passes Mr. Derevensky froze all flies, so that they remained motionlessly fixed in the air. But last night’s feast required enormous energy costs, so Anton, who decided to inflame the flies to turn them to fireflies, was very surprised to discover that all his remained power is enough to create only one tiny fireball.</div></div><h3 class="problem_subtitle">Problem</h3><div class="problem_par"><div class="problem_par_normal">Mr. Derevensky had a drink of water and started to count the flies. It appeared that exactly N flies had been fixed in the air in expectation of their fate. Anton was running with a ruler all over the room all day long and finally calculated cartesian coordinates X<sub>i</sub>, Y<sub>i</sub> and Z<sub>i</sub> of each fly. Light wizard has decided to lead into the light as more flies as possible using a single fireball which can be cast in any point of the room and launched in any direction. A trajectory of the fireball is a  straight line. If a fly is hit by the fireball it turns to a firefly, and the fireball continues its flight in the same direction. Since Anton's lack of power you may neglect fireball's size and consider it as a point particle.</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">The first line contains the integer number N (1 ≤ N ≤ 2000). Each of the next N lines contains the integer numbers X<sub>i</sub>, Y<sub>i</sub> and Z<sub>i</sub> (−10<sup>7</sup> ≤ X<sub>i</sub>, Y<sub>i</sub>, Z<sub>i</sub> ≤ 10<sup>7</sup>) for the corresponding fly.</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">You should output the maximal number of flies which can be turned to fireflies using the fireball.</div></div><h3 class="problem_subtitle">Sample</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>6
-1 1 -1
0 1 2
0 0 -1
-2 -1 2
2 -1 -2
-1 0 2
</pre></td><td><pre>3
</pre></td></tr></tbody></table><div class="problem_source"><b>Problem Author: </b>Ilya Grebnov, Nikita Rybak, Dmitry Kovalioff<br><b>Problem Source: </b>Timus Top Coders: First Challenge<br></div></div></div><div class="problem_links"><a href="print.aspx?space=46&amp;num=2" target="_blank">Printable version</a><br></div>To submit the solution for this problem go to the Problem set: <a href="problem.aspx?space=1&amp;num=1422"><nobr>1422. Fireflies</nobr></a></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table><img src="https://mc.yandex.ru/metrika/advert.gif" style="position: absolute; visibility: hidden; width: 0px; height: 0px;"></body></html>