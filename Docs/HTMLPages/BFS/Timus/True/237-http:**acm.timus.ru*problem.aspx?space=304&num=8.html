<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>H. Hard Rock @ Ural Regional School Programming Contest 2015 @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=304&amp;num=8"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=304&amp;num=8&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=304&amp;num=8&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style52.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=304&amp;num=8&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=304&amp;num=8&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><h2 class="title">Ural Regional School Programming Contest 2015</h2><div style="text-align:center; margin-bottom:1em;"><a href="/contest.aspx?id=304">About</a> &nbsp; &nbsp; <a href="/problemset.aspx?space=304" class="selectedMenu">Problems</a> &nbsp; &nbsp; <a href="/submit.aspx?space=304">Submit solution</a> &nbsp; &nbsp; <a href="/status.aspx?space=304">Judge status</a> &nbsp; &nbsp; <a href="/monitor.aspx?id=304">Standings</a></div><div style="margin-bottom:1em;"><div style="text-align:center; font-weight:bold;">Contest is over</div></div><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">H. Hard Rock</h2><div class="problem_limits">Time limit: 1.0 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">Ilya is a frontman of the most famous rock band on Earth. Band decided to make the most awesome music video ever for their new single. In that music video Ilya will go through Manhattan standing on the top of a huge truck and playing amazing guitar solos. And during this show residents of the island will join in singing and shaking their heads. However, there is a problem. People on some streets hate rock.</div></div><div class="problem_par"><div class="problem_par_normal">Recall that Manhattan consists of <i>n</i> vertical and <i>m</i> horizontal streets which form the grid of (<i>n</i> − 1)×(<i>m</i> − 1) squares.
Band’s producer conducted a research and realized two things. First, band’s popularity is constant on each street. Second, a popularity can be denoted as an integer from 1 to 10<sup>9</sup>. For example, if rockers go along the street with popularity equal to 10<sup>9</sup> then people will greet them with a hail of applause, fireworks, laser show and boxes with... let it be an orange juice. On the other hand, if rockers go along the street with popularity equal to 1 then people will throw rotten tomatoes and eggs to the musicians. And this will not help to make the most awesome music video!</div></div><div class="problem_par"><div class="problem_par_normal">So, a route goes from the upper left corner to the bottom right corner. Let us define the route coolness as the minimal popularity over all streets in which rockers passed non-zero distance. As you have probably guessed, the musicians want to find the route with the maximal coolness. If you help them then Ilya will even give you his autograph!</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">In the first line there are integers <i>n</i> and <i>m</i> (2 ≤ <i>n</i>, <i>m</i> ≤ 10<sup>5</sup>), separated by space. These are the numbers of vertical and horizontal streets, respectively.</div></div><div class="problem_par"><div class="problem_par_normal">In the following <i>n</i> lines there are popularity values (one value on each line) on vertical streets in the order from left to right.</div></div><div class="problem_par"><div class="problem_par_normal">In the following <i>m</i> lines there are popularity values (one value on each line) on horizontal streets in the order from top to bottom.</div></div><div class="problem_par"><div class="problem_par_normal">It is guaranteed that all popularity values are integers from 1 to 10<sup>9</sup>.</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">Output a single integer which is a maximal possible route coolness.</div></div><h3 class="problem_subtitle">Samples</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>2 3
4
8
2
7
3
</pre></td><td><pre>4
</pre></td></tr><tr><td><pre>4 3
12
4
12
3
21
5
16
</pre></td><td><pre>12
</pre></td></tr></tbody></table><h3 class="problem_subtitle">Notes</h3><div class="problem_par"><div class="problem_par_normal">Explanation of the first sample (the "coolest" route is highlighted):</div></div><div class="problem_centered_picture"><img src="/image/get.aspx/be747141-bfb6-4192-b434-748fb413148a" border="0" alt="Problem illustration"></div><div class="problem_source"><b>Problem Author: </b>Oleg Merkurev (prepared by Alexander Borzunov)<br><b>Problem Source: </b>Ural Regional School Programming Contest 2015<br></div></div></div><div class="problem_links"><a href="print.aspx?space=304&amp;num=8" target="_blank">Printable version</a><br></div>To submit the solution for this problem go to the Problem set: <a href="problem.aspx?space=1&amp;num=2069"><nobr>2069. Hard Rock</nobr></a></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table><img src="https://mc.yandex.ru/metrika/advert.gif" style="position: absolute; visibility: hidden; width: 0px; height: 0px;"></body></html>