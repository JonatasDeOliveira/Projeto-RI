<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>B. Cube in a Cube in a Cube @ Ural SU Team.GOV contest. Petrozavodsk training camp. Summer 2011 @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=90&amp;num=2"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=90&amp;num=2&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=90&amp;num=2&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style52.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=90&amp;num=2&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=90&amp;num=2&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><h2 class="title">Ural SU Team.GOV contest. Petrozavodsk training camp. Summer 2011</h2><div style="text-align:center; margin-bottom:1em;"><a href="/contest.aspx?id=90">About</a> &nbsp; &nbsp; <a href="/problemset.aspx?space=90" class="selectedMenu">Problems</a> &nbsp; &nbsp; <a href="/submit.aspx?space=90">Submit solution</a> &nbsp; &nbsp; <a href="/status.aspx?space=90">Judge status</a> &nbsp; &nbsp; <a href="/monitor.aspx?id=90">Standings</a></div><div style="margin-bottom:1em;"><div style="text-align:center; font-weight:bold;">Contest is over</div></div><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">B. Cube in a Cube in a Cube</h2><div class="problem_limits">Time limit: 0.5 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">Denis had a <a href="http://en.wikipedia.org/wiki/Rubik%27s_Cube" target="_blank">Rubik's cube</a> covered with pretty patterns on his table.
When Denis quit the room, Vadik took the cube and made a few rotations.
But he got scared suddenly:
what if Denis get angry about the broken patterns?
Vadik wanted to restore the cube to the original state,
but could not find a way.</div></div><div class="problem_par"><div class="problem_par_normal">Vadik heard somewhere that if one repeats a sequence of rotations again
and again, one would get the original pattern at some point.
Given this is true, it is possible to revert the cube until Denis returns.
How many times does Vadik need to apply his sequence of rotations
in order to revert the cube to the original state?</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">The description of rotations applied by Vadik in the form of a string
consisting of letters “U”, “D”, “L”, “R”, “F” and “B”
(upper or lower case).
They mean rotations of top, bottom, left, right, front and back faces,
respectively.
Lowercase letters mean 90-degree clockwise rotations, uppercase letters mean
90-degree counterclockwise rotations.
The string is not empty and its length does not exceed 10<sup>5</sup>.</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">Output the number of times Vadik needs to apply his sequence of rotations in
order to get the original pattern.</div></div><h3 class="problem_subtitle">Samples</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>Ud
</pre></td><td><pre>3
</pre></td></tr><tr><td><pre>RRRR
</pre></td><td><pre>0
</pre></td></tr></tbody></table><div class="problem_source"><b>Problem Author: </b>Grigoriy Nazarov<br><b>Problem Source: </b>Ural SU Team.GOV Contest. Petrozavodsk Summer Session, August 2011<br></div></div></div><div class="problem_links"><a href="print.aspx?space=90&amp;num=2" target="_blank">Printable version</a><br></div>To submit the solution for this problem go to the Problem set: <a href="problem.aspx?space=1&amp;num=1852"><nobr>1852. Cube in a Cube in a Cube</nobr></a></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table><img src="https://mc.yandex.ru/metrika/advert.gif" style="position: absolute; visibility: hidden; width: 0px; height: 0px;"></body></html>