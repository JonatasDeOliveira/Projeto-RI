<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>I. Rabbit Hunt 2 @ Ural SU contest. Petrozavodsk training camp. Summer 2010 @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=89&amp;num=9"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=89&amp;num=9&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=89&amp;num=9&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style52.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=89&amp;num=9&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=89&amp;num=9&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><h2 class="title">Ural SU contest. Petrozavodsk training camp. Summer 2010</h2><div style="text-align:center; margin-bottom:1em;"><a href="/contest.aspx?id=89">About</a> &nbsp; &nbsp; <a href="/problemset.aspx?space=89" class="selectedMenu">Problems</a> &nbsp; &nbsp; <a href="/submit.aspx?space=89">Submit solution</a> &nbsp; &nbsp; <a href="/status.aspx?space=89">Judge status</a> &nbsp; &nbsp; <a href="/monitor.aspx?id=89">Standings</a></div><div style="margin-bottom:1em;"><div style="text-align:center; font-weight:bold;">Contest is over</div></div><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">I. Rabbit Hunt 2</h2><div class="problem_limits">Time limit: 4.0 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">A good hunter kills two rabbits with one shot. But you need to kill the maximal possible number of
rabbits with one shot to become the best hunter in the world. The program <i>Rabbit Hunt 2</i> might be
quite helpful. This program treats all rabbits as points on a plane. It reads coordinates of <i>n</i> rabbits
from the input, generates <i>q</i> different shooting propositions and chooses the one which leads to killing the maximal
number of rabbits. A shooting proposition is defined by coordinates of the hunter and the direction of shooting.
The shot kills all the rabbits lying on the corresponding ray including the rabbit situated at the same point as the hunter.</div></div><div class="problem_par"><div class="problem_par_normal">A proposition generator uses numbers <i>a</i><sub><i>x</i></sub>, <i>b</i><sub><i>x</i></sub>, <i>a</i><sub><i>y</i></sub>, <i>b</i><sub><i>y</i></sub>, <i>a</i><sub><i>vx</i></sub>, <i>b</i><sub><i>vx</i></sub>, <i>a</i><sub><i>vy</i></sub>, <i>b</i><sub><i>vy</i></sub>.
Coordinates of the hunter in the first proposition is (<i>x</i><sub>1</sub>,&nbsp;<i>y</i><sub>1</sub>), and a direction of shooting is (<i>vx</i><sub>1</sub>,&nbsp;<i>vy</i><sub>1</sub>).
Coordinates and direction in the <i>i</i>-th proposition (<i>i</i> &gt; 1) are calculated using these formulas:</div></div><div class="problem_centered_picture"><img src="/image/get.aspx/9f2d866d-9361-41c4-8347-e0650edd88ae" border="0" alt="Problem illustration"></div><div class="problem_par"><div class="problem_par_normal">Unfortunately, the program <i>Rabbit Hunt 2</i> doesn't exist yet. Your goal is to create it.</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">The first line contains a number of rabbis <i>n</i> (1 ≤ <i>n</i> ≤ 10&nbsp;000). The next <i>n</i> lines contain
the coordinates of rabbits. Coordinates are integers not exceeding 10&nbsp;000 in their absolute value.
No two rabbits are situated at the same point. The next line contains a number of shooting
propositions <i>q</i> (1 ≤ <i>q</i> ≤ 10<sup>6</sup>). The next line contains integers <i>x</i><sub>1</sub>, <i>y</i><sub>1</sub>, <i>vx</i><sub>1</sub>, <i>vy</i><sub>1</sub>
<nobr>(−10&nbsp;000 ≤ <i>x</i><sub>1</sub>, <i>y</i><sub>1</sub> ≤ 10&nbsp;000;</nobr> <nobr>−10 ≤ <i>vx</i><sub>1</sub>, <i>vy</i><sub>1</sub> ≤ 10)</nobr>. The last line contains non-negative integers
<i>a</i><sub><i>x</i></sub>, <i>b</i><sub><i>x</i></sub>, <i>a</i><sub><i>y</i></sub>, <i>b</i><sub><i>y</i></sub>, <i>a</i><sub><i>vx</i></sub>, <i>b</i><sub><i>vx</i></sub>, <i>a</i><sub><i>vy</i></sub>, <i>b</i><sub><i>vy</i></sub>. All these numbers don't exceed 10<sup>5</sup>.
It is guaranteed that the direction of shooting is a non-zero vector for all <i>q</i> propositions. All numbers in lines
are separated by single spaces.</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">Output the number of proposition resulting in the maximal quantity of killed rabbits and this quantity.
If there are several such propositions, output the one with the maximal number.</div></div><h3 class="problem_subtitle">Sample</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>4
0 0
2 0
3 0
2 2
3
-1 -1 1 0
1 0 1 1 1 0 1 0
</pre></td><td><pre>2 3
</pre></td></tr></tbody></table><div class="problem_source"><b>Problem Author: </b>Alex Samsonov<br><b>Problem Source: </b>Ural SU Contest. Petrozavodsk Summer Session, August 2010<br></div></div></div><div class="problem_links"><a href="print.aspx?space=89&amp;num=9" target="_blank">Printable version</a><br></div>To submit the solution for this problem go to the Problem set: <a href="problem.aspx?space=1&amp;num=1849"><nobr>1849. Rabbit Hunt 2</nobr></a></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table><img src="https://mc.yandex.ru/metrika/advert.gif" style="position: absolute; visibility: hidden; width: 0px; height: 0px;"></body></html>