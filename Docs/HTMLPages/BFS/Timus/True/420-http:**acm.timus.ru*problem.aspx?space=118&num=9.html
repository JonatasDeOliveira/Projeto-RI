<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>I. Brute-force Search @ Ural Championship 2012 @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=118&amp;num=9"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=118&amp;num=9&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=118&amp;num=9&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style52.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=118&amp;num=9&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=118&amp;num=9&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><h2 class="title">Ural Championship 2012</h2><div style="text-align:center; margin-bottom:1em;"><a href="/contest.aspx?id=118">About</a> &nbsp; &nbsp; <a href="/problemset.aspx?space=118" class="selectedMenu">Problems</a> &nbsp; &nbsp; <a href="/submit.aspx?space=118">Submit solution</a> &nbsp; &nbsp; <a href="/status.aspx?space=118">Judge status</a> &nbsp; &nbsp; <a href="/monitor.aspx?id=118">Standings</a></div><div style="margin-bottom:1em;"><div style="text-align:center; font-weight:bold;">Contest is over</div></div><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">I. Brute-force Search</h2><div class="problem_limits">Time limit: 1.0 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">Space tourism has gained unprecedented popularity in recent years. There 
are lots of people wishing to look closely at a triple star, walk on 
the surface of a small asteroid or plunge into the depths of a gas 
giant. Passenger ships began to fly between all popular star sectors. But 
there is a little problem—a flight to a place of interest may take 
several weeks, and you need to escape the boredom somehow, because 
even a view out of the observation window doesn't change very often.
That's why many people now take a great interest in reading visual novels.</div></div><div class="problem_par"><div class="problem_par_normal">A visual novel is one of the attempts to rethink the conventional literature which 
became possible after the mass transfer of books to electronic devices. The main 
difference of the visual novel from an usual book is that its plot 
can branch out, and after a few pages the reader may have 
more than one option of choosing which page is next. The moments when 
the reader has to make choices are called branches.</div></div><div class="problem_par"><div class="problem_par_normal">Many readers like to explore the entire novel, reading all possible 
scenarios. After reaching one of the possible endings, they return to the beginning 
of the story and try other plot variants. You, as the author of the novel “The 
song of Asya”, want to make life of such readers easier.
First, after reading several endings the reader forgets for 
what choices he has already explored all possible ways of further plot
development. So you have decided that the story should not offer options 
which lead the reader to the fully explored chains of events. Secondly, 
you have decided to add a button, which skips all the intermediate pages 
of a story to the nearest branch or the finale. If you accidentally 
press this button on a branch page, then nothing happens.</div></div><div class="problem_par"><div class="problem_par_normal">You have written all the chains of choices, leading to all the possible endings, and you 
want to assess the total number of button clicks needed to choose the plot lines 
and skip the unambiguous choices, which the reader needs in the best case to read the entire novel in all its versions.</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">The first line contains an integer <i>n</i> that is an amount of different endings of the story (1 ≤ <i>n</i> ≤ 10<sup>5</sup>).
The <i>i</i>'th from the following <i>n</i> lines contains a non-empty line of lowercase Latin letters, describing all choices of the plot on the way to the <i>i</i>'th ending.
It is guaranteed that none of the lines is a prefix of the other line.
The total length of lines does not exceed 10<sup>5</sup>.</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">Output the minimum amount of button clicks necessary to read all the possible variants of the plot.</div></div><h3 class="problem_subtitle">Sample</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>3
aza
azc
b
</pre></td><td><pre>4
</pre></td></tr></tbody></table><h3 class="problem_subtitle">Notes</h3><div class="problem_par"><div class="problem_par_normal">If we denote the choice button clicks with Latin letters, and 
the skip branch button clicks with the “*” symbol, 
then one of the optimal strategies is “b*c*”.</div></div><div class="problem_source"><b>Problem Author: </b>Denis Dublennykh (prepared by Alexander Fetisov)<br><b>Problem Source: </b>Ural Championship 2012<br></div></div></div><div class="problem_links"><a href="print.aspx?space=118&amp;num=9" target="_blank">Printable version</a><br></div>To submit the solution for this problem go to the Problem set: <a href="problem.aspx?space=1&amp;num=1908"><nobr>1908. Brute-force Search</nobr></a></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table><img src="https://mc.yandex.ru/metrika/advert.gif" style="position: absolute; visibility: hidden; width: 0px; height: 0px;"></body></html>