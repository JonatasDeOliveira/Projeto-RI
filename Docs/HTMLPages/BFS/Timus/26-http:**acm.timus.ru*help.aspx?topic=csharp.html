<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>How to write C# solutions @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/help.aspx?topic=csharp"><link rel="alternate" hreflang="en-us" href="/help.aspx?topic=csharp&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/help.aspx?topic=csharp&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style52.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/help.aspx?topic=csharp&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/help.aspx?topic=csharp&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><style>
			@import url(/prism.css);
		</style><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript" src="/prism.js"></script><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><h2 class="title">How to write C# solutions</h2><div id="help_text"><p class="help_par">Programs written in C# language are compiled on the server with <b>Microsoft Visual C# Compiler version 2.3.2.62019</b> (codename <b>Roslyn</b>) which is included in <b>Visual Studio 2017</b>. It implements C# language version 7.1 and targets to .NET Framework 4.7. The compiler is invoked with the following arguments:</p><pre class="with-background with-code language-none"><code class=" language-none">csc /o+ /d:ONLINE_JUDGE /r:System.Numerics.dll</code></pre><p class="help_par">The default stack size is set to 64 MB.</p><h3 class="subtitle">Examples of solving problems</h3><p class="help_par">This is a sample solution for the <a href="problem.aspx?space=1&amp;num=1000">A + B problem</a> in the C# language:</p><pre class="with-background with-code language-csharp"><code class=" language-csharp"><span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Sum</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> tokens <span class="token operator">=</span> Console<span class="token punctuation">.</span><span class="token function">ReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>tokens<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>tokens<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p class="help_par">Here is an example of a simple solution for the <a href="problem.aspx?space=1&amp;num=1001">Reverse root</a> problem in the C# language. It demonstrates some language features but it’s not the most efficient one. With character by character input you can get much less working time and memory usage.</p><pre class="with-background with-code language-csharp"><code class=" language-csharp"><span class="token keyword">using</span> System<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">.</span>Globalization<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReverseRoot</span>
<span class="token punctuation">{</span>
   <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      NumberFormatInfo nfi <span class="token operator">=</span> NumberFormatInfo<span class="token punctuation">.</span>InvariantInfo<span class="token punctuation">;</span>
      <span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> input <span class="token operator">=</span> Console<span class="token punctuation">.</span>In<span class="token punctuation">.</span><span class="token function">ReadToEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span>
         <span class="token keyword">new</span> <span class="token class-name">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span><span class="token string">' '</span><span class="token punctuation">,</span> <span class="token string">'\t'</span><span class="token punctuation">,</span> <span class="token string">'\n'</span><span class="token punctuation">,</span> <span class="token string">'\r'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
         StringSplitOptions<span class="token punctuation">.</span>RemoveEmptyEntries<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> input<span class="token punctuation">.</span>Length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         <span class="token keyword">double</span> root <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">Sqrt</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>input<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> nfi<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">Format</span><span class="token punctuation">(</span>nfi<span class="token punctuation">,</span> <span class="token string">"{0:F4}"</span><span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><h3 class="subtitle">Input/output</h3><p class="help_par">The standard input/output methods like <code>Console.ReadLine</code>, <code>String.Split</code> and <code>Console.WriteLine</code> are not always sufficient. In some problems it’s necessary to manually implement fast input reading or output formatting.</p><p class="help_par">In some problems numbers are not necessarily separated with single space. Instead of</p><pre class="with-background with-code language-none"><code class=" language-none">Console.ReadLine().Trim().Split(' ')</code></pre><p class="help_par">use this code</p><pre class="with-background with-code language-csharp"><code class=" language-csharp">Console<span class="token punctuation">.</span><span class="token function">ReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span><span class="token string">' '</span><span class="token punctuation">,</span> <span class="token string">'\t'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
   StringSplitOptions<span class="token punctuation">.</span>RemoveEmptyEntries<span class="token punctuation">)</span>
</code></pre><p class="help_par">Do not forget that the program can have any default culture. This is important when you need to read or write floating-point numbers: decimal separator can be configured in the system equal to either “.” or “,”. Currently the separator is set to “.” on the server, but it may be changed in the future. In order not to face culture problems pass invariant culture to all parse/formatting operation or set default culture for whole program:</p><pre class="with-background with-code language-csharp"><code class=" language-csharp">Thread<span class="token punctuation">.</span>CurrentThread<span class="token punctuation">.</span>CurrentCulture <span class="token operator">=</span>
   CultureInfo<span class="token punctuation">.</span>InvariantCulture<span class="token punctuation">;</span></code></pre><h3 class="subtitle">Earlier compilers</h3><ul><li class="help_par">Since December 31, 2006 till February 8, 2009 the Microsoft Visual C# 2005 Compiler 8.00.50727.42 (.NET 2.0) was used.</li><li class="help_par">Before August 4, 2010 the Microsoft Visual C# 2008 Compiler version 3.5.30729.1 (.NET 3.5) was used.</li><li class="help_par">Before September 1, 2017 the Microsoft Visual C# 2010 Compiler version 4.0.30319.1 (.NET 4.0) was used.</li><li class="help_par">Since February 18, 2013 till September 1, 2017 Microsoft Visual Basic 2010 (.NET 4.0) was used.</li></ul></div></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table><img src="https://mc.yandex.ru/metrika/advert.gif" style="position: absolute; visibility: hidden; width: 0px; height: 0px;"></body></html>