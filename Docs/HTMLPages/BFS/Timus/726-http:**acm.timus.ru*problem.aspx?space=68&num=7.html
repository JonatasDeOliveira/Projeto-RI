<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>G. Spider Mite @ USU Championship 2008 @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=68&amp;num=7"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=68&amp;num=7&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=68&amp;num=7&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style52.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=68&amp;num=7&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=68&amp;num=7&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><h2 class="title">USU Championship 2008</h2><div style="text-align:center; margin-bottom:1em;"><a href="/contest.aspx?id=68">About</a> &nbsp; &nbsp; <a href="/problemset.aspx?space=68" class="selectedMenu">Problems</a> &nbsp; &nbsp; <a href="/submit.aspx?space=68">Submit solution</a> &nbsp; &nbsp; <a href="/status.aspx?space=68">Judge status</a> &nbsp; &nbsp; <a href="/monitor.aspx?id=68">Standings</a></div><div style="margin-bottom:1em;"><div style="text-align:center; font-weight:bold;">Contest is over</div></div><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">G. Spider Mite</h2><div class="problem_limits">Time limit: 1.0 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">The young botanist Vanya decided to grow house plants in his apartment. He bought <i>N</i> tubs with orange trees. Unfortunately, in the summer all his trees became infected with spider mites, which ate away all the leaves. Vanya was very upset. The next day he bought an insecticide and sprayed the trees with it. The mites were killed and new leaves grew on the trees.
</div></div><div class="problem_par"><div class="problem_par_normal">After that Vanya opened his botany encyclopedia and read that it was not that easy to deal with spider mites. Even if all the mites on a plant died, there still remained their eggs in the soil, and new vermin would grow from these eggs in a certain period of time. To fight spider mites, the encyclopedia recommended to fix a permutation&nbsp;<i>P</i> and rearrange the tubs with plants according to the rule&nbsp;<i>P</i> after each spraying. It was claimed that all eggs would die as soon as all the tubs were returned to their original places for the first time.</div></div><div class="problem_par"><div class="problem_par_normal">Vanya decided to calculate how many times he would need to spray the trees. Let <nobr><i>N</i> = 5</nobr> and <nobr><i>P</i> = (4, 1, 5, 2, 3)</nobr>. Denote the initial arrangement of the tubs with orange trees by <nobr>1, 2, 3, 4, 5</nobr>. Then the tubs will occupy the following places:

<ul> <li>after the first spraying: 2, 4, 5, 1, 3;</li> <li>after the second spraying: 4, 1, 3, 2, 5;</li> <li>after the third spraying: 1, 2, 5, 4, 3;</li> <li>after the fourth spraying: 2, 4, 3, 1, 5;</li> <li>after the fifth spraying: 4, 1, 5, 2, 3;</li> <li>after the sixth spraying: 1, 2, 3, 4, 5.</li> </ul>

In this example, all spider mite eggs will be killed after six sprayings.</div></div><div class="problem_par"><div class="problem_par_normal">Assuming that all possible permutations of an <i>N</i>-element set are
equiprobable, you must determine the average number of sprayings needed to kill
all eggs.</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">You are given the number <i>N</i> of orange trees (<nobr>1 ≤ <i>N</i> ≤ 50</nobr>).</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">Calculate the average number of sprayings necessary for the total extermination of spider mites and their eggs, and output the integer part of this number.</div></div><h3 class="problem_subtitle">Sample</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>2
</pre></td><td><pre>1
</pre></td></tr></tbody></table><h3 class="problem_subtitle">Notes</h3><div class="problem_par"><div class="problem_par_normal">In the sample there exist two permutations of orange trees: (1, 2) and (2, 1). If the first permutation is chosen, then the mites will die immediately after the first spraying; in the case of the second permutation, the mites will die after the second spraying. Thus, the average number of sprayings is&nbsp;1.5.</div></div><div class="problem_source"><b>Problem Author: </b>Igor Chevdar (prepared by Alexander Ipatov)<br><b>Problem Source: </b>XIII Open USU Championship<br></div></div></div><div class="problem_links"><a href="print.aspx?space=68&amp;num=7" target="_blank">Printable version</a><br></div>To submit the solution for this problem go to the Problem set: <a href="problem.aspx?space=1&amp;num=1634"><nobr>1634. Spider Mite</nobr></a></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table><img src="https://mc.yandex.ru/metrika/advert.gif" style="position: absolute; visibility: hidden; width: 0px; height: 0px;"></body></html>