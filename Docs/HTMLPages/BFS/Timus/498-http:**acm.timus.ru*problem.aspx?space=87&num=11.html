<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>K. Victim of Advertising @ Ural Championship 2011 @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=87&amp;num=11"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=87&amp;num=11&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=87&amp;num=11&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style52.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=87&amp;num=11&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=87&amp;num=11&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><h2 class="title">Ural Championship 2011</h2><div style="text-align:center; margin-bottom:1em;"><a href="/contest.aspx?id=87">About</a> &nbsp; &nbsp; <a href="/problemset.aspx?space=87" class="selectedMenu">Problems</a> &nbsp; &nbsp; <a href="/submit.aspx?space=87">Submit solution</a> &nbsp; &nbsp; <a href="/status.aspx?space=87">Judge status</a> &nbsp; &nbsp; <a href="/monitor.aspx?id=87">Standings</a></div><div style="margin-bottom:1em;"><div style="text-align:center; font-weight:bold;">Contest is over</div></div><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">K. Victim of Advertising</h2><div class="problem_limits">Time limit: 0.5 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">Figure-skater Lev is preparing for his fifth Olympic Games. Together with his coach he is inventing a new free skating program, which will win the judges' hearts and guarantee Lev a gold medal if he performs it without mistakes.
</div></div><div class="problem_par"><div class="problem_par_normal">Lev practices twice a day, in the morning and in the evening. His wife is a well-known producer, and she wants to convert the time spent by her husband for practicing into money. She has signed a contract with the advertising agency “You See—You Buy,” which will shoot her husband at his training and make a cosmetics commercial with the use of this material.
</div></div><div class="problem_par"><div class="problem_par_normal">So, <i>n</i> cameramen have come to Lev's training. They plan to shoot Lev performing his free skating program: the first cameraman will start the shooting, the second will continue, and so on. Each of the cameramen wants Lev to skate along a segment of a straight line from some point to another (and each has specified his own pair of points). Lev has decided to skate along all the specified segments passing from a segment to a segment along a circular arc so that his trajectory has the shape of a smooth curve. If there is no arc connecting two consecutive directed segments without breaks, Lev can extend one of the segments so as to connect them by an arc.
</div></div><div class="problem_par"><div class="problem_par_normal">Lev has plotted a smooth curve passing through all the segments in the specified order, and now he is interested in finding the minimum time needed for skating along this curve. He knows that he cannot skate at a speed greater than 10 m/s or with a tangential acceleration greater than 1 m/s<sup>2</sup> in magnitude (a tangential acceleration is the acceleration directed along the trajectory). Moreover, Lev cannot skate along circular arcs with a centripetal acceleration greater than 1 m/s<sup>2</sup>. Recall that a centripetal acceleration is calculated as <i>v</i><sup>2</sup>/<i>R</i>, where <i>v</i> is the speed and <i>R</i> is the radius of the arc.
</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">The first line contains the integer <i>n</i> (1 ≤ <i>n</i> ≤ 1000). In the <i>i</i>-th of the following <i>n</i> lines you are given the coordinates of the beginning and of the end of the directed segment of a straight line specified by the <i>i</i>-th operator. The coordinates are integers and do not exceed 1000 in absolute value. No two consecutive segments are parallel and co-oriented. It is guaranteed that Lev can plot a smooth curve passing through all the segments.
</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">Output the minimum time (in seconds) Lev needs to skate along the smooth curve passing through the segments specified by the cameramen. Lev must start moving at the beginning of the first segment and finish at the end of the <i>n</i>-th segment. Lev's speed at the starting and finishing moments is zero. You must output the time with an absolute or relative error of at most 10<sup>−6</sup>.
</div></div><h3 class="problem_subtitle">Samples</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>1
0 0 4 0
</pre></td><td><pre>4.0000000000
</pre></td></tr><tr><td><pre>2
-2 4 0 4
4 0 4 -2
</pre></td><td><pre>7.1415926536
</pre></td></tr></tbody></table><div class="problem_source"><b>Problem Author: </b>Pavel Egorov<br><b>Problem Source: </b>Ural Championship 2011<br></div></div></div><div class="problem_links"><a href="print.aspx?space=87&amp;num=11" target="_blank">Printable version</a><br></div>To submit the solution for this problem go to the Problem set: <a href="problem.aspx?space=1&amp;num=1840"><nobr>1840. Victim of Advertising</nobr></a></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table><img src="https://mc.yandex.ru/metrika/advert.gif" style="position: absolute; visibility: hidden; width: 0px; height: 0px;"></body></html>