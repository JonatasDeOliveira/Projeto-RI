<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>F. Friends and Berries @ Ural Regional School Programming Contest 2015 @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=304&amp;num=6"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=304&amp;num=6&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=304&amp;num=6&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style52.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=304&amp;num=6&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=304&amp;num=6&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><h2 class="title">Ural Regional School Programming Contest 2015</h2><div style="text-align:center; margin-bottom:1em;"><a href="/contest.aspx?id=304">About</a> &nbsp; &nbsp; <a href="/problemset.aspx?space=304" class="selectedMenu">Problems</a> &nbsp; &nbsp; <a href="/submit.aspx?space=304">Submit solution</a> &nbsp; &nbsp; <a href="/status.aspx?space=304">Judge status</a> &nbsp; &nbsp; <a href="/monitor.aspx?id=304">Standings</a></div><div style="margin-bottom:1em;"><div style="text-align:center; font-weight:bold;">Contest is over</div></div><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">F. Friends and Berries</h2><div class="problem_limits">Time limit: 2.0 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">There is a group of <i>n</i> children. According to a proverb, every man to his own taste. So the children value strawberries and raspberries differently. Let’s say that <i>i</i>-th child rates his attachment to strawberry as <i>s</i><sub><i>i</i></sub> and his attachment to raspberry as <i>r</i><sub><i>i</i></sub>.</div></div><div class="problem_par"><div class="problem_par_normal">According to another proverb, opposites attract. Surprisingly, those children become friends whose tastes differ.</div></div><div class="problem_par"><div class="problem_par_normal">Let’s define friendliness between two children <i>v</i>, <i>u</i> as: <i>p</i>(<i>v</i>, <i>u</i>) = <i>sqrt</i>((<i>s</i><sub><i>v</i></sub> − <i>s</i><sub><i>u</i></sub>)<sup>2</sup> + (<i>r</i><sub><i>v</i></sub> − <i>r</i><sub><i>u</i></sub>)<sup>2</sup>)</div></div><div class="problem_par"><div class="problem_par_normal">The friendliness between three children <i>v</i>, <i>u</i>, <i>w</i> is the half the sum of pairwise friendlinesses: <i>p</i>(<i>v</i>,<i>u</i>,<i>w</i>) = (<i>p</i>(<i>v</i>,<i>u</i>) + <i>p</i>(<i>v</i>,<i>w</i>) + <i>p</i>(<i>u</i>,<i>w</i>)) / 2</div></div><div class="problem_par"><div class="problem_par_normal">The best friends are that pair of children <i>v</i>, <i>u</i> for which <i>v</i> ≠ <i>u</i> and <i>p</i>(<i>v</i>, <i>u</i>) ≥ <i>p</i>(<i>v</i>,<i>u</i>,<i>w</i>) for every child <i>w</i>. Your goal is to find all pairs of the best friends.</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">In the first line there is one integer <i>n</i>&nbsp;— the amount of children (2 ≤ <i>n</i> ≤ 2 · 10<sup>5</sup>).</div></div><div class="problem_par"><div class="problem_par_normal">In the next <i>n</i> lines there are two integers in each line&nbsp;— <i>s</i><sub><i>i</i></sub> and <i>r</i><sub><i>i</i></sub> (−10<sup>8</sup> ≤ <i>s</i><sub><i>i</i></sub>, <i>r</i><sub><i>i</i></sub> ≤ 10<sup>8</sup>).</div></div><div class="problem_par"><div class="problem_par_normal">It is guaranteed that for every two children their tastes differ. In other words, if <i>v</i> ≠ <i>u</i> then <i>s</i><sub><i>v</i></sub> ≠ <i>s</i><sub><i>u</i></sub> or <i>r</i><sub><i>v</i></sub> ≠ <i>r</i><sub><i>u</i></sub>.</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">Output the number of pairs of best friends in the first line.</div></div><div class="problem_par"><div class="problem_par_normal">Then output those pairs. Each pair should be printed on a separate line. One pair is two numbers&nbsp;— the indices of children in this pair. Children are numbered in the order of input starting from 1. You can output pairs in any order. You can output indices of the pair in any order.</div></div><div class="problem_par"><div class="problem_par_normal">It is guaranteed that the amount of pairs doesn’t exceed 10<sup>5</sup>.</div></div><h3 class="problem_subtitle">Samples</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>2
2 3
7 6
</pre></td><td><pre>1
1 2
</pre></td></tr><tr><td><pre>3
5 5
2 -4
-4 2
</pre></td><td><pre>0
</pre></td></tr></tbody></table><div class="problem_source"><b>Problem Author: </b>Alexey Danilyuk (prepared by Alexey Danilyuk, Alexander Borzunov)<br><b>Problem Source: </b>Ural Regional School Programming Contest 2015<br></div></div></div><div class="problem_links"><a href="print.aspx?space=304&amp;num=6" target="_blank">Printable version</a><br></div>To submit the solution for this problem go to the Problem set: <a href="problem.aspx?space=1&amp;num=2067"><nobr>2067. Friends and Berries</nobr></a></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table><img src="https://mc.yandex.ru/metrika/advert.gif" style="position: absolute; visibility: hidden; width: 0px; height: 0px;"></body></html>