<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>A. Cableways @ Ural SU contest. Petrozavodsk training camp. Summer 2010 @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=89&amp;num=1"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=89&amp;num=1&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=89&amp;num=1&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style52.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=89&amp;num=1&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=89&amp;num=1&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><h2 class="title">Ural SU contest. Petrozavodsk training camp. Summer 2010</h2><div style="text-align:center; margin-bottom:1em;"><a href="/contest.aspx?id=89">About</a> &nbsp; &nbsp; <a href="/problemset.aspx?space=89" class="selectedMenu">Problems</a> &nbsp; &nbsp; <a href="/submit.aspx?space=89">Submit solution</a> &nbsp; &nbsp; <a href="/status.aspx?space=89">Judge status</a> &nbsp; &nbsp; <a href="/monitor.aspx?id=89">Standings</a></div><div style="margin-bottom:1em;"><div style="text-align:center; font-weight:bold;">Contest is over</div></div><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">A. Cableways</h2><div class="problem_limits">Time limit: 1.0 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">Vova bought a new wide-angle lens for his camera a few days ago. Now he wants to take a
panoramic photo with this lens, and that is the reason why he decided to climb the nearest hill.</div></div><div class="problem_par"><div class="problem_par_normal">There is a single narrow serpentine path leading from base of the hill to its top.
Vova introduced coordinate axes in such a way that <i>OY</i> is directed along the hill side from
base to top and <i>OX</i> is orthogonal to it. The path is represented as a polyline with <i>n</i> segments,
vertices of which follow in the order of strictly increasing <i>y</i>-coordinate. For each segment of the path, Vova knows the
time required to change <i>x</i>-coordinate by one while moving along this segment.</div></div><div class="problem_par"><div class="problem_par_normal">Moreover, Vova can use cableways. They start at some point of the path, run strictly up the hill parallel to <i>OY</i> axis and end at the
next intersection with the path. Vova knows the time required to use each cableway.</div></div><div class="problem_par"><div class="problem_par_normal">Help Vova climb the hill before it gets dark! Note that Vova is so
determined that he will refuse to go down the hill even if this action helps him to
climb the hill faster.</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">The first line contains a number of segments in the path <i>n</i> (1 ≤ <i>n</i> ≤ 10<sup>5</sup>).
The next line contains <i>n</i> + 1 integers which are <i>x</i>-coordinates of polyline vertices in the order from
base to top. No two consecutive vertices have the same <i>x</i>-coordinate.
The <i>i</i>-th of the following <i>n</i> lines contains integers <i>v</i><sub><i>i</i></sub> and <i>m</i><sub><i>i</i></sub> which are time required to change <i>x</i>-coordinate by one
while moving along the <i>i</i>-th segment and a number of cableways starting at the <i>i</i>-th segment, respectively. The rest of this line
contains <i>m</i><sub><i>i</i></sub> pairs of integers describing the cableways. Each cableway is described with <i>x</i>-coordinate of its start point and
time required to use this cableway. The cableways are described in the order from base to top. No two cableways start
at the same point. If a cableway starts at the common point of two path segments, it encounters in the description of only one segment.
It is guaranteed that each cableway ends somewhere on the path.
All numbers in lines are separated by spaces. All coordinates don't exceed 10<sup>6</sup> in their absolute value.
All times are positive and don't exceed 10<sup>6</sup>. The total number of cableways doesn't exceed 10<sup>5</sup>.</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">Output the minimal time required to climb the hill.</div></div><h3 class="problem_subtitle">Samples</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>4
0 5 15 10 0
1 1 1 100
1 1 7 1 
1 0
1 0
</pre></td><td><pre>15
</pre></td></tr><tr><td><pre>3
0 10 0 10
10 0
10 1 10 1
10 0
</pre></td><td><pre>101
</pre></td></tr></tbody></table><div class="problem_source"><b>Problem Author: </b>Denis Dublennykh<br><b>Problem Source: </b>Ural SU Contest. Petrozavodsk Summer Session, August 2010<br></div></div></div><div class="problem_links"><a href="print.aspx?space=89&amp;num=1" target="_blank">Printable version</a><br></div>To submit the solution for this problem go to the Problem set: <a href="problem.aspx?space=1&amp;num=1841"><nobr>1841. Cableways</nobr></a></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table><img src="https://mc.yandex.ru/metrika/advert.gif" style="position: absolute; visibility: hidden; width: 0px; height: 0px;"></body></html>