<!DOCTYPE html><html lang="en"><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <!-- This should probably be done with a server-side include, but
         PHP is easier. -->
    <meta name="description" content="Woburn Collegiate Institute Programming
Enrichment Group Online Judge">
<meta name="keywords" content="PEG Judge,wcipeg.com,Online judge,Canadian
Computing Competition,CCC,American Computer Science League,ACSL,Programming
Enrichment Group,Validator,COCI,Croatian Open Competition in Informatics,
Woburn,Woburn Challenge,Woburn Collegiate Institute,APIO,Asian Pacific
Informatics Olympiad,BOI,Bulgarian Olympiad in Informatics,SMAC,Sane's Monthly
Algorithms Challenge,Problem Solving in Pascal,Bi-Weekly Challenge,Validator,
Hanson Wang,Canada">

    <title>PEG Judge - Return of the Digger</title>

    <link href="https://wcipeg.com/assets/css/common.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/submissions.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/bbcode.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/highlight/styles/idea.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/icons/favicon.ico" rel="shortcut icon" type="text/css">
    <link href="https://wcipeg.com/assets/css/style.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/jquery.autocomplete.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/desc.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/testcase_editor.css" rel="stylesheet" type="text/css">

    <script type="text/javascript">
        function get_csrf_key() {
            return "csrf_test_name";
        }
        function get_csrf_value() {
            return "8c45b434a3b7582378f7341582f131fd";
        }
        function get_site_url() {
            return "https:\/\/wcipeg.com\/";
        }
    </script>
    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-1.10.1.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-post-csrf.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/global.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment-timezone.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/highlight/highlight.pack.js"></script>    <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
  </head>

  <body style="">
    <div id="backheader"></div>
    <div id="backmenu"></div>

    <div id="wrapper">
      <div id="container">
        <div id="header">
          <div id="logo">
            <!-- TODO: Change "PEG" to something customizable -->
            <a href="https://wcipeg.com/main"><img src="https://wcipeg.com/assets/img/logo.gif" alt="PEG"></a>          </div>
          <div id="user">
                                      Please <a href="https://wcipeg.com/auth/login?ref=%2Fproblem%2FRetDig"><b>log in</b></a>              or <a href="https://wcipeg.com/auth/register"><b>register an account</b></a>.
                      </div> <!-- user -->
                  </div> <!-- header -->

<div id="menu">
  <ul class="nav">
        <li><a href="https://wcipeg.com/main">main</a></li>        <li><a href="https://wcipeg.com/announcements">announcements</a></li>        <li><a href="https://wcipeg.com/problems">problems</a></li>        <li><a href="https://wcipeg.com/submissions">submissions</a></li>        <li><a href="https://wcipeg.com/users">users</a></li>        <li><a href="https://wcipeg.com/organizations">organizations</a></li>        <li><a href="https://wcipeg.com/submit">submit</a></li>        <li><a href="https://wcipeg.com/contests">contests</a></li>        <li><a href="/wiki/Judge:Help" target="_blank">help (<strong>README</strong>)</a></li>        <li><a href="/wiki" target="_blank">wiki</a></li>        <li><a href="/legacy" target="_blank">old</a></li>        <li><a href="/wiki/Judge:Contact" target="_blank">contact</a></li>          </ul>
</div>

<div id="content">


<div id="descContent">
<style type="text/css">
    #descContent span.nobr {
        white-space: nowrap;
    }
    
    #input-table {
        text-align: justify;
    }

    #input-table > tbody > tr > td:first-child {
        vertical-align: top;
        width: 100px;
        text-align: left;
    }
</style>

<h2 align="center">Return of the Digger</h2>

<p>The adventures of "Digger" continue as he once again searches for treasure. This time, his money senses detect it underground. His plan is to dig down to it using an automatic pickaxe and his souped-up pneumatic drill.</p>

<p>The treasure is within a thin stretch of land, running West to East, that is made up of dirt and some rocks. The stretch is <var>L</var> (1 ≤ <var>L</var> ≤ 200) metres long. Digger's money senses are very exact, and he knows the location of the treasure he seeks - it is no more than 10000 metres below the surface. In addition to money senses, he apparently also has rock senses, which can pinpoint <var>N</var> (1 ≤ <var>N</var> ≤ 5000) rocks among the dirt, none of which will be at a depth of more than 10000 metres.</p>

<p>Digger's specially-designed pneumatic drill can only go straight down, and it can tunnel through dirt easily - however, it isn't equipped with breaks, so it keeps on going until it hits a rock. When this happens, it stops just above the rock, but the drill bit also breaks. This time, Digger doesn't have to worry about fuel - instead, he just wants to avoid breaking his drill bits! Once stationary, Digger can also use his pickaxe to dig left and right (yes, even through rocks!), but he can't dig up or down with it.</p>

<p>The treasure is pretty fragile, so Digger definitely doesn't want to drill right into it. Instead, he can either get to the same depth as it and use his pickaxe to dig to it, or he can use his pneumatic drill to go right past it (either 1 metre to the left or right of it). However, once he gets his hands on the treasure, Digger's plan isn't complete - he intends to keep drilling down until he gets to China. As such, he must first navigate past the deepest of the <var>N</var> rocks - at that point, it's all dirt (or so he hopes...).</p>

<p>Digger can start anywhere on the surface. Determine the minimum amount of drill bits that he must break in order to retrieve the treasure and dig down past all the rocks, if it's possible at all.</p>


<h3>Input</h3>

<table id="input-table">
<tbody><tr>
    <td>Line 1:</td>
    <td><var>L</var> and <var>N</var> — respectively, the length of the stretch of land and the number of rocks.</td>
</tr>
<tr>
    <td>Lines 2..<var>N</var>+1:</td>
    <td><var>A</var>, <var>B</var>, — the <var>i</var>-th line gives the location of the (<var>i</var>-1)-th rock, where <var>A</var> is its depth in metres, and <var>B</var> is its distance from the West edge of the stretch of land (in metres).</td>
</tr>
<tr>
    <td>Lines <var>N</var>+2:</td>
    <td><var>Y</var> and <var>X</var> — the location of the treasure, where <var>Y</var> is its depth in metres, and <var>X</var> is its distance from the West edge of the stretch of land (in metres). The treasure will not be within a rock.</td>
</tr>
</tbody></table>

<h3>Output</h3>

<p>If it's impossible for Digger to reach the treasure and dig down past all the rocks, output "<code>Use dynamite</code>".</p>
<p>Otherwise, output a single number - the minimum number of drill bits Digger must break to accomplish this.</p>

<h3>Sample Input</h3>
<pre>10 20
1 5
2 1
2 2
2 4
2 5
2 6
2 8
2 9
3 3
4 7
4 8
4 9
5 3
5 4
5 5
5 6
6 3
10 1
10 2
10 7
8 6</pre>

<h3>Explanation</h3>
<p>A bird's-eye-view cross-section of the cave would look like this ('<code>.</code>': dirt, '<code>x</code>': rock, '<code>T</code>': treasure):</p>
<pre>  0 2 4 etc
1 .....x....
  .xx.xxx.xx
3 ...x......
  .......xxx
5 ...xxxx...
  ...x.....
e ..........
t ......T...
c ..........
  .xx....x..
  ..........</pre>
  
<h3>Sample Output</h3>
<pre>3</pre>

<h3>Explanation</h3>
<p>Digger starts on the surface, 7 metres from the West edge of the stretch of land. He drills down for 3 metres until he hits a rock and breaks his first drill bit. He then uses his pickaxe to walk to the left, and drills down another metre, hitting another rock and breaking his second drill bit. He then walks to the rick (through a rock), and drills down for 5 metres, picking up the treasure on the way, until he hits another rock and breaks his third and final drill bit. He then walks to the right and drills down past the last rock. This route is shown below ('<code>D</code>': drill, '<code>&lt;</code>' or '<code>&gt;</code>': pickaxe):</p>
<pre>xxDxxxxxxxxx
xx...xxxxxxx
xxxxDDxxxxxx
xxxxx.xxxxxx
xxxxxDxxxxxx
xxxxx.Txxxxx
xxxxxxxxxxxx
xxxxxxxxxxxx
xxxxxxxxxxxx
xxxxxxxxxxxx
xxxxxxxxxxxx</pre>
</div>

<div id="descSidebar"> <!-- TODO: Make this nicer/more semantic -->
  <p>
        
        <a href="https://wcipeg.com/submissions/,RetDig">All Submissions</a>    <br>
    
        <a href="https://wcipeg.com/submissions/rank/RetDig">Best Solutions</a>        <br>
  </p>

  <p>
    
      </p>

  <p>
            <br>
  </p>

  <p>
    <!-- TODO: Move this into the controller -->
    <b>Point Value:</b> 15 (partial)<br>
    <b>Time Limit:</b> 1.00s<br>
    <b>Memory Limit:</b> 16M<br>
    <b>Added:</b> Oct 05, 2008<br>
        <b>Author:</b> <a href="https://wcipeg.com/user/SourSpinach">SourSpinach</a>  </p>

    <b>Problem Types:</b>
  <noscript>
    &lt;style type="text/css"&gt;
      #show_types, #hide_types { display: none !important; }
      #spoiler_id { display: inline !important; }
    &lt;/style&gt;
  </noscript>
  <a href="javascript:void(null);" id="show_types" onclick="document.getElementById('spoiler_id').style.display=''; document.getElementById('show_types').style.display='none';">[Show]</a>
  <span id="spoiler_id" style="display: none">
    <a href="javascript:void(null);" id="hide_types" onclick="document.getElementById('spoiler_id').style.display='none'; document.getElementById('show_types').style.display='';">[Hide]</a><br>
    <ul style="list-style-type: none; margin: 0; padding: 0;">
      <li>Graph Theory</li><li>Dynamic Programming</li>    </ul>
  </span>

  
  <p>
  <b>Languages Allowed:</b><br>
  <span title="C++03 (g++ 4.1.3)">C++03</span>, <span title="Pascal (fpc 2.6.0-9)">PAS</span>, <span title="C (gcc 4.7.2)">C</span>, <span title="Haskell (ghc-6.12.1)">HASK</span>, <span title="Intel x86 assembly (nasm 2.10.01)">ASM</span>, <span title="Ruby (ruby 2.1.2)">RUBY</span>, <span title="Python 2 (python 2.6.8)">PYTH2</span>, <span title="Java (OpenJDK javac 1.7.0_03)">JAVA</span>, <span title="PHP (PHP 5.4.4)">PHP</span>, <span title="Scheme (Racket v5.0.1) (NOT WORKING)">SCM</span>, <span title="OCaml (version 3.12.1)">CAML</span>, <span title="Perl, v5.10.1">PERL</span>, <span title="C# (Mono version 2.4.4.0) (NOT WORKING)">C#</span>, <span title="C++11 (g++ 4.9.1)">C++11</span>, <span title="Python 3 (python 3.2.3)">PYTH3</span>  </p>
</div> <!-- descSidebar -->

<div id="comments">
  <h2 class="icon" style="background: url(https://wcipeg.com/assets/icons/comment_bubble.png) no-repeat right top">Comments (<a href="https://wcipeg.com/comments/search/place=RetDig">Search</a>)</h2><p style="text-align: center"></p><div class="comment_block" id="comment2707">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/ryuuga">ryuuga</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/2707">Jul 20, 2010 - 12:53:30 am UTC</a>      </span>
      <a class="comment_title" id="title2707" onclick="toggle(&quot;body2707&quot;)">faster way?</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating2707">
    (<span class="upvotes"><span id="upvotes2707">0</span></span>/<span class="downvotes"><span id="downvotes2707">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body2707" class="comment_body">
    <pre id="msg2707" style="display: none">instead of dynamic, this can be done in a greedy way...
instead of minimum drill bits to be stationary at a certain level, 
  deepest valid level for a certain number of drill bits would be faster on average (less levels are likely to be checked)

PS. 
BB, Any good websites for IOI topics?
PPS
Omegle no longer works on this site</pre>
    <div style="opacity: 1">
      instead of dynamic, this can be done in a greedy way... <br>instead of minimum drill bits to be stationary at a certain level,  <br>  deepest valid level for a certain number of drill bits would be faster on average (less levels are likely to be checked) <br> <br>PS.  <br>BB, Any good websites for IOI topics? <br>PPS <br>Omegle no longer works on this site    </div>
    <br><div class="comment_block" id="comment2709">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/SourSpinach">SourSpinach</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/2709">Jul 21, 2010 - 1:51:22 pm UTC</a>      </span>
      <a class="comment_title" id="title2709" onclick="toggle(&quot;body2709&quot;)">Re: faster way?</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating2709">
    (<span class="upvotes"><span id="upvotes2709">0</span></span>/<span class="downvotes"><span id="downvotes2709">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body2709" class="comment_body">
    <pre id="msg2709" style="display: none">I never thought of a greedy approach, but your algorithm is absolutely correct, taking advantage of the fact that getting to depth X is at least as good as getting to any depth 0..X-1. Same worst-case runtime, but your solution is indeed faster on average, and is simpler to code - nicely done.</pre>
    <div style="opacity: 1">
      I never thought of a greedy approach, but your algorithm is absolutely correct, taking advantage of the fact that getting to depth X is at least as good as getting to any depth 0..X-1. Same worst-case runtime, but your solution is indeed faster on average, and is simpler to code - nicely done.    </div>
      </div>
</div>
<br><div class="comment_block" id="comment2717">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/bbi5291">bbi5291</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/2717">Jul 29, 2010 - 1:09:34 pm UTC</a>      </span>
      <a class="comment_title" id="title2717" onclick="toggle(&quot;body2717&quot;)">Re: faster way?</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating2717">
    (<span class="upvotes"><span id="upvotes2717">0</span></span>/<span class="downvotes"><span id="downvotes2717">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body2717" class="comment_body">
    <pre id="msg2717" style="display: none">Yes, for some reason Omegle Voyeur doesn't work on any machine I've ever owned. Sorry about that.</pre>
    <div style="opacity: 1">
      Yes, for some reason Omegle Voyeur doesn't work on any machine I've ever owned. Sorry about that.    </div>
      </div>
</div>
  </div>
</div>
<br>
<div class="comment_block" id="comment524">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/SourSpinach">SourSpinach</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/524">Nov 29, 2008 - 5:29:41 pm UTC</a>      </span>
      <a class="comment_title" id="title524" onclick="toggle(&quot;body524&quot;)">Hint</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating524">
    (<span class="upvotes"><span id="upvotes524">0</span></span>/<span class="downvotes"><span id="downvotes524">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body524" class="comment_body">
    <pre id="msg524" style="display: none">Since you can go left and right freely, if you're standing still at a certain depth, does your East/West position matter?

Also, if you're already below the treasure, make sure you've already picked it up - otherwise, there's no point in going on.

As such, you only really need to figure the minimum number of drill bits to be stationary (not in mid-drill) on a certain level.</pre>
    <div style="opacity: 1">
      Since you can go left and right freely, if you're standing still at a certain depth, does your East/West position matter? <br> <br>Also, if you're already below the treasure, make sure you've already picked it up - otherwise, there's no point in going on. <br> <br>As such, you only really need to figure the minimum number of drill bits to be stationary (not in mid-drill) on a certain level.    </div>
      </div>
</div>
<br>
</div>

<div style="clear: both">&nbsp;</div>

</div> <!-- content -->
</div> <!-- container -->
</div> <!-- wrapper -->

<div id="footer">
  <div id="footer_time_info">
    Loaded in 0.0215s.<br>
    Server time on page load:
    May 9, 2018 15:28:50 UTC 
    <br>
  </div>
  <div style="clear: both; height: 1ex"></div>

  <div style="float: right">
    <a href="https://wcipeg.com%2Fproblem%2FRetDig">Secure server</a>  </div>

<a href="http://www.debian.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/debian.png" alt="Powered by Debian GNU/Linux"></a>

<a href="http://www.apache.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/apache.gif" alt="Powered by Apache"></a>

<a href="http://www.mysql.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/mysql.png" alt="Powered by MySQL"></a>

<a href="http://www.php.net" target="_blank">
  <img src="https://wcipeg.com/assets/img/php.gif" alt="Powered by PHP"> 
</a>

<a href="http://www.openssl.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/openssl.png" alt="Powered by OpenSSL"> 
</a>

<a href="http://www.codeigniter.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/codeignited.gif" alt="Powered by CodeIgniter"> 
</a>

<a href="http://validator.w3.org/check?uri=referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/html5.png" alt="Valid HTML 5"></a>

<a href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/css3.png" alt="Valid CSS 3"></a>

<span title="Thanks to Naomi Cui for helping to create this image">
  <a href="http://git-scm.com/" target="_blank">
    <img src="https://wcipeg.com/assets/img/git-80x15-final.png" alt="git managed">  </a>
</span>

<br>

<div style="font-size: 85%; line-height: 1.5">
  <a href="/wiki/Judge:Copyright" target="_blank">Notes on copyright</a> |
  <a href="/wiki/Judge:TOS" target="_blank">Terms of service</a>
  <br>
  <a href="/wiki/Judge:Free_software" target="_blank">The PEG Judge is powered
  solely by free software.</a>
</div>
 
</div> <!-- footer -->



</body></html>