<!DOCTYPE html><html lang="en"><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <!-- This should probably be done with a server-side include, but
         PHP is easier. -->
    <meta name="description" content="Woburn Collegiate Institute Programming
Enrichment Group Online Judge">
<meta name="keywords" content="PEG Judge,wcipeg.com,Online judge,Canadian
Computing Competition,CCC,American Computer Science League,ACSL,Programming
Enrichment Group,Validator,COCI,Croatian Open Competition in Informatics,
Woburn,Woburn Challenge,Woburn Collegiate Institute,APIO,Asian Pacific
Informatics Olympiad,BOI,Bulgarian Olympiad in Informatics,SMAC,Sane's Monthly
Algorithms Challenge,Problem Solving in Pascal,Bi-Weekly Challenge,Validator,
Hanson Wang,Canada">

    <title>PEG Judge - 2048</title>

    <link href="https://wcipeg.com/assets/css/common.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/submissions.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/bbcode.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/highlight/styles/idea.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/icons/favicon.ico" rel="shortcut icon" type="text/css">
    <link href="https://wcipeg.com/assets/css/style.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/jquery.autocomplete.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/desc.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/testcase_editor.css" rel="stylesheet" type="text/css">

    <script type="text/javascript">
        function get_csrf_key() {
            return "csrf_test_name";
        }
        function get_csrf_value() {
            return "a5a6da31e315e7ee609958a2aedecd0f";
        }
        function get_site_url() {
            return "https:\/\/wcipeg.com\/";
        }
    </script>
    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-1.10.1.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-post-csrf.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/global.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment-timezone.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/highlight/highlight.pack.js"></script>    <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
  </head>

  <body style="">
    <div id="backheader"></div>
    <div id="backmenu"></div>

    <div id="wrapper">
      <div id="container">
        <div id="header">
          <div id="logo">
            <!-- TODO: Change "PEG" to something customizable -->
            <a href="https://wcipeg.com/main"><img src="https://wcipeg.com/assets/img/logo.gif" alt="PEG"></a>          </div>
          <div id="user">
                                      Please <a href="https://wcipeg.com/auth/login?ref=%2Fproblem%2F2048"><b>log in</b></a>              or <a href="https://wcipeg.com/auth/register"><b>register an account</b></a>.
                      </div> <!-- user -->
                  </div> <!-- header -->

<div id="menu">
  <ul class="nav">
        <li><a href="https://wcipeg.com/main">main</a></li>        <li><a href="https://wcipeg.com/announcements">announcements</a></li>        <li><a href="https://wcipeg.com/problems">problems</a></li>        <li><a href="https://wcipeg.com/submissions">submissions</a></li>        <li><a href="https://wcipeg.com/users">users</a></li>        <li><a href="https://wcipeg.com/organizations">organizations</a></li>        <li><a href="https://wcipeg.com/submit">submit</a></li>        <li><a href="https://wcipeg.com/contests">contests</a></li>        <li><a href="/wiki/Judge:Help" target="_blank">help (<strong>README</strong>)</a></li>        <li><a href="/wiki" target="_blank">wiki</a></li>        <li><a href="/legacy" target="_blank">old</a></li>        <li><a href="/wiki/Judge:Contact" target="_blank">contact</a></li>          </ul>
</div>

<div id="content">


<div id="descContent">
<h3>ECOO Practice 2014</h3>
<h2>Problem 4: 2048</h2>

<p>2048 is a popular single-player online game where the player is given a 4×4 grid where they must slide number tiles around to combine them into the 2048 tile. When an arrow key (up, down, left, or right) is pressed, all the tiles on the grid slide in the specified direction. Tiles stop sliding when they hit the edge of the board or a different numbered tile. When two tiles of the same value collide with each other, they fuse into one tile whose value is the sum of the values of the two initial tiles. The following is an example of making a move (pressing the UP arrow key) in an in-progress game of 2048.</p>

<img src="images/2048/2048.1.png" width="600px" alt="">

<p>Note that there are three 4-tiles in the leftmost column. By pressing UP, all of the tiles try to slide upward. The two topmost 4-tiles in the leftmost column gets fused into an 8-tile. The bottommost 4-tile slides up, but cannot get fused anymore. The 2-tile in the bottom-right corner also slides upward and gets fused with the 2-tile above it. It just so happens that a new 2-tile pops into the grid at the bottom-left corner after making this move.</p>

<p>In the real 2048 game, a new tile always pops into somewhere on the grid for every move you make. For the purposes of this problem, no new tiles will appear. Your task is, given the setup of an in-progress game of 2048, determine the value of the largest possible tile you can create by any series of up, down, left, or right slides if no new tiles are introduced to the grid.</p>

<h3>Input</h3>
<p>The input will consist of 5 test cases. Each test case will consist 4 lines, each with 4 columns — a 4×4 grid of values. Numbers in the input will be from the set {0, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 2048}. A value of 0 indicates that the position in the grid is unoccupied. The input positions will be such that 2048 is the largest possible value you can attain.</p>

<h3>Output</h3>
<p>For each test case, output one integer — the largest tile you can produce by any (possible length-zero) sequence of moves from the given game setup, if no new tiles were to be introduced to the grid.</p>

<h3>Sample Input</h3>
<pre>2 64 4 32
8 16 8 4
4 32 4 0
2 2 0 0
0 0 0 2
0 0 0 2
0 0 0 0
0 0 0 2
2 4 8 2
0 2 0 8
0 0 0 0
0 0 0 0
4 32 8 0
2 64 4 2
8 4 2 0
2 0 0 0
256 256 0 0
256 256 0 0
256 256 0 0
256 256 0 0
</pre>

<h3>Sample Output</h3>
<pre>128
4
16
128
2048
</pre>

<h3>Explanation</h3>
<p>For the first case in the sample input (depicted by the second diagram above), the largest obtainable tile assuming no new tiles pop in is the 128-tile. One way to do is through the sequence of moves: right (shift the bottom-leftmost 4-tile under the other 4-tile), up (merge the 4-tiles), left (merge the 8-tiles), left (merge the 16-tiles), up (merge the 32-tiles), up (merge the 64-tiles).</p>

<img src="images/2048/2048.2.png" width="700px" alt="">
</div>

<div id="descSidebar"> <!-- TODO: Make this nicer/more semantic -->
  <p>
        
        <a href="https://wcipeg.com/submissions/,2048">All Submissions</a>    <br>
    
        <a href="https://wcipeg.com/submissions/rank/2048">Best Solutions</a>        <br>
  </p>

  <p>
    
      </p>

  <p>
            <br>
  </p>

  <p>
    <!-- TODO: Move this into the controller -->
    <b>Point Value:</b> 15<br>
    <b>Time Limit:</b> 5.00s<br>
    <b>Memory Limit:</b> 16M<br>
    <b>Added:</b> Jun 29, 2014<br>
        <b>Author:</b> <a href="https://wcipeg.com/user/Alex">Alex</a>  </p>

  
  <p>
  <b>Languages Allowed:</b><br>
  <span title="C++03 (g++ 4.1.3)">C++03</span>, <span title="Pascal (fpc 2.6.0-9)">PAS</span>, <span title="C (gcc 4.7.2)">C</span>, <span title="Haskell (ghc-6.12.1)">HASK</span>, <span title="Intel x86 assembly (nasm 2.10.01)">ASM</span>, <span title="Ruby (ruby 2.1.2)">RUBY</span>, <span title="Python 2 (python 2.6.8)">PYTH2</span>, <span title="PHP (PHP 5.4.4)">PHP</span>, <span title="Scheme (Racket v5.0.1) (NOT WORKING)">SCM</span>, <span title="OCaml (version 3.12.1)">CAML</span>, <span title="Perl, v5.10.1">PERL</span>, <span title="C# (Mono version 2.4.4.0) (NOT WORKING)">C#</span>, <span title="C++11 (g++ 4.9.1)">C++11</span>, <span title="Python 3 (python 3.2.3)">PYTH3</span>  </p>
</div> <!-- descSidebar -->

<div id="comments">
  <h2 class="icon" style="background: url(https://wcipeg.com/assets/icons/comment_bubble.png) no-repeat right top">Comments (<a href="https://wcipeg.com/comments/search/place=2048">Search</a>)</h2><p style="text-align: center"></p><div class="comment_block" id="comment8847">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/magicalsoup">magicalsoup</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/8847">Apr 21, 2018 - 11:57:25 pm UTC</a>      </span>
      <a class="comment_title" id="title8847" onclick="toggle(&quot;body8847&quot;)">can someone help me?</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating8847">
    (<span class="upvotes"><span id="upvotes8847">1</span></span>/<span class="downvotes"><span id="downvotes8847">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body8847" class="comment_body">
    <pre id="msg8847" style="display: none">My code seems fine and i tried rubber ducking the code and i don't see anything wrong with it, can someone help me?</pre>
    <div style="opacity: 1">
      My code seems fine and i tried rubber ducking the code and i don't see anything wrong with it, can someone help me?    </div>
      </div>
</div>
<br>
<div class="comment_block" id="comment7789">
  <div class="comment_header" style="opacity: 0.97432104405103">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/IMAGenius">IMAGenius</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/7789">Nov 17, 2016 - 5:23:29 pm UTC</a>      </span>
      <a class="comment_title" id="title7789" onclick="toggle(&quot;body7789&quot;)"></a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating7789">
    (<span class="upvotes"><span id="upvotes7789">6</span></span>/<span class="downvotes"><span id="downvotes7789">1</span></span>)
  </li>
  </ul>  </div>
  <div id="body7789" class="comment_body">
    <pre id="msg7789" style="display: none">This question is very hard</pre>
    <div style="opacity: 0.97432104405103">
      This question is very hard    </div>
    <br><div class="comment_block" id="comment8441">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/Kizana">Kizana</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/8441">Dec 05, 2017 - 10:07:42 pm UTC</a>      </span>
      <a class="comment_title" id="title8441" onclick="toggle(&quot;body8441&quot;)">Re: ...</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating8441">
    (<span class="upvotes"><span id="upvotes8441">0</span></span>/<span class="downvotes"><span id="downvotes8441">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body8441" class="comment_body">
    <pre id="msg8441" style="display: none">still do not under stand
</pre>
    <div style="opacity: 1">
      still do not under stand    </div>
    <br><div class="comment_block" id="comment8605">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/UnderminedExplosion">UnderminedExplosion</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/8605">Jan 28, 2018 - 10:28:14 pm UTC</a>      </span>
      <a class="comment_title" id="title8605" onclick="toggle(&quot;body8605&quot;)">Re: ...</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating8605">
    (<span class="upvotes"><span id="upvotes8605">0</span></span>/<span class="downvotes"><span id="downvotes8605">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body8605" class="comment_body">
    <pre id="msg8605" style="display: none">im
</pre>
    <div style="opacity: 1">
      im    </div>
      </div>
</div>
  </div>
</div>
  </div>
</div>
<br>
<div class="comment_block" id="comment6298">
  <div class="comment_header" style="opacity: 0.98727811388771">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/iamogbz">iamogbz</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/6298">Nov 14, 2014 - 11:10:40 am UTC</a>      </span>
      <a class="comment_title" id="title6298" onclick="toggle(&quot;body6298&quot;)">Java code submission not supported.</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating6298">
    (<span class="upvotes"><span id="upvotes6298">13</span></span>/<span class="downvotes"><span id="downvotes6298">1</span></span>)
  </li>
  </ul>  </div>
  <div id="body6298" class="comment_body">
    <pre id="msg6298" style="display: none">2048 not a valid class name so results in perpetual compile error</pre>
    <div style="opacity: 0.98727811388771">
      2048 not a valid class name so results in perpetual compile error    </div>
    <br><div class="comment_block" id="comment6310">
  <div class="comment_header" style="opacity: 0.54741665632719">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/bbi5291">bbi5291</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/6310">Nov 16, 2014 - 10:34:02 pm UTC</a>      </span>
      <a class="comment_title" id="title6310" onclick="toggle(&quot;body6310&quot;)">Re: Java code submission not supported.</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating6310">
    (<span class="upvotes"><span id="upvotes6310">2</span></span>/<span class="downvotes"><span id="downvotes6310">7</span></span>)
  </li>
  </ul>  </div>
  <div id="body6310" class="comment_body">
    <pre id="msg6310" style="display: none">This is an known issue that will be fixed eventually</pre>
    <div style="opacity: 0.54741665632719">
      This is an known issue that will be fixed eventually    </div>
    <br><div class="comment_block" id="comment7710">
  <div class="comment_header" style="opacity: 0.96898113154642">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/rikukawai">rikukawai</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/7710">Oct 13, 2016 - 8:07:12 pm UTC</a>      </span>
      <a class="comment_title" id="title7710" onclick="toggle(&quot;body7710&quot;)">Re: Java code submission not supported.</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating7710">
    (<span class="upvotes"><span id="upvotes7710">16</span></span>/<span class="downvotes"><span id="downvotes7710">2</span></span>)
  </li>
  </ul>  </div>
  <div id="body7710" class="comment_body">
    <pre id="msg7710" style="display: none">Not to be rude, but it's been 23 months and it's still not fixed.</pre>
    <div style="opacity: 0.96898113154642">
      Not to be rude, but it's been 23 months and it's still not fixed.    </div>
    <br><div class="comment_block" id="comment8251">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/nopu">nopu</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/8251">Sep 28, 2017 - 12:53:10 am UTC</a>      </span>
      <a class="comment_title" id="title8251" onclick="toggle(&quot;body8251&quot;)">Re: Java code submission not supported.</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating8251">
    (<span class="upvotes"><span id="upvotes8251">5</span></span>/<span class="downvotes"><span id="downvotes8251">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body8251" class="comment_body">
    <pre id="msg8251" style="display: none">1 year later it still isnt fixed</pre>
    <div style="opacity: 1">
      1 year later it still isnt fixed    </div>
    <br><div class="comment_block" id="comment8483">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/Panicatol648989">Panicatol648989</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/8483">Dec 25, 2017 - 7:23:12 pm UTC</a>      </span>
      <a class="comment_title" id="title8483" onclick="toggle(&quot;body8483&quot;)">Re: Java code submission not supported.</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating8483">
    (<span class="upvotes"><span id="upvotes8483">1</span></span>/<span class="downvotes"><span id="downvotes8483">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body8483" class="comment_body">
    <pre id="msg8483" style="display: none">They should at least change the "Languages Allowed" section</pre>
    <div style="opacity: 1">
      They should at least change the "Languages Allowed" section    </div>
    <br><div class="comment_block" id="comment8488">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/jargon">jargon</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/8488">Dec 26, 2017 - 7:17:34 pm UTC</a>      </span>
      <a class="comment_title" id="title8488" onclick="toggle(&quot;body8488&quot;)">Re: Java code submission not supported.</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating8488">
    (<span class="upvotes"><span id="upvotes8488">1</span></span>/<span class="downvotes"><span id="downvotes8488">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body8488" class="comment_body">
    <pre id="msg8488" style="display: none">Okay, I've done so.</pre>
    <div style="opacity: 1">
      Okay, I've done so.    </div>
    <br><div class="comment_block" id="comment8494">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/Panicatol648989">Panicatol648989</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/8494">Dec 29, 2017 - 2:33:41 am UTC</a>      </span>
      <a class="comment_title" id="title8494" onclick="toggle(&quot;body8494&quot;)">Re: Java code submission not supported.</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating8494">
    (<span class="upvotes"><span id="upvotes8494">0</span></span>/<span class="downvotes"><span id="downvotes8494">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body8494" class="comment_body">
    <pre id="msg8494" style="display: none">Thank you jargon</pre>
    <div style="opacity: 1">
      Thank you jargon    </div>
      </div>
</div>
  </div>
</div>
  </div>
</div>
  </div>
</div>
  </div>
</div>
  </div>
</div>
  </div>
</div>
<br>
<div class="comment_block" id="comment7430">
  <div class="comment_header" style="opacity: 0.76341040638451">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/334753316">334753316</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/7430">Feb 05, 2016 - 10:09:46 pm UTC</a>      </span>
      <a class="comment_title" id="title7430" onclick="toggle(&quot;body7430&quot;)">yo</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating7430">
    (<span class="upvotes"><span id="upvotes7430">5</span></span>/<span class="downvotes"><span id="downvotes7430">5</span></span>)
  </li>
  </ul>  </div>
  <div id="body7430" class="comment_body">
    <pre id="msg7430" style="display: none">u guys are awesome</pre>
    <div style="opacity: 0.76341040638451">
      u guys are awesome    </div>
      </div>
</div>
<br>
</div>

<div style="clear: both">&nbsp;</div>

</div> <!-- content -->
</div> <!-- container -->
</div> <!-- wrapper -->

<div id="footer">
  <div id="footer_time_info">
    Loaded in 0.0507s.<br>
    Server time on page load:
    Jun 24, 2018 06:56:05 UTC 
    <br>
  </div>
  <div style="clear: both; height: 1ex"></div>

  <div style="float: right">
    <a href="https://wcipeg.com%2Fproblem%2F2048">Secure server</a>  </div>

<a href="http://www.debian.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/debian.png" alt="Powered by Debian GNU/Linux"></a>

<a href="http://www.apache.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/apache.gif" alt="Powered by Apache"></a>

<a href="http://www.mysql.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/mysql.png" alt="Powered by MySQL"></a>

<a href="http://www.php.net" target="_blank">
  <img src="https://wcipeg.com/assets/img/php.gif" alt="Powered by PHP"> 
</a>

<a href="http://www.openssl.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/openssl.png" alt="Powered by OpenSSL"> 
</a>

<a href="http://www.codeigniter.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/codeignited.gif" alt="Powered by CodeIgniter"> 
</a>

<a href="http://validator.w3.org/check?uri=referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/html5.png" alt="Valid HTML 5"></a>

<a href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/css3.png" alt="Valid CSS 3"></a>

<span title="Thanks to Naomi Cui for helping to create this image">
  <a href="http://git-scm.com/" target="_blank">
    <img src="https://wcipeg.com/assets/img/git-80x15-final.png" alt="git managed">  </a>
</span>

<br>

<div style="font-size: 85%; line-height: 1.5">
  <a href="/wiki/Judge:Copyright" target="_blank">Notes on copyright</a> |
  <a href="/wiki/Judge:TOS" target="_blank">Terms of service</a>
  <br>
  <a href="/wiki/Judge:Free_software" target="_blank">The PEG Judge is powered
  solely by free software.</a>
</div>
 
</div> <!-- footer -->



</body></html>