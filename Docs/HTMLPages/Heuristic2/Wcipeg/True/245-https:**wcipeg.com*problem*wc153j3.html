<!DOCTYPE html><html lang="en"><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <!-- This should probably be done with a server-side include, but
         PHP is easier. -->
    <meta name="description" content="Woburn Collegiate Institute Programming
Enrichment Group Online Judge">
<meta name="keywords" content="PEG Judge,wcipeg.com,Online judge,Canadian
Computing Competition,CCC,American Computer Science League,ACSL,Programming
Enrichment Group,Validator,COCI,Croatian Open Competition in Informatics,
Woburn,Woburn Challenge,Woburn Collegiate Institute,APIO,Asian Pacific
Informatics Olympiad,BOI,Bulgarian Olympiad in Informatics,SMAC,Sane's Monthly
Algorithms Challenge,Problem Solving in Pascal,Bi-Weekly Challenge,Validator,
Hanson Wang,Canada">

    <title>PEG Judge - WC15 #3 - Red Sun Simulator</title>

    <link href="https://wcipeg.com/assets/css/common.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/submissions.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/bbcode.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/highlight/styles/idea.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/icons/favicon.ico" rel="shortcut icon" type="text/css">
    <link href="https://wcipeg.com/assets/css/style.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/jquery.autocomplete.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/desc.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/testcase_editor.css" rel="stylesheet" type="text/css">

    <script type="text/javascript">
        function get_csrf_key() {
            return "csrf_test_name";
        }
        function get_csrf_value() {
            return "3d9c83c15e0f324305366b918ab3d51c";
        }
        function get_site_url() {
            return "https:\/\/wcipeg.com\/";
        }
    </script>
    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-1.10.1.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-post-csrf.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/global.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment-timezone.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/highlight/highlight.pack.js"></script>    <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
  </head>

  <body style="">
    <div id="backheader"></div>
    <div id="backmenu"></div>

    <div id="wrapper">
      <div id="container">
        <div id="header">
          <div id="logo">
            <!-- TODO: Change "PEG" to something customizable -->
            <a href="https://wcipeg.com/main"><img src="https://wcipeg.com/assets/img/logo.gif" alt="PEG"></a>          </div>
          <div id="user">
                                      Please <a href="https://wcipeg.com/auth/login?ref=%2Fproblem%2Fwc153j3"><b>log in</b></a>              or <a href="https://wcipeg.com/auth/register"><b>register an account</b></a>.
                      </div> <!-- user -->
                  </div> <!-- header -->

<div id="menu">
  <ul class="nav">
        <li><a href="https://wcipeg.com/main">main</a></li>        <li><a href="https://wcipeg.com/announcements">announcements</a></li>        <li><a href="https://wcipeg.com/problems">problems</a></li>        <li><a href="https://wcipeg.com/submissions">submissions</a></li>        <li><a href="https://wcipeg.com/users">users</a></li>        <li><a href="https://wcipeg.com/organizations">organizations</a></li>        <li><a href="https://wcipeg.com/submit">submit</a></li>        <li><a href="https://wcipeg.com/contests">contests</a></li>        <li><a href="/wiki/Judge:Help" target="_blank">help (<strong>README</strong>)</a></li>        <li><a href="/wiki" target="_blank">wiki</a></li>        <li><a href="/legacy" target="_blank">old</a></li>        <li><a href="/wiki/Judge:Contact" target="_blank">contact</a></li>          </ul>
</div>

<div id="content">


<div id="descContent">
<h3>Woburn Challenge 2015-16 Round 3 - Junior Division</h3>
<h2>Problem 3: Red Sun Simulator</h2>

<img src="images/wc153j3/wc153j3.png" alt="" style="float:right; height:200px; padding:25px; padding-top: 0;">

<p>Being a masterful tactician, Batman wants to take advantage of his opponent's every weakness in battle. Too bad there just aren't many weaknesses of Superman. Though Superman's most famous weakness is Kryptonite, Batman's Kryptonite-laced weapons may still not be enough to help him win. A lesser known weakness of Super is the red sun. The red sun on Krypton is much less radiant than the yellow sun on Earth, which is why native Kryptonians aren't naturally as strong as Superman. It is only because Superman grew up on Earth that his powers are acquainted to and magnified by our powerful yellow sun's radiation.</p>

<p>Without a yellow sun, Superman's powers will be temporarily weakened. Even for Batman, it is quite near impossible to block out yellow sun radiation altogether. However, Batman believes that if he is able to temporarily convert the yellow sun radiation to red sun radiation, then he will be able to weaken Superman to the same effects. With the help of Lucius Fox, WayneTech was able to secretly develop a device to perform this exact conversion. This sophisticated technology, known as the Red Sun Simulator (RSS) will be installed onto the batplane which will idle in the sky during their fight. When the time is right, the device will continuously diffuse electromagnetic waves that will create an interference pattern with the electromagnetic radiation of the sun. The radiation generated by the RSS should be at precise frequencies so that the resulting wave exactly matches the frequency of the red sun of Krypton. Unfortunately for Batman, the frequency of solar radiation is going to be constantly changing due to small factors such as atmospheric conditions and their altitude. Due to these constraints, the ability of the RSS to produce waves at a certain frequency will also be limited.</p>

<p>The masterful tactician he is, Batman has planned out how every moment of the battle is going to go down. In particular, he predicts that there will be <var>N</var> (1 ≤ <var>N</var> ≤ 50000) minutes in the entire battle. During the <var>i</var>-th minute, the frequency of the solar radiation is forecasted to be <var>F<sub>i</sub></var> (1 ≤ <var>F<sub>i</sub></var> ≤ 10<sup>9</sup>) megahertz. In order for Superman to be weakened by red sun radiation during minute <var>i</var>, the frequency produced by the RSS must be a <i>multiple</i> of the solar frequency during that minute. In minute <var>i</var>, the RSS will randomly produce a frequency from a set of <var>M<sub>i</sub></var> (1 ≤ <var>M<sub>i</sub></var> ≤ 5) intervals. The <var>j</var>-th of these intervals will consist of the integers from <var>A<sub>i,j</sub></var> to <var>B<sub>i,j</sub></var> (1 ≤ <var>A<sub>i,j</sub></var> ≤ <var>B<sub>i,j</sub></var> ≤ 10<sup>9</sup>) inclusive, meaning that during minute <var>i</var>, the RSS is capable of emitting radiation at any one frequency from <var>A<sub>i,j</sub></var> megahertz to <var>B<sub>i,j</sub></var> megahertz for any <var>j</var> from 1 to <var>M<sub>i</sub></var>. For each minute <var>i</var>, the <var>M<sub>i</sub></var> intervals will be non-overlapping, meaning that any integer will be part of at most one of the intervals.</p>

<p>Batman is interested in whether he can weaken Superman for a particular number of minutes in total. Thusly, he wants to answer <var>Q</var> (1 ≤ <var>Q</var> ≤ <var>N</var> + 1) questions, where the <var>i</var>-th question is: "is it at all possible to weaken Superman during exactly <var>T<sub>i</sub></var> minutes of the total <var>N</var> minutes of the battle?" (0 ≤ <var>T<sub>i</sub></var> ≤ <var>N</var>). Please write a program to analyze the solar data and answer Batman's queries.</p>

<p>
In cases worth 20/30 of the points, <var>F<sub>i</sub></var> ≤ 100 and <var>B<sub>i,j</sub></var> ≤ 100.<br>
In a subset of those cases worth 10/30 of the points, <var>N</var> ≤ 8.
</p>

<h3>Input Format</h3>
<p>
The first line will contain two space-separated integers <var>N</var> and <var>Q</var>.<br>
The next <var>N</var> lines will each start with 2 space-separated integers <var>F<sub>i</sub></var> and <var>M<sub>i</sub></var>, followed by <var>M<sub>i</sub></var> space-separated pairs of integers <var>A<sub>i,j</sub></var> and <var>B<sub>i,j</sub></var> (for <var>i</var> = 1..<var>N</var> and <var>j</var> = 1..<var>M<sub>i</sub></var>).<br>
The last <var>Q</var> lines will each contain a single integer <var>T<sub>i</sub></var> (for <var>i</var> = 1..<var>Q</var>).
</p>

<h3>Output Format</h3>
<p><var>Q</var> lines with one character per line. The <var>i</var>-th of these lines is "<code>Y</code>" if Batman can weaken Superman using simulated red sun radiation during exactly <var>T<sub>i</sub></var> minutes, or "<code>N</code>" otherwise.</p>

<h3>Sample Input</h3>
<pre>4 3
10 3 23 27 1 5 109 110
5 2 7 9 41 42
5 2 7 9 40 42
100 1 100 100
0
2
4
</pre>

<h3>Sample Output</h3>
<pre>N
Y
N
</pre>

<h3>Explanation</h3>
<p>Batman predicts the battle to last a measly 4 minutes. It's impossible for Batman to weaken Superman for 0 minutes, since he'll always be emitting the appropriate frequency to produce red sun radiation the last round (the RSS radiation is fixed at 100 MHz during that minute, which is a multiple of the solar radiation of 100 MHz). It's also impossible for him to weaken Superman in all 4 minutes, since there's no way he can produce red sun radiation in the second minute (the RSS cannot possibly emit a frequency which is a multiple of 5 MHz). However, there are various ways in which Superman can be weakened for exactly 2 minutes, such as if the following frequencies happen to be emitted by the RSS:</p>

<ul>
<li>1st minute: 110 MHz (producing red sun radiation when interfered with the sun's 10 MHz)</li>
<li>2nd minute: 8 MHz (not producing red sun radiation when interfered with the sun's 5 MHz)</li>
<li>3rd minute: 42 MHz (not producing red sun radiation when interfered with the sun's 5 MHz)</li>
<li>4th minute: 100 MHz (producing red sun radiation when interfered with the sun's 100 MHz)</li>
</ul>
</div>

<div id="descSidebar"> <!-- TODO: Make this nicer/more semantic -->
  <p>
        
        <a href="https://wcipeg.com/submissions/,wc153j3">All Submissions</a>    <br>
    
        <a href="https://wcipeg.com/submissions/rank/wc153j3">Best Solutions</a>        <br>
  </p>

  <p>
    
      </p>

  <p>
            <br>
  </p>

  <p>
    <!-- TODO: Move this into the controller -->
    <b>Point Value:</b> 10 (partial)<br>
    <b>Time Limit:</b> 2.00s<br>
    <b>Memory Limit:</b> 16M<br>
    <b>Added:</b> Feb 13, 2016<br>
        <b>Authors:</b> <a href="https://wcipeg.com/user/SourSpinach">SourSpinach</a>, <a href="https://wcipeg.com/user/Alex">Alex</a>  </p>

  
  <p>
  <b>Languages Allowed:</b><br>
  <span title="C++03 (g++ 4.1.3)">C++03</span>, <span title="Pascal (fpc 2.6.0-9)">PAS</span>, <span title="C (gcc 4.7.2)">C</span>, <span title="Haskell (ghc-6.12.1)">HASK</span>, <span title="Intel x86 assembly (nasm 2.10.01)">ASM</span>, <span title="Ruby (ruby 2.1.2)">RUBY</span>, <span title="Python 2 (python 2.6.8)">PYTH2</span>, <span title="Java (OpenJDK javac 1.7.0_03)">JAVA</span>, <span title="PHP (PHP 5.4.4)">PHP</span>, <span title="Scheme (Racket v5.0.1) (NOT WORKING)">SCM</span>, <span title="OCaml (version 3.12.1)">CAML</span>, <span title="Perl, v5.10.1">PERL</span>, <span title="C# (Mono version 2.4.4.0) (NOT WORKING)">C#</span>, <span title="C++11 (g++ 4.9.1)">C++11</span>, <span title="Python 3 (python 3.2.3)">PYTH3</span>  </p>
</div> <!-- descSidebar -->

<div id="comments">
  <h2 class="icon" style="background: url(https://wcipeg.com/assets/icons/comment_bubble.png) no-repeat right top">Comments (<a href="https://wcipeg.com/comments/search/place=wc153j3">Search</a>)</h2><p style="text-align: center"></p>It's quiet in here...</div>

<div style="clear: both">&nbsp;</div>

</div> <!-- content -->
</div> <!-- container -->
</div> <!-- wrapper -->

<div id="footer">
  <div id="footer_time_info">
    Loaded in 0.0127s.<br>
    Server time on page load:
    Jun 7, 2018 07:33:55 UTC 
    <br>
  </div>
  <div style="clear: both; height: 1ex"></div>

  <div style="float: right">
    <a href="https://wcipeg.com%2Fproblem%2Fwc153j3">Secure server</a>  </div>

<a href="http://www.debian.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/debian.png" alt="Powered by Debian GNU/Linux"></a>

<a href="http://www.apache.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/apache.gif" alt="Powered by Apache"></a>

<a href="http://www.mysql.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/mysql.png" alt="Powered by MySQL"></a>

<a href="http://www.php.net" target="_blank">
  <img src="https://wcipeg.com/assets/img/php.gif" alt="Powered by PHP"> 
</a>

<a href="http://www.openssl.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/openssl.png" alt="Powered by OpenSSL"> 
</a>

<a href="http://www.codeigniter.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/codeignited.gif" alt="Powered by CodeIgniter"> 
</a>

<a href="http://validator.w3.org/check?uri=referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/html5.png" alt="Valid HTML 5"></a>

<a href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/css3.png" alt="Valid CSS 3"></a>

<span title="Thanks to Naomi Cui for helping to create this image">
  <a href="http://git-scm.com/" target="_blank">
    <img src="https://wcipeg.com/assets/img/git-80x15-final.png" alt="git managed">  </a>
</span>

<br>

<div style="font-size: 85%; line-height: 1.5">
  <a href="/wiki/Judge:Copyright" target="_blank">Notes on copyright</a> |
  <a href="/wiki/Judge:TOS" target="_blank">Terms of service</a>
  <br>
  <a href="/wiki/Judge:Free_software" target="_blank">The PEG Judge is powered
  solely by free software.</a>
</div>
 
</div> <!-- footer -->



</body></html>