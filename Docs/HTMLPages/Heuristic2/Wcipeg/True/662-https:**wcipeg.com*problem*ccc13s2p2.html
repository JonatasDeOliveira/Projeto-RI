<!DOCTYPE html><html lang="en"><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <!-- This should probably be done with a server-side include, but
         PHP is easier. -->
    <meta name="description" content="Woburn Collegiate Institute Programming
Enrichment Group Online Judge">
<meta name="keywords" content="PEG Judge,wcipeg.com,Online judge,Canadian
Computing Competition,CCC,American Computer Science League,ACSL,Programming
Enrichment Group,Validator,COCI,Croatian Open Competition in Informatics,
Woburn,Woburn Challenge,Woburn Collegiate Institute,APIO,Asian Pacific
Informatics Olympiad,BOI,Bulgarian Olympiad in Informatics,SMAC,Sane's Monthly
Algorithms Challenge,Problem Solving in Pascal,Bi-Weekly Challenge,Validator,
Hanson Wang,Canada">

    <title>PEG Judge - CCC13 Stage 2 - Tourney</title>

    <link href="https://wcipeg.com/assets/css/common.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/submissions.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/bbcode.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/highlight/styles/idea.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/icons/favicon.ico" rel="shortcut icon" type="text/css">
    <link href="https://wcipeg.com/assets/css/style.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/jquery.autocomplete.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/desc.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/testcase_editor.css" rel="stylesheet" type="text/css">

    <script type="text/javascript">
        function get_csrf_key() {
            return "csrf_test_name";
        }
        function get_csrf_value() {
            return "a5a6da31e315e7ee609958a2aedecd0f";
        }
        function get_site_url() {
            return "https:\/\/wcipeg.com\/";
        }
    </script>
    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-1.10.1.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-post-csrf.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/global.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment-timezone.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/highlight/highlight.pack.js"></script>    <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
  </head>

  <body style="">
    <div id="backheader"></div>
    <div id="backmenu"></div>

    <div id="wrapper">
      <div id="container">
        <div id="header">
          <div id="logo">
            <!-- TODO: Change "PEG" to something customizable -->
            <a href="https://wcipeg.com/main"><img src="https://wcipeg.com/assets/img/logo.gif" alt="PEG"></a>          </div>
          <div id="user">
                                      Please <a href="https://wcipeg.com/auth/login?ref=%2Fproblem%2Fccc13s2p2"><b>log in</b></a>              or <a href="https://wcipeg.com/auth/register"><b>register an account</b></a>.
                      </div> <!-- user -->
                  </div> <!-- header -->

<div id="menu">
  <ul class="nav">
        <li><a href="https://wcipeg.com/main">main</a></li>        <li><a href="https://wcipeg.com/announcements">announcements</a></li>        <li><a href="https://wcipeg.com/problems">problems</a></li>        <li><a href="https://wcipeg.com/submissions">submissions</a></li>        <li><a href="https://wcipeg.com/users">users</a></li>        <li><a href="https://wcipeg.com/organizations">organizations</a></li>        <li><a href="https://wcipeg.com/submit">submit</a></li>        <li><a href="https://wcipeg.com/contests">contests</a></li>        <li><a href="/wiki/Judge:Help" target="_blank">help (<strong>README</strong>)</a></li>        <li><a href="/wiki" target="_blank">wiki</a></li>        <li><a href="/legacy" target="_blank">old</a></li>        <li><a href="/wiki/Judge:Contact" target="_blank">contact</a></li>          </ul>
</div>

<div id="content">


<div id="descContent">
<h3>2013 Canadian Computing Competition, Stage 2</h3>
<h2>Day 1, Problem 2: Tourney</h2>

<p>Don Cherry has been hired to run 24-hour coverage of a series of
single-elimination, bracket-style, furniture disassembly tourneys
(tournaments). Each competitor has a furniture disassembly skill level, an
integer between 1 and 10<sup>9</sup>. In every head-to-head match, the
competitor with the larger skill level wins and moves on, while the other is
eliminated from the tourney. It is guaranteed that, at any time, the skill
levels of all competitors are distinct, so there are no ties.</p>

<p>There are 2<sup><var>N</var></sup>
(1&nbsp;≤&nbsp;<var>N</var>&nbsp;≤&nbsp;20) competitor positions in the
tourney tree, numbered 1, 2, ..., 2<sup><var>N</var></sup> from left to right.
In the first round, competitors 1 and 2 face off in a furniture disassembly
race, as do competitors 3 and 4, etc. In each subsequent round, the winners of
the first two matches from the previous round compete, as do the winners of the
following two, etc. After <var>N</var> rounds, a single winner remains. For
example, when <var>N</var>&nbsp;=&nbsp;2, the tourney tree looks like this:</p>

<p style="text-align: center"><img src="images/ccc13s2p2/ccc13s2p2_0.png" alt=""></p>

<p>where A represents the winner of the match between competitors 1 and 2, B
represents the winner of the match between competitors 3 and 4, and C
represents the winner of the match between A and B. The winner of this tourney
is C.</p>

<p>Because of sponsorship contracts, some competitors will be replaced over
time. After any new person comes in, a new tourney is held.</p>

<p>In order to help Don Cherry, you must write a program to compute certain
tourney statistics at various points in time, given a sequence of <var>M</var>
(1&nbsp;≤&nbsp;<var>M</var>&nbsp;≤&nbsp;10<sup>6</sup>) commands —
see the input format below.</p>

<h3>Input</h3>
<p>The first line of input contains two integers, <var>N</var>
(1&nbsp;≤&nbsp;<var>N</var>&nbsp;≤&nbsp;20) and <var>M</var>
(1&nbsp;≤&nbsp;<var>M</var>&nbsp;≤&nbsp;10<sup>6</sup>), separated by one
space.</p>

<p>The next 2<sup><var>N</var></sup> lines, for <var>i</var> from 1 to
2<sup><var>N</var></sup>, each contain one integer
<var>S</var><sub><var>i</var></sub>, indicating the skill level of the initial
competitor at position <var>i</var> in the tourney tree.</p>

<p>Each of the following <var>M</var> lines will be a command in one of three
formats:</p>
<ul>
<li><q><code>R</code> <var>i</var> <var>S</var></q> means that the competitor
at position <var>i</var> is removed, and replaced with a new one with skill
level <var>S</var>. A new tourney should then be held.</li>
<li><q><code>W</code></q> means that your program should determine who won the
current tourney. Print the position <var>i</var> (between 1 and
2<sup><var>N</var></sup>) of this competitor.</li>
<li><q><code>S</code> <var>i</var></q> means that your program should print out
the number of rounds that the competitor at position <var>i</var> won in the
current tourney.</li>
</ul>

<h3>Output</h3>
<p>For each <q><code>W</code></q> or <q><code>S</code> <var>i</var></q> command in the input, print out the corresponding integer on a line by itself.</p>

<h3>Sample Input</h3>
<pre>2 8
30
20
10
40
S 1
W
R 4 9
S 4
W
R 2 35
S 2
W</pre>

<h3>Sample Output</h3>
<pre>1
4
0
1
2
2</pre>

<h3>Explanation</h3>
<p>The results of the initial tourney are as follows:</p>

<p style="text-align: center"><img src="images/ccc13s2p2/ccc13s2p2_1.png" alt=""></p>

<p>As can be seen, competitor 1 wins 1 match, and competitor 4 wins the entire
tourney. After this, competitor 4 is replaced by a new competitor with skill
level 9. As can be seen below, this causes a different outcome for the tourney
held after the third command:</p>

<p style="text-align: center"><img src="images/ccc13s2p2/ccc13s2p2_2.png" alt=""></p>

<p>Finally, the state of the tourney tree after the next competitor replacement
(caused by the sixth command) is:</p>

<p style="text-align: center"><img src="images/ccc13s2p2/ccc13s2p2_3.png" alt=""></p>
</div>

<div id="descSidebar"> <!-- TODO: Make this nicer/more semantic -->
  <p>
        
        <a href="https://wcipeg.com/submissions/,ccc13s2p2">All Submissions</a>    <br>
    
        <a href="https://wcipeg.com/submissions/rank/ccc13s2p2">Best Solutions</a>        <br>
  </p>

  <p>
    
      </p>

  <p>
            <br>
  </p>

  <p>
    <!-- TODO: Move this into the controller -->
    <b>Point Value:</b> 15 (partial)<br>
    <b>Time Limit:</b> 10.00s<br>
    <b>Memory Limit:</b> 512M<br>
    <b>Added:</b> May 19, 2013<br>
        <b>Author:</b> <a href="https://wcipeg.com/user/SourSpinach">SourSpinach</a>  </p>

  
  <p>
  <b>Languages Allowed:</b><br>
  <span title="C++03 (g++ 4.1.3)">C++03</span>, <span title="Pascal (fpc 2.6.0-9)">PAS</span>, <span title="C (gcc 4.7.2)">C</span>, <span title="Haskell (ghc-6.12.1)">HASK</span>, <span title="Intel x86 assembly (nasm 2.10.01)">ASM</span>, <span title="Ruby (ruby 2.1.2)">RUBY</span>, <span title="Python 2 (python 2.6.8)">PYTH2</span>, <span title="Java (OpenJDK javac 1.7.0_03)">JAVA</span>, <span title="PHP (PHP 5.4.4)">PHP</span>, <span title="Scheme (Racket v5.0.1) (NOT WORKING)">SCM</span>, <span title="OCaml (version 3.12.1)">CAML</span>, <span title="Perl, v5.10.1">PERL</span>, <span title="C# (Mono version 2.4.4.0) (NOT WORKING)">C#</span>, <span title="C++11 (g++ 4.9.1)">C++11</span>, <span title="Python 3 (python 3.2.3)">PYTH3</span>  </p>
</div> <!-- descSidebar -->

<div id="comments">
  <h2 class="icon" style="background: url(https://wcipeg.com/assets/icons/comment_bubble.png) no-repeat right top">Comments (<a href="https://wcipeg.com/comments/search/place=ccc13s2p2">Search</a>)</h2><p style="text-align: center"></p>It's quiet in here...</div>

<div style="clear: both">&nbsp;</div>

</div> <!-- content -->
</div> <!-- container -->
</div> <!-- wrapper -->

<div id="footer">
  <div id="footer_time_info">
    Loaded in 0.0187s.<br>
    Server time on page load:
    Jun 24, 2018 07:09:33 UTC 
    <br>
  </div>
  <div style="clear: both; height: 1ex"></div>

  <div style="float: right">
    <a href="https://wcipeg.com%2Fproblem%2Fccc13s2p2">Secure server</a>  </div>

<a href="http://www.debian.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/debian.png" alt="Powered by Debian GNU/Linux"></a>

<a href="http://www.apache.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/apache.gif" alt="Powered by Apache"></a>

<a href="http://www.mysql.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/mysql.png" alt="Powered by MySQL"></a>

<a href="http://www.php.net" target="_blank">
  <img src="https://wcipeg.com/assets/img/php.gif" alt="Powered by PHP"> 
</a>

<a href="http://www.openssl.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/openssl.png" alt="Powered by OpenSSL"> 
</a>

<a href="http://www.codeigniter.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/codeignited.gif" alt="Powered by CodeIgniter"> 
</a>

<a href="http://validator.w3.org/check?uri=referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/html5.png" alt="Valid HTML 5"></a>

<a href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/css3.png" alt="Valid CSS 3"></a>

<span title="Thanks to Naomi Cui for helping to create this image">
  <a href="http://git-scm.com/" target="_blank">
    <img src="https://wcipeg.com/assets/img/git-80x15-final.png" alt="git managed">  </a>
</span>

<br>

<div style="font-size: 85%; line-height: 1.5">
  <a href="/wiki/Judge:Copyright" target="_blank">Notes on copyright</a> |
  <a href="/wiki/Judge:TOS" target="_blank">Terms of service</a>
  <br>
  <a href="/wiki/Judge:Free_software" target="_blank">The PEG Judge is powered
  solely by free software.</a>
</div>
 
</div> <!-- footer -->



</body></html>