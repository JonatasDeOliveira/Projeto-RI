<!DOCTYPE html><html lang="en"><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <!-- This should probably be done with a server-side include, but
         PHP is easier. -->
    <meta name="description" content="Woburn Collegiate Institute Programming
Enrichment Group Online Judge">
<meta name="keywords" content="PEG Judge,wcipeg.com,Online judge,Canadian
Computing Competition,CCC,American Computer Science League,ACSL,Programming
Enrichment Group,Validator,COCI,Croatian Open Competition in Informatics,
Woburn,Woburn Challenge,Woburn Collegiate Institute,APIO,Asian Pacific
Informatics Olympiad,BOI,Bulgarian Olympiad in Informatics,SMAC,Sane's Monthly
Algorithms Challenge,Problem Solving in Pascal,Bi-Weekly Challenge,Validator,
Hanson Wang,Canada">

    <title>PEG Judge - CCO16 - Legends</title>

    <link href="https://wcipeg.com/assets/css/common.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/submissions.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/bbcode.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/highlight/styles/idea.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/icons/favicon.ico" rel="shortcut icon" type="text/css">
    <link href="https://wcipeg.com/assets/css/style.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/jquery.autocomplete.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/desc.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/testcase_editor.css" rel="stylesheet" type="text/css">

    <script type="text/javascript">
        function get_csrf_key() {
            return "csrf_test_name";
        }
        function get_csrf_value() {
            return "8c45b434a3b7582378f7341582f131fd";
        }
        function get_site_url() {
            return "https:\/\/wcipeg.com\/";
        }
    </script>
    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-1.10.1.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-post-csrf.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/global.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment-timezone.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/highlight/highlight.pack.js"></script>    <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
  </head>

  <body style="">
    <div id="backheader"></div>
    <div id="backmenu"></div>

    <div id="wrapper">
      <div id="container">
        <div id="header">
          <div id="logo">
            <!-- TODO: Change "PEG" to something customizable -->
            <a href="https://wcipeg.com/main"><img src="https://wcipeg.com/assets/img/logo.gif" alt="PEG"></a>          </div>
          <div id="user">
                                      Please <a href="https://wcipeg.com/auth/login?ref=%2Fproblem%2Fccc16s2p3"><b>log in</b></a>              or <a href="https://wcipeg.com/auth/register"><b>register an account</b></a>.
                      </div> <!-- user -->
                  </div> <!-- header -->

<div id="menu">
  <ul class="nav">
        <li><a href="https://wcipeg.com/main">main</a></li>        <li><a href="https://wcipeg.com/announcements">announcements</a></li>        <li><a href="https://wcipeg.com/problems">problems</a></li>        <li><a href="https://wcipeg.com/submissions">submissions</a></li>        <li><a href="https://wcipeg.com/users">users</a></li>        <li><a href="https://wcipeg.com/organizations">organizations</a></li>        <li><a href="https://wcipeg.com/submit">submit</a></li>        <li><a href="https://wcipeg.com/contests">contests</a></li>        <li><a href="/wiki/Judge:Help" target="_blank">help (<strong>README</strong>)</a></li>        <li><a href="/wiki" target="_blank">wiki</a></li>        <li><a href="/legacy" target="_blank">old</a></li>        <li><a href="/wiki/Judge:Contact" target="_blank">contact</a></li>          </ul>
</div>

<div id="content">


<div id="descContent">
<h3>2016 Canadian Computing Olympiad</h3>
<h2>Day 1, Problem 3 - Legends</h2>

<p>The country of Canadia consists of a network of cities and roads. Each road can be traversed in both directions. It is possible to get from any city to any other city using the roads.</p>

<p>Suzie studies the creation myths of the Canadiaan people. She is particularly interested in five myths (which correspond to the five subtasks of this problem). The myths are very similar. Each myth has the following form:</p>

<p>In the beginning, Canadia's road network had a particular structure. As time went on, the network was modified to meet the needs of Canadia's growing population. Each modification had one of the following forms:</p>

<ul>
<li>A road was built between two cities that did not yet have a road going directly between them.</li>
<li>A new city was built. Cities built in this way were not initially connected to any existing cities.</li>
<li>A city <var>u</var> grows too large and is split into two cities <var>v</var> and <var>w</var>. The cities originally joined directly to <var>u</var> by a road are partitioned into sets <var>A</var> and <var>B</var>. A road is built from each city in <var>A</var> to <var>v</var>, from each city in <var>B</var> to <var>w</var> and from <var>v</var> to <var>w</var>. For example,</li>
</ul>

<p style="text-align: center;">
<img src="images/ccc16s2p3/ccc16s2p3.1.png" alt="" width="" style="vertical-align: middle;">
 becomes&nbsp;
<img src="images/ccc16s2p3/ccc16s2p3.2.png" alt="" width="" style="vertical-align: middle;">
</p>

<p>The five myths only differ in the structure that they believe Canadia began with. Here are the original structures, according to each myth:</p>

<table style="border: 1px solid black; border-collapse: collapse;" align="center">
<tbody><tr>
<th style="padding: 5px; border: 1px solid black;">Subtask 1 [The Myth of the Flask]</th>
<th style="padding: 5px; border: 1px solid black;">Subtask 2 [The Myth of the Moon]</th>
</tr>
<tr>
<td align="center" style="padding: 5px; border: 1px solid black;"><img src="images/ccc16s2p3/ccc16s2p3.3.png" alt="" height="120px"></td>
<td align="center" style="padding: 5px; border: 1px solid black;"><img src="images/ccc16s2p3/ccc16s2p3.4.png" alt="" height="120px"></td>
</tr>
<tr>
<th style="padding: 5px; border: 1px solid black;">Subtask 3 [The Myth of the Sun]</th>
<th style="padding: 5px; border: 1px solid black;">Subtask 4 [The Myth of the Eagle's Talon]</th>
</tr>
<tr>
<td align="center" style="padding: 5px; border: 1px solid black;"><img src="images/ccc16s2p3/ccc16s2p3.5.png" alt="" height="120px"></td>
<td align="center" style="padding: 5px; border: 1px solid black;"><img src="images/ccc16s2p3/ccc16s2p3.6.png" alt="" height="100px"></td>
</tr>
<tr>
<th style="padding: 5px; border: 1px solid black;" colspan="2">Subtask 5 [The Myth of the Fox]</th>
<!--<th style="padding: 5px; border: 1px solid black;" colspan="2">Subtask 6 [The Myth of the Mountain]</th>-->
</tr>
<tr>
<td align="center" style="padding: 5px; border: 1px solid black;" colspan="2"><img src="images/ccc16s2p3/ccc16s2p3.7.png" alt="" height="80px"></td>
<!--<td align="center" style="padding: 5px; border: 1px solid black;" colspan="2"><img src="images/ccc16s2p3/ccc16s2p3.8.png" alt="" height="120px"></td>-->
</tr>
</tbody></table>

<p>For each subtask, you must take the layout of Canadia as input and determine whether the myth might be correct.</p>

<p>Subtasks are worth 5 marks each.</p>

<h3>Input Format</h3>

<p>The first line contains a single integer <var>S</var> (1 ≤ <var>S</var> ≤ 5) representing the subtask which you must solve.<br>
The second line contains an integer <var>T</var> (1 ≤ <var>T</var>) representing the number of test cases.<br>
Each test case consists of a blank line, followed by two integers <var>N</var> and <var>M</var> (2 ≤ <var>N</var>, 1 ≤ <var>M</var>) representing the number of cities and roads, respectively. The cities are numbered from 1 to <var>N</var>.<br>
Then <var>M</var> lines follow, each containing two integers <var>a</var> and <var>b</var> (1 ≤ <var>a</var>, <var>b</var> ≤ <var>N</var>) representing two cities connected by a road.<br>
No road connects a city to itself. No two roads connect the same pair of cities. It is possible to get from any city to any other city using the roads.</p>

<p>
In subtasks 3, you may assume that the sum of <var>N</var> over all test cases is at most 10<sup>5</sup>. In all other subtasks, the sum of <var>N</var> over all test cases is at most 1000.<br>
The same condition holds for <var>M</var>. In particular, in subtask 3, you may assume that the sum of <var>M</var> over all test cases is at most 10<sup>5</sup>. In all other subtasks, the sum of <var>M</var> over all test cases is at most 1000.
</p>

<h3>Output Format</h3>
<p>For each test case, output a single line containing the string <code>YES</code> or the string <code>NO</code>.</p>

<table><tbody><tr><td style="vertical-align: text-top;">

<h3>Sample Input 1</h3>
<pre>1
2

4 5
1 2
2 3
3 4
1 3
2 4

7 8
1 2
2 3
3 4
4 1
4 5
5 6
6 7
7 4
</pre>

<h3>Sample Output 1</h3>
<pre>YES
NO
</pre>

</td><td style="vertical-align: text-top; padding-left: 35px;">

<h3>Explanation 1</h3>
<table style="border: 1px solid black; border-collapse: collapse;">
<tbody><tr>
<th style="border: 1px solid black; padding: 5px;" align="center">Test Case Number</th>
<th style="border: 1px solid black; padding: 5px;" align="center">Graph</th>
<th style="border: 1px solid black; padding: 5px;" align="center">Explanation</th>
</tr>
<tr>
<td style="border: 1px solid black; padding: 5px;" align="center">1</td>
<td style="border: 1px solid black; padding: 5px;" align="center"><img src="images/ccc16s2p3/ccc16s2p3.9.png" alt=""></td>
<td style="border: 1px solid black; padding: 5px; width: 250px;" align="center">matches The Myth of the Flask</td>
</tr>
<tr>
<td style="border: 1px solid black; padding: 5px;" align="center">2</td>
<td style="border: 1px solid black; padding: 5px;" align="center"><img src="images/ccc16s2p3/ccc16s2p3.10.png" alt=""></td>
<td style="border: 1px solid black; padding: 5px; width: 250px;" align="center">cannot match The Myth of the Flask</td>
</tr>
</tbody></table>

</td></tr></tbody></table>
<hr style="border: 0; height: 1px; background: #ddd; margin: 20px 0px 10px 0px;">
<table><tbody><tr><td style="vertical-align: text-top;">

<h3>Sample Input 2</h3>
<pre>2
2

2 1
1 2

5 6
1 3
5 1
2 3
4 5
1 2
3 5
</pre>

<h3>Sample Output 2</h3>
<pre>NO
YES
</pre>

</td><td style="vertical-align: text-top; padding-left: 35px;">

<h3>Explanation 2</h3>
<table style="border: 1px solid black; border-collapse: collapse;">
<tbody><tr>
<th style="border: 1px solid black; padding: 5px;" align="center">Test Case Number</th>
<th style="border: 1px solid black; padding: 5px;" align="center">Graph</th>
<th style="border: 1px solid black; padding: 5px;" align="center">Explanation</th>
</tr>
<tr>
<td style="border: 1px solid black; padding: 5px;" align="center">1</td>
<td style="border: 1px solid black; padding: 5px;" align="center"><img src="images/ccc16s2p3/ccc16s2p3.11.png" alt=""></td>
<td style="border: 1px solid black; padding: 5px; width: 250px;" align="center">cannot match The Myth of the Moon</td>
</tr>
<tr>
<td style="border: 1px solid black; padding: 5px;" align="center">2</td>
<td style="border: 1px solid black; padding: 5px;" align="center"><img src="images/ccc16s2p3/ccc16s2p3.12.png" alt=""></td>
<td style="border: 1px solid black; padding: 5px; width: 250px;" align="center">
matches The Myth of the Moon, since we can add cities 4 and 5 along with some extra edges to the Moon formed by cities 1, 2 and 3.
</td>
</tr>
</tbody></table>

</td></tr></tbody></table>
<hr style="border: 0; height: 1px; background: #ddd; margin: 20px 0px 10px 0px;">
<table><tbody><tr><td style="vertical-align: text-top;">

<h3>Sample Input 3</h3>
<pre>3
2

7 8
1 2
2 3
3 4
4 1
4 5
5 6
6 7
7 4

8 8
1 2
2 3
3 4
4 5
5 6
6 1
7 3
8 7
</pre>

<h3>Sample Output 3</h3>
<pre>YES
YES
</pre>

</td><td style="vertical-align: text-top; padding-left: 35px;">

<h3>Explanation 3</h3>
<table style="border: 1px solid black; border-collapse: collapse;">
<tbody><tr>
<th style="border: 1px solid black; padding: 5px;" align="center">Test Case Number</th>
<th style="border: 1px solid black; padding: 5px;" align="center">Graph</th>
<th style="border: 1px solid black; padding: 5px;" align="center">Explanation</th>
</tr>
<tr>
<td style="border: 1px solid black; padding: 5px;" align="center">1</td>
<td style="border: 1px solid black; padding: 5px;" align="center"><img src="images/ccc16s2p3/ccc16s2p3.13.png" alt=""></td>
<td style="border: 1px solid black; padding: 5px; width: 250px;" align="center">can match The Myth of the Sun, on cities 1, 2, 3 and 4</td>
</tr>
<tr>
<td style="border: 1px solid black; padding: 5px;" align="center">2</td>
<td style="border: 1px solid black; padding: 5px;" align="center"><img src="images/ccc16s2p3/ccc16s2p3.14.png" alt=""></td>
<td style="border: 1px solid black; padding: 5px; width: 250px;" align="center">can match The Myth of the Sun, on cities 1, 2, 3 and 4
where some new cities have been inserted between cities 1 and 4</td>
</tr>
</tbody></table>

</td></tr></tbody></table>
<hr style="border: 0; height: 1px; background: #ddd; margin: 20px 0px 10px 0px;">
<table><tbody><tr><td style="vertical-align: text-top;">

<h3>Sample Input 4</h3>
<pre>4
2

4 4
1 2
2 3
3 4
4 1

6 6
1 2
2 3
1 4
4 5
2 4
1 6
</pre>

<h3>Sample Output 4</h3>
<pre>NO
YES
</pre>

</td><td style="vertical-align: text-top; padding-left: 35px;">

<h3>Explanation 4</h3>
<table style="border: 1px solid black; border-collapse: collapse;">
<tbody><tr>
<th style="border: 1px solid black; padding: 5px;" align="center">Test Case Number</th>
<th style="border: 1px solid black; padding: 5px;" align="center">Graph</th>
<th style="border: 1px solid black; padding: 5px;" align="center">Explanation</th>
</tr>
<tr>
<td style="border: 1px solid black; padding: 5px;" align="center">1</td>
<td style="border: 1px solid black; padding: 5px;" align="center"><img src="images/ccc16s2p3/ccc16s2p3.15.png" alt=""></td>
<td style="border: 1px solid black; padding: 5px; width: 250px;" align="center">cannot match The Myth of the Talon</td>
</tr>
<tr>
<td style="border: 1px solid black; padding: 5px;" align="center">2</td>
<td style="border: 1px solid black; padding: 5px;" align="center"><img src="images/ccc16s2p3/ccc16s2p3.16.png" alt=""></td>
<td style="border: 1px solid black; padding: 5px; width: 250px;" align="center">can match The Myth of the Talon on cities 1, 2, 4 and 6</td>
</tr>
</tbody></table>

</td></tr></tbody></table>
<hr style="border: 0; height: 1px; background: #ddd; margin: 20px 0px 10px 0px;">
<table><tbody><tr><td style="vertical-align: text-top;">

<h3>Sample Input 5</h3>
<pre>5
2

5 5
1 2
2 3
2 4
4 5
3 5

6 6
1 2
2 3
1 4
4 5
2 4
1 6
</pre>

<h3>Sample Output 5</h3>
<pre>NO
YES
</pre>

</td><td style="vertical-align: text-top; padding-left: 35px;">

<h3>Explanation 5</h3>
<table style="border: 1px solid black; border-collapse: collapse;">
<tbody><tr>
<th style="border: 1px solid black; padding: 5px;" align="center">Test Case Number</th>
<th style="border: 1px solid black; padding: 5px;" align="center">Graph</th>
<th style="border: 1px solid black; padding: 5px;" align="center">Explanation</th>
</tr>
<tr>
<td style="border: 1px solid black; padding: 5px;" align="center">1</td>
<td style="border: 1px solid black; padding: 5px;" align="center"><img src="images/ccc16s2p3/ccc16s2p3.17.png" alt=""></td>
<td style="border: 1px solid black; padding: 5px; width: 250px;" align="center">cannot match The Myth of the Fox</td>
</tr>
<tr>
<td style="border: 1px solid black; padding: 5px;" align="center">2</td>
<td style="border: 1px solid black; padding: 5px;" align="center"><img src="images/ccc16s2p3/ccc16s2p3.18.png" alt=""></td>
<td style="border: 1px solid black; padding: 5px; width: 250px;" align="center">can match The Myth of the Fox, on cities 1, 2, 4, 5 and 6</td>
</tr>
</tbody></table>

</td></tr></tbody></table>

<!--
<h3>Sample Input 6</h3>
<pre>
6
2

12 16
1 2
1 3
1 4
2 8
3 5
3 6
6 7
7 8
5 8
4 9
8 9
9 10
10 12
9 11
11 12
9 12

12 18
1 2
1 3
1 4
2 8
3 5
3 6
6 7
7 8
5 8
4 9
8 9
9 10
10 12
9 11
11 12
9 12
4 11
3 10
</pre>

<h3>Sample Output 6</h3>
<pre>
NO
YES
</pre>

<h3>Explanation 6</h3>
<table style="border: 1px solid black; border-collapse: collapse;">
<tr>
<th style="border: 1px solid black; padding: 5px;" align="center">Test Case Number</th>
<th style="border: 1px solid black; padding: 5px;" align="center">Graph</th>
<th style="border: 1px solid black; padding: 5px;" align="center">Explanation</th>
</tr>
<tr>
<td style="border: 1px solid black; padding: 5px;" align="center">1</td>
<td style="border: 1px solid black; padding: 5px;" align="center"><img src="images/ccc16s2p3/ccc16s2p3.19.png" alt=""></td>
<td style="border: 1px solid black; padding: 5px; width: 270px;" align="center">cannot match The Myth of the Mountain</td>
</tr>
<tr>
<td style="border: 1px solid black; padding: 5px;" align="center">2</td>
<td style="border: 1px solid black; padding: 5px;" align="center"><img src="images/ccc16s2p3/ccc16s2p3.20.png" alt=""></td>
<td style="border: 1px solid black; padding: 5px; width: 250px;" align="center">can match The Myth of the Mountain on cities 4, 9, 11 and 12</td>
</tr>
</table>
-->
</div>

<div id="descSidebar"> <!-- TODO: Make this nicer/more semantic -->
  <p>
        
        <a href="https://wcipeg.com/submissions/,ccc16s2p3">All Submissions</a>    <br>
    
        <a href="https://wcipeg.com/submissions/rank/ccc16s2p3">Best Solutions</a>        <br>
  </p>

  <p>
    
      </p>

  <p>
            <br>
  </p>

  <p>
    <!-- TODO: Move this into the controller -->
    <b>Point Value:</b> 30 (partial)<br>
    <b>Time Limit:</b> 2.00s<br>
    <b>Memory Limit:</b> 64M<br>
    <b>Added:</b> May 14, 2016<br>
        <b>Author:</b> <a href="https://wcipeg.com/user/nullptr">nullptr</a>  </p>

  
  <p>
  <b>Languages Allowed:</b><br>
  <span title="C++03 (g++ 4.1.3)">C++03</span>, <span title="Pascal (fpc 2.6.0-9)">PAS</span>, <span title="C (gcc 4.7.2)">C</span>, <span title="Haskell (ghc-6.12.1)">HASK</span>, <span title="Intel x86 assembly (nasm 2.10.01)">ASM</span>, <span title="Ruby (ruby 2.1.2)">RUBY</span>, <span title="Python 2 (python 2.6.8)">PYTH2</span>, <span title="Java (OpenJDK javac 1.7.0_03)">JAVA</span>, <span title="PHP (PHP 5.4.4)">PHP</span>, <span title="Scheme (Racket v5.0.1) (NOT WORKING)">SCM</span>, <span title="OCaml (version 3.12.1)">CAML</span>, <span title="Perl, v5.10.1">PERL</span>, <span title="C# (Mono version 2.4.4.0) (NOT WORKING)">C#</span>, <span title="C++11 (g++ 4.9.1)">C++11</span>, <span title="Python 3 (python 3.2.3)">PYTH3</span>  </p>
</div> <!-- descSidebar -->

<div id="comments">
  <h2 class="icon" style="background: url(https://wcipeg.com/assets/icons/comment_bubble.png) no-repeat right top">Comments (<a href="https://wcipeg.com/comments/search/place=ccc16s2p3">Search</a>)</h2><p style="text-align: center"></p>It's quiet in here...</div>

<div style="clear: both">&nbsp;</div>

</div> <!-- content -->
</div> <!-- container -->
</div> <!-- wrapper -->

<div id="footer">
  <div id="footer_time_info">
    Loaded in 0.0279s.<br>
    Server time on page load:
    May 9, 2018 15:30:15 UTC 
    <br>
  </div>
  <div style="clear: both; height: 1ex"></div>

  <div style="float: right">
    <a href="https://wcipeg.com%2Fproblem%2Fccc16s2p3">Secure server</a>  </div>

<a href="http://www.debian.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/debian.png" alt="Powered by Debian GNU/Linux"></a>

<a href="http://www.apache.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/apache.gif" alt="Powered by Apache"></a>

<a href="http://www.mysql.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/mysql.png" alt="Powered by MySQL"></a>

<a href="http://www.php.net" target="_blank">
  <img src="https://wcipeg.com/assets/img/php.gif" alt="Powered by PHP"> 
</a>

<a href="http://www.openssl.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/openssl.png" alt="Powered by OpenSSL"> 
</a>

<a href="http://www.codeigniter.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/codeignited.gif" alt="Powered by CodeIgniter"> 
</a>

<a href="http://validator.w3.org/check?uri=referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/html5.png" alt="Valid HTML 5"></a>

<a href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/css3.png" alt="Valid CSS 3"></a>

<span title="Thanks to Naomi Cui for helping to create this image">
  <a href="http://git-scm.com/" target="_blank">
    <img src="https://wcipeg.com/assets/img/git-80x15-final.png" alt="git managed">  </a>
</span>

<br>

<div style="font-size: 85%; line-height: 1.5">
  <a href="/wiki/Judge:Copyright" target="_blank">Notes on copyright</a> |
  <a href="/wiki/Judge:TOS" target="_blank">Terms of service</a>
  <br>
  <a href="/wiki/Judge:Free_software" target="_blank">The PEG Judge is powered
  solely by free software.</a>
</div>
 
</div> <!-- footer -->



</body></html>