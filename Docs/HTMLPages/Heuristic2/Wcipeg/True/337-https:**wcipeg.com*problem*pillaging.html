<!DOCTYPE html><html lang="en"><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <!-- This should probably be done with a server-side include, but
         PHP is easier. -->
    <meta name="description" content="Woburn Collegiate Institute Programming
Enrichment Group Online Judge">
<meta name="keywords" content="PEG Judge,wcipeg.com,Online judge,Canadian
Computing Competition,CCC,American Computer Science League,ACSL,Programming
Enrichment Group,Validator,COCI,Croatian Open Competition in Informatics,
Woburn,Woburn Challenge,Woburn Collegiate Institute,APIO,Asian Pacific
Informatics Olympiad,BOI,Bulgarian Olympiad in Informatics,SMAC,Sane's Monthly
Algorithms Challenge,Problem Solving in Pascal,Bi-Weekly Challenge,Validator,
Hanson Wang,Canada">

    <title>PEG Judge - Pillaging</title>

    <link href="https://wcipeg.com/assets/css/common.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/submissions.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/bbcode.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/highlight/styles/idea.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/icons/favicon.ico" rel="shortcut icon" type="text/css">
    <link href="https://wcipeg.com/assets/css/style.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/jquery.autocomplete.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/desc.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/testcase_editor.css" rel="stylesheet" type="text/css">

    <script type="text/javascript">
        function get_csrf_key() {
            return "csrf_test_name";
        }
        function get_csrf_value() {
            return "8c45b434a3b7582378f7341582f131fd";
        }
        function get_site_url() {
            return "https:\/\/wcipeg.com\/";
        }
    </script>
    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-1.10.1.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-post-csrf.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/global.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment-timezone.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/highlight/highlight.pack.js"></script>    <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
  </head>

  <body style="">
    <div id="backheader"></div>
    <div id="backmenu"></div>

    <div id="wrapper">
      <div id="container">
        <div id="header">
          <div id="logo">
            <!-- TODO: Change "PEG" to something customizable -->
            <a href="https://wcipeg.com/main"><img src="https://wcipeg.com/assets/img/logo.gif" alt="PEG"></a>          </div>
          <div id="user">
                                      Please <a href="https://wcipeg.com/auth/login?ref=%2Fproblem%2Fpillaging"><b>log in</b></a>              or <a href="https://wcipeg.com/auth/register"><b>register an account</b></a>.
                      </div> <!-- user -->
                  </div> <!-- header -->

<div id="menu">
  <ul class="nav">
        <li><a href="https://wcipeg.com/main">main</a></li>        <li><a href="https://wcipeg.com/announcements">announcements</a></li>        <li><a href="https://wcipeg.com/problems">problems</a></li>        <li><a href="https://wcipeg.com/submissions">submissions</a></li>        <li><a href="https://wcipeg.com/users">users</a></li>        <li><a href="https://wcipeg.com/organizations">organizations</a></li>        <li><a href="https://wcipeg.com/submit">submit</a></li>        <li><a href="https://wcipeg.com/contests">contests</a></li>        <li><a href="/wiki/Judge:Help" target="_blank">help (<strong>README</strong>)</a></li>        <li><a href="/wiki" target="_blank">wiki</a></li>        <li><a href="/legacy" target="_blank">old</a></li>        <li><a href="/wiki/Judge:Contact" target="_blank">contact</a></li>          </ul>
</div>

<div id="content">


<div id="descContent">
<h3>Vincent Massey SS - 2014 Senior Contest #1</h3>
<h2>Problem D: Pillaging</h2>

<p>When Zihao isn't doing homework, he likes to go out with his gang and pillage some of the <var>n</var> (1 ≤ <var>n</var> ≤ 100,000) villages located along a river. Village <var>i</var> is located at some position <var>p<sub>i</sub></var> (1 ≤ <var>p<sub>i</sub></var> ≤ 1,000,000,000) along the river, and is either located on the left or the right side of the river. Furthermore, village <var>i</var> has a payout of <var>x<sub>i</sub></var> (0 ≤ <var>x<sub>i</sub></var> ≤ 10,000) dollars if Zihao decides to pillage it. He starts at position 0, on the left side of the river, with 0 dollars. His goal is to end up with as much money as possible at the end.</p>

<p>Unfortunately, Zihao is bound by the CCC (Canadian Constitution of Criminals) honour code. Firstly, he can only move from one village to another if the second village is located at a higher position along the river. Thus, he cannot move backwards. Secondly, Zihao can only pillage a city if he is on the same side of the river as the city. However, Zihao can cross the river in his boat at any point and as many times as he wants. Each time Zihao crosses the river, he must pay a tax of <var>t</var> (0 ≤ <var>t</var> ≤ 10,000) dollars. Zihao is allowed to have a negative amount of money at any point.</p>

<h3>Input Format</h3>
<p>
The first line will contain two space-separated integers <var>n</var> and <var>t</var>.<br>
The next <var>n</var> lines contain the information for each village in no particular order. Each of these lines will contain three space-separated integers, <var>p<sub>i</sub></var>, <var>x<sub>i</sub></var>, <var>s<sub>i</sub></var>, where <var>s<sub>i</sub></var> is 0 if the village is on the left side of the river and 1 if it is on the right side of the river.<br>
No two villages will be at the same position.
</p>

<h3>Output Format</h3>
<p>Print the largest possible amount of money Zihao can make by pillaging the villages with the restrictions stated above. You may assume that the answer will fit inside of a 32-bit integer.</p>

<h3>Sample Input</h3>
<pre>4 10
1 10 0
4 15 0
2 17 1
3 10 1
</pre>

<h3>Sample Output</h3>
<pre>32
</pre>

<h3>Explanation</h3>
<p>The optimal solution is to visit and pillage each city in order of position. You start on the left side of the river. First, pillage the village at position 1, giving you 10 dollars. Cross to the right side of the river (leaving you with 0 dollars) and pillage the village at position 2, giving you 17 dollars. Then pillage the village at position 3, giving you a total of 27 dollars. Cross back to the left side of the river (leaving you with 17 dollars) and pillage the village at position 4, giving you a grand total of 32 dollars.</p>
</div>

<div id="descSidebar"> <!-- TODO: Make this nicer/more semantic -->
  <p>
        
        <a href="https://wcipeg.com/submissions/,pillaging">All Submissions</a>    <br>
    
        <a href="https://wcipeg.com/submissions/rank/pillaging">Best Solutions</a>        <br>
  </p>

  <p>
    
      </p>

  <p>
            <br>
  </p>

  <p>
    <!-- TODO: Move this into the controller -->
    <b>Point Value:</b> 10 (partial)<br>
    <b>Time Limit:</b> 5.00s<br>
    <b>Memory Limit:</b> 16M<br>
    <b>Added:</b> Nov 04, 2014<br>
        <b>Author:</b> <a href="https://wcipeg.com/user/thorthugnasty">thorthugnasty</a>  </p>

  
  <p>
  <b>Languages Allowed:</b><br>
  <span title="C++03 (g++ 4.1.3)">C++03</span>, <span title="Pascal (fpc 2.6.0-9)">PAS</span>, <span title="C (gcc 4.7.2)">C</span>, <span title="Haskell (ghc-6.12.1)">HASK</span>, <span title="Intel x86 assembly (nasm 2.10.01)">ASM</span>, <span title="Ruby (ruby 2.1.2)">RUBY</span>, <span title="Python 2 (python 2.6.8)">PYTH2</span>, <span title="Java (OpenJDK javac 1.7.0_03)">JAVA</span>, <span title="PHP (PHP 5.4.4)">PHP</span>, <span title="Scheme (Racket v5.0.1) (NOT WORKING)">SCM</span>, <span title="OCaml (version 3.12.1)">CAML</span>, <span title="Perl, v5.10.1">PERL</span>, <span title="C# (Mono version 2.4.4.0) (NOT WORKING)">C#</span>, <span title="C++11 (g++ 4.9.1)">C++11</span>, <span title="Python 3 (python 3.2.3)">PYTH3</span>  </p>
</div> <!-- descSidebar -->

<div id="comments">
  <h2 class="icon" style="background: url(https://wcipeg.com/assets/icons/comment_bubble.png) no-repeat right top">Comments (<a href="https://wcipeg.com/comments/search/place=pillaging">Search</a>)</h2><p style="text-align: center"></p><div class="comment_block" id="comment7526">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/IsaacJL">IsaacJL</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/7526">Mar 27, 2016 - 8:23:34 pm UTC</a>      </span>
      <a class="comment_title" id="title7526" onclick="toggle(&quot;body7526&quot;)">Hint</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating7526">
    (<span class="upvotes"><span id="upvotes7526">0</span></span>/<span class="downvotes"><span id="downvotes7526">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body7526" class="comment_body">
    <pre id="msg7526" style="display: none">So, I've attempted a few different submissions but all seem to be caught on the same error. I've noticed something interesting with my code and I'm wondering if I could get a small recommendation or hint as to why it's doing this. This may or may not be the reason for the solution failing but I'm also just curious as to why this is happening.
Using this test case:

3 1
1 10 0
1 10 1
2 15 1

My code runs through the specific method I have set up, only to return later to continue the recursion with an index of -1, which I never set. I'm not too sure why it's happening.

Any assistance would be appreciated.</pre>
    <div style="opacity: 1">
      So, I've attempted a few different submissions but all seem to be caught on the same error. I've noticed something interesting with my code and I'm wondering if I could get a small recommendation or hint as to why it's doing this. This may or may not be the reason for the solution failing but I'm also just curious as to why this is happening. <br>Using this test case: <br> <br>3 1 <br>1 10 0 <br>1 10 1 <br>2 15 1 <br> <br>My code runs through the specific method I have set up, only to return later to continue the recursion with an index of -1, which I never set. I'm not too sure why it's happening. <br> <br>Any assistance would be appreciated.    </div>
    <br><div class="comment_block" id="comment7528">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/spencereir">spencereir</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/7528">Mar 28, 2016 - 12:00:07 am UTC</a>      </span>
      <a class="comment_title" id="title7528" onclick="toggle(&quot;body7528&quot;)">Re: Hint</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating7528">
    (<span class="upvotes"><span id="upvotes7528">0</span></span>/<span class="downvotes"><span id="downvotes7528">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body7528" class="comment_body">
    <pre id="msg7528" style="display: none">What if nextOnOther AND nextOnSame are -1?

EDIT: Ignore, as jargon pointed out, this won't occur, the base case will catch the situation where there is nothing left on either side</pre>
    <div style="opacity: 1">
      What if nextOnOther AND nextOnSame are -1? <br> <br>EDIT: Ignore, as jargon pointed out, this won't occur, the base case will catch the situation where there is nothing left on either side    </div>
    <br><div class="comment_block" id="comment7529">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/jargon">jargon</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/7529">Mar 28, 2016 - 12:03:39 am UTC</a>      </span>
      <a class="comment_title" id="title7529" onclick="toggle(&quot;body7529&quot;)">Re: Hint</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating7529">
    (<span class="upvotes"><span id="upvotes7529">0</span></span>/<span class="downvotes"><span id="downvotes7529">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body7529" class="comment_body">
    <pre id="msg7529" style="display: none">Not possible based on the premise of the recursive case.</pre>
    <div style="opacity: 1">
      Not possible based on the premise of the recursive case.    </div>
      </div>
</div>
  </div>
</div>
<br><div class="comment_block" id="comment7530">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/jargon">jargon</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/7530">Mar 28, 2016 - 12:05:18 am UTC</a>      </span>
      <a class="comment_title" id="title7530" onclick="toggle(&quot;body7530&quot;)">Re: Hint</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating7530">
    (<span class="upvotes"><span id="upvotes7530">1</span></span>/<span class="downvotes"><span id="downvotes7530">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body7530" class="comment_body">
    <pre id="msg7530" style="display: none">Your problem is that you're using global variables. In your first iteration, you have nextOnOther = 2, nextOnSame = 1. This falls to your else case. Your recursion is dfs-like, so you'll go all the way down the other path. When you return from travel(nextOnOther), nextOnOther and nextOnSame will have been modified by later calls.

tl;dr use local vars thx</pre>
    <div style="opacity: 1">
      Your problem is that you're using global variables. In your first iteration, you have nextOnOther = 2, nextOnSame = 1. This falls to your else case. Your recursion is dfs-like, so you'll go all the way down the other path. When you return from travel(nextOnOther), nextOnOther and nextOnSame will have been modified by later calls. <br> <br>tl;dr use local vars thx    </div>
    <br><div class="comment_block" id="comment7531">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/IsaacJL">IsaacJL</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/7531">Mar 28, 2016 - 1:35:14 am UTC</a>      </span>
      <a class="comment_title" id="title7531" onclick="toggle(&quot;body7531&quot;)">Re: Hint</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating7531">
    (<span class="upvotes"><span id="upvotes7531">0</span></span>/<span class="downvotes"><span id="downvotes7531">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body7531" class="comment_body">
    <pre id="msg7531" style="display: none">Thanks. Classic "don't use global variable" situation. Appreciate it.</pre>
    <div style="opacity: 1">
      Thanks. Classic "don't use global variable" situation. Appreciate it.    </div>
      </div>
</div>
  </div>
</div>
  </div>
</div>
<br>
</div>

<div style="clear: both">&nbsp;</div>

</div> <!-- content -->
</div> <!-- container -->
</div> <!-- wrapper -->

<div id="footer">
  <div id="footer_time_info">
    Loaded in 0.0222s.<br>
    Server time on page load:
    May 9, 2018 15:28:49 UTC 
    <br>
  </div>
  <div style="clear: both; height: 1ex"></div>

  <div style="float: right">
    <a href="https://wcipeg.com%2Fproblem%2Fpillaging">Secure server</a>  </div>

<a href="http://www.debian.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/debian.png" alt="Powered by Debian GNU/Linux"></a>

<a href="http://www.apache.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/apache.gif" alt="Powered by Apache"></a>

<a href="http://www.mysql.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/mysql.png" alt="Powered by MySQL"></a>

<a href="http://www.php.net" target="_blank">
  <img src="https://wcipeg.com/assets/img/php.gif" alt="Powered by PHP"> 
</a>

<a href="http://www.openssl.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/openssl.png" alt="Powered by OpenSSL"> 
</a>

<a href="http://www.codeigniter.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/codeignited.gif" alt="Powered by CodeIgniter"> 
</a>

<a href="http://validator.w3.org/check?uri=referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/html5.png" alt="Valid HTML 5"></a>

<a href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/css3.png" alt="Valid CSS 3"></a>

<span title="Thanks to Naomi Cui for helping to create this image">
  <a href="http://git-scm.com/" target="_blank">
    <img src="https://wcipeg.com/assets/img/git-80x15-final.png" alt="git managed">  </a>
</span>

<br>

<div style="font-size: 85%; line-height: 1.5">
  <a href="/wiki/Judge:Copyright" target="_blank">Notes on copyright</a> |
  <a href="/wiki/Judge:TOS" target="_blank">Terms of service</a>
  <br>
  <a href="/wiki/Judge:Free_software" target="_blank">The PEG Judge is powered
  solely by free software.</a>
</div>
 
</div> <!-- footer -->



</body></html>