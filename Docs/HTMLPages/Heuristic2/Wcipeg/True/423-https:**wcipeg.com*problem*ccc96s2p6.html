<!DOCTYPE html><html lang="en"><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <!-- This should probably be done with a server-side include, but
         PHP is easier. -->
    <meta name="description" content="Woburn Collegiate Institute Programming
Enrichment Group Online Judge">
<meta name="keywords" content="PEG Judge,wcipeg.com,Online judge,Canadian
Computing Competition,CCC,American Computer Science League,ACSL,Programming
Enrichment Group,Validator,COCI,Croatian Open Competition in Informatics,
Woburn,Woburn Challenge,Woburn Collegiate Institute,APIO,Asian Pacific
Informatics Olympiad,BOI,Bulgarian Olympiad in Informatics,SMAC,Sane's Monthly
Algorithms Challenge,Problem Solving in Pascal,Bi-Weekly Challenge,Validator,
Hanson Wang,Canada">

    <title>PEG Judge - CCC96 Stage 2 - Hoppers</title>

    <link href="https://wcipeg.com/assets/css/common.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/submissions.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/bbcode.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/highlight/styles/idea.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/icons/favicon.ico" rel="shortcut icon" type="text/css">
    <link href="https://wcipeg.com/assets/css/style.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/jquery.autocomplete.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/desc.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/testcase_editor.css" rel="stylesheet" type="text/css">

    <script type="text/javascript">
        function get_csrf_key() {
            return "csrf_test_name";
        }
        function get_csrf_value() {
            return "221fe9b9644c0adc95c96655c1b1b5a1";
        }
        function get_site_url() {
            return "https:\/\/wcipeg.com\/";
        }
    </script>
    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-1.10.1.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-post-csrf.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/global.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment-timezone.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/highlight/highlight.pack.js"></script>    <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
  </head>

  <body style="">
    <div id="backheader"></div>
    <div id="backmenu"></div>

    <div id="wrapper">
      <div id="container">
        <div id="header">
          <div id="logo">
            <!-- TODO: Change "PEG" to something customizable -->
            <a href="https://wcipeg.com/main"><img src="https://wcipeg.com/assets/img/logo.gif" alt="PEG"></a>          </div>
          <div id="user">
                                      Please <a href="https://wcipeg.com/auth/login?ref=%2Fproblem%2Fccc96s2p6"><b>log in</b></a>              or <a href="https://wcipeg.com/auth/register"><b>register an account</b></a>.
                      </div> <!-- user -->
                  </div> <!-- header -->

<div id="menu">
  <ul class="nav">
        <li><a href="https://wcipeg.com/main">main</a></li>        <li><a href="https://wcipeg.com/announcements">announcements</a></li>        <li><a href="https://wcipeg.com/problems">problems</a></li>        <li><a href="https://wcipeg.com/submissions">submissions</a></li>        <li><a href="https://wcipeg.com/users">users</a></li>        <li><a href="https://wcipeg.com/organizations">organizations</a></li>        <li><a href="https://wcipeg.com/submit">submit</a></li>        <li><a href="https://wcipeg.com/contests">contests</a></li>        <li><a href="/wiki/Judge:Help" target="_blank">help (<strong>README</strong>)</a></li>        <li><a href="/wiki" target="_blank">wiki</a></li>        <li><a href="/legacy" target="_blank">old</a></li>        <li><a href="/wiki/Judge:Contact" target="_blank">contact</a></li>          </ul>
</div>

<div id="content">


<div id="descContent">
<h3>1996 Canadian Computing Competition, Stage 2</h3>
<h2>Day 2, Problem 3: Hoppers</h2>

<p>Hoppers are people on a jump stick who can jump from one square to the other, without touching the squares in between (a bit like a knight in chess). They can pick up speed and make bigger hops, but their acceleration per move is limited, and they
also have a maximum speed. The game of Hoppers is played on a rectangular grid, where each square on the grid is either empty or occupied. While hoppers can fly over any square, they can only land on empty squares. At any point in time, a hopper has a velocity (x,y), where x and y are the speed (in squares) parallel to the grid. Thus, a speed of (2,1) corresponds to a knight jump, (as does (-2,1) and 6 other speeds).</p>

<p>To determine the hops a hopper can make, we need to know how much speed a hopper can pick up or lose: either -1, 0, or 1 square in either or both directions. Thus, while having speed (2,1), the hopper can change to speeds (1,0), (1,1), (1,2), (2,0), (2,1), (2,2), (3,0), (3,1) and (3,2). It is impossible for the hopper to obtain a velocity of 4 in either direction, so the x and y component will stay between -3 and 3 inclusive.</p>

<p>The goal of Hoppers is to get from start to finish as quickly as possible (i.e. in the least number of hops), without
landing on occupied squares. You are to write a program which, given a rectangular grid, a start point S, and a finish point F, determines the least number of hops in which you can get from S to F. A hopper starts with initial speed (0,0) and does not care about the speed when arriving at F.</p>

<h3>Input specification</h3>

<p>The first line contains the number of test cases (<var>N</var>) your program has to process.</p>
<p>Each test case consists of a first line containing the width <var>X</var> (1&nbsp;≤&nbsp;<var>X</var>&nbsp;≤&nbsp;16) and height <var>Y</var> (1&nbsp;≤&nbsp;<var>Y</var>&nbsp;≤&nbsp;16) of the grid.</p>
<p>Next is a line containing four integers separated by blanks, of which the first two indicate the start point (x1, y1) and the last two indicate the end point (x2, y2), where the start and end point are valid points on the grid (that is, 0&nbsp;≤&nbsp;x1,&nbsp;x2&nbsp;&lt;&nbsp;<var>X</var>, and 0&nbsp;≤&nbsp;y1,&nbsp;y2&nbsp;&lt;&nbsp;<var>Y</var>).</p>
<p>The third line of each test case contains an integer P indicating the number of obstacles in the grid.</p>
<p>Finally, the test case consists of P lines, each specifying an obstacle.</p>
<p>Each obstacle consists of four integers: x1, x2, y1 and y2, (0&nbsp;≤&nbsp;x1&nbsp;≤&nbsp;x2&nbsp;&lt;&nbsp;<var>X</var>, and 0&nbsp;≤&nbsp;y1&nbsp;≤&nbsp;y2&nbsp;&lt;&nbsp;<var>Y</var>), meaning that all squares (x, y) with x1&nbsp;≤&nbsp;x&nbsp;≤&nbsp;x2 and y1&nbsp;≤&nbsp;y&nbsp;≤&nbsp;y2 are occupied. Neither the start point nor the finish point will ever be occupied.</p>

<h3>Output specification</h3>

<p>The string '<code>No solution.</code>' if there is no way the hopper can reach the finish point from the start point without hopping on an occupied square. Otherwise, the text '<code>Optimal solution takes <var>N</var> hop(s).</code>', where <var>N</var> is the number of hops needed to get from start to finish point.</p>

<h3>Sample input</h3>
<pre>2
5 5
4 0 4 4
1
1 4 2 3
3 3
0 0 2 2
2
1 1 0 2
0 2 1 1
</pre>

<h3>Sample output</h3>
<pre>Optimal solution takes 7 hop(s).
No solution.
</pre>

<h3>Illustration of sample input</h3>

<p>The example input can be illustrated as follows. Let <code>#</code> denote an occupied square, <code>S</code> denote the start point, <code>F</code> denote the finish point, and <code>*</code> denote the boundary of the grid. Then the sample input can also be given as follows.</p>

<pre>2
5 5
*******
*    F*
* ####*
* ####*
*     *
*    S*
*******
3 3
*****
* #F*
*###*
*S# *
*****
</pre>
</div>

<div id="descSidebar"> <!-- TODO: Make this nicer/more semantic -->
  <p>
        
        <a href="https://wcipeg.com/submissions/,ccc96s2p6">All Submissions</a>    <br>
    
        <a href="https://wcipeg.com/submissions/rank/ccc96s2p6">Best Solutions</a>        <br>
  </p>

  <p>
    
      </p>

  <p>
            <br>
  </p>

  <p>
    <!-- TODO: Move this into the controller -->
    <b>Point Value:</b> 15<br>
    <b>Time Limit:</b> 2.00s<br>
    <b>Memory Limit:</b> 16M<br>
    <b>Added:</b> Jun 26, 2013<br>
      </p>

  
  <p>
  <b>Languages Allowed:</b><br>
  <span title="C++03 (g++ 4.1.3)">C++03</span>, <span title="Pascal (fpc 2.6.0-9)">PAS</span>, <span title="C (gcc 4.7.2)">C</span>, <span title="Haskell (ghc-6.12.1)">HASK</span>, <span title="Intel x86 assembly (nasm 2.10.01)">ASM</span>, <span title="Ruby (ruby 2.1.2)">RUBY</span>, <span title="Python 2 (python 2.6.8)">PYTH2</span>, <span title="Java (OpenJDK javac 1.7.0_03)">JAVA</span>, <span title="PHP (PHP 5.4.4)">PHP</span>, <span title="Scheme (Racket v5.0.1) (NOT WORKING)">SCM</span>, <span title="OCaml (version 3.12.1)">CAML</span>, <span title="Perl, v5.10.1">PERL</span>, <span title="C# (Mono version 2.4.4.0) (NOT WORKING)">C#</span>, <span title="C++11 (g++ 4.9.1)">C++11</span>, <span title="Python 3 (python 3.2.3)">PYTH3</span>  </p>
</div> <!-- descSidebar -->

<div id="comments">
  <h2 class="icon" style="background: url(https://wcipeg.com/assets/icons/comment_bubble.png) no-repeat right top">Comments (<a href="https://wcipeg.com/comments/search/place=ccc96s2p6">Search</a>)</h2><p style="text-align: center"></p><div class="comment_block" id="comment6110">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/jeffreyxiao">jeffreyxiao</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/6110">Sep 04, 2014 - 3:09:39 am UTC</a>      </span>
      <a class="comment_title" id="title6110" onclick="toggle(&quot;body6110&quot;)">Sample input</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating6110">
    (<span class="upvotes"><span id="upvotes6110">0</span></span>/<span class="downvotes"><span id="downvotes6110">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body6110" class="comment_body">
    <pre id="msg6110" style="display: none">For the illustration of sample 1, shouldn't the occupied squares be one block lower?</pre>
    <div style="opacity: 1">
      For the illustration of sample 1, shouldn't the occupied squares be one block lower?    </div>
    <br><div class="comment_block" id="comment6111">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/Alex">Alex</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/6111">Sep 04, 2014 - 4:02:41 am UTC</a>      </span>
      <a class="comment_title" id="title6111" onclick="toggle(&quot;body6111&quot;)">Re: Sample input</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating6111">
    (<span class="upvotes"><span id="upvotes6111">0</span></span>/<span class="downvotes"><span id="downvotes6111">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body6111" class="comment_body">
    <pre id="msg6111" style="display: none">Fixed. This was wrong in the official description.

Edit: Whoops, I made the same mistake as Jeffrey, so unfixed.</pre>
    <div style="opacity: 1">
      Fixed. This was wrong in the official description. <br> <br>Edit: Whoops, I made the same mistake as Jeffrey, so unfixed.    </div>
    <br><div class="comment_block" id="comment6413">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/awaykened">awaykened</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/6413">Dec 26, 2014 - 5:47:51 pm UTC</a>      </span>
      <a class="comment_title" id="title6413" onclick="toggle(&quot;body6413&quot;)">Re: Sample input</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating6413">
    (<span class="upvotes"><span id="upvotes6413">0</span></span>/<span class="downvotes"><span id="downvotes6413">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body6413" class="comment_body">
    <pre id="msg6413" style="display: none">I think it was right before....
correct me if i'm wrong but,
the obstacle should cover (1,2) --&gt; (4,3)
when currently in the diagram it covers (1,1) --&gt; (4,2)
</pre>
    <div style="opacity: 1">
      I think it was right before.... <br>correct me if i'm wrong but, <br>the obstacle should cover (1,2) --&gt; (4,3) <br>when currently in the diagram it covers (1,1) --&gt; (4,2)    </div>
    <br><div class="comment_block" id="comment6414">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/jeffreyxiao">jeffreyxiao</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/6414">Dec 27, 2014 - 12:32:21 am UTC</a>      </span>
      <a class="comment_title" id="title6414" onclick="toggle(&quot;body6414&quot;)">Re: Sample input</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating6414">
    (<span class="upvotes"><span id="upvotes6414">0</span></span>/<span class="downvotes"><span id="downvotes6414">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body6414" class="comment_body">
    <pre id="msg6414" style="display: none">Oops, in my comment before, I accidentally thought S was F and F was S, my apologies</pre>
    <div style="opacity: 1">
      Oops, in my comment before, I accidentally thought S was F and F was S, my apologies    </div>
      </div>
</div>
  </div>
</div>
  </div>
</div>
  </div>
</div>
<br>
<div class="comment_block" id="comment5467">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/ImbaCalvin">ImbaCalvin</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/5467">Sep 22, 2013 - 1:24:23 pm UTC</a>      </span>
      <a class="comment_title" id="title5467" onclick="toggle(&quot;body5467&quot;)">Title error...</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating5467">
    (<span class="upvotes"><span id="upvotes5467">0</span></span>/<span class="downvotes"><span id="downvotes5467">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body5467" class="comment_body">
    <pre id="msg5467" style="display: none">The very top "Day 2, Problem 2: Hoppers" should be Day 2, Problem 3...</pre>
    <div style="opacity: 1">
      The very top "Day 2, Problem 2: Hoppers" should be Day 2, Problem 3...    </div>
    <br><div class="comment_block" id="comment5468">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/Alex">Alex</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/5468">Sep 22, 2013 - 5:11:21 pm UTC</a>      </span>
      <a class="comment_title" id="title5468" onclick="toggle(&quot;body5468&quot;)">Re: Title error...</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating5468">
    (<span class="upvotes"><span id="upvotes5468">0</span></span>/<span class="downvotes"><span id="downvotes5468">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body5468" class="comment_body">
    <pre id="msg5468" style="display: none">Fixed</pre>
    <div style="opacity: 1">
      Fixed    </div>
      </div>
</div>
  </div>
</div>
<br>
</div>

<div style="clear: both">&nbsp;</div>

</div> <!-- content -->
</div> <!-- container -->
</div> <!-- wrapper -->

<div id="footer">
  <div id="footer_time_info">
    Loaded in 0.0257s.<br>
    Server time on page load:
    May 10, 2018 21:54:05 UTC 
    <br>
  </div>
  <div style="clear: both; height: 1ex"></div>

  <div style="float: right">
    <a href="https://wcipeg.com%2Fproblem%2Fccc96s2p6">Secure server</a>  </div>

<a href="http://www.debian.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/debian.png" alt="Powered by Debian GNU/Linux"></a>

<a href="http://www.apache.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/apache.gif" alt="Powered by Apache"></a>

<a href="http://www.mysql.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/mysql.png" alt="Powered by MySQL"></a>

<a href="http://www.php.net" target="_blank">
  <img src="https://wcipeg.com/assets/img/php.gif" alt="Powered by PHP"> 
</a>

<a href="http://www.openssl.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/openssl.png" alt="Powered by OpenSSL"> 
</a>

<a href="http://www.codeigniter.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/codeignited.gif" alt="Powered by CodeIgniter"> 
</a>

<a href="http://validator.w3.org/check?uri=referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/html5.png" alt="Valid HTML 5"></a>

<a href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/css3.png" alt="Valid CSS 3"></a>

<span title="Thanks to Naomi Cui for helping to create this image">
  <a href="http://git-scm.com/" target="_blank">
    <img src="https://wcipeg.com/assets/img/git-80x15-final.png" alt="git managed">  </a>
</span>

<br>

<div style="font-size: 85%; line-height: 1.5">
  <a href="/wiki/Judge:Copyright" target="_blank">Notes on copyright</a> |
  <a href="/wiki/Judge:TOS" target="_blank">Terms of service</a>
  <br>
  <a href="/wiki/Judge:Free_software" target="_blank">The PEG Judge is powered
  solely by free software.</a>
</div>
 
</div> <!-- footer -->



</body></html>