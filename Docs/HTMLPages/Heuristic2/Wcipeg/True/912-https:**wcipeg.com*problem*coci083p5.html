<!DOCTYPE html><html lang="en"><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <!-- This should probably be done with a server-side include, but
         PHP is easier. -->
    <meta name="description" content="Woburn Collegiate Institute Programming
Enrichment Group Online Judge">
<meta name="keywords" content="PEG Judge,wcipeg.com,Online judge,Canadian
Computing Competition,CCC,American Computer Science League,ACSL,Programming
Enrichment Group,Validator,COCI,Croatian Open Competition in Informatics,
Woburn,Woburn Challenge,Woburn Collegiate Institute,APIO,Asian Pacific
Informatics Olympiad,BOI,Bulgarian Olympiad in Informatics,SMAC,Sane's Monthly
Algorithms Challenge,Problem Solving in Pascal,Bi-Weekly Challenge,Validator,
Hanson Wang,Canada">

    <title>PEG Judge - COCI08 #3 - BST</title>

    <link href="https://wcipeg.com/assets/css/common.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/submissions.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/bbcode.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/highlight/styles/idea.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/icons/favicon.ico" rel="shortcut icon" type="text/css">
    <link href="https://wcipeg.com/assets/css/style.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/jquery.autocomplete.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/desc.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/testcase_editor.css" rel="stylesheet" type="text/css">

    <script type="text/javascript">
        function get_csrf_key() {
            return "csrf_test_name";
        }
        function get_csrf_value() {
            return "a5a6da31e315e7ee609958a2aedecd0f";
        }
        function get_site_url() {
            return "https:\/\/wcipeg.com\/";
        }
    </script>
    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-1.10.1.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-post-csrf.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/global.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment-timezone.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/highlight/highlight.pack.js"></script>    <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
  </head>

  <body style="">
    <div id="backheader"></div>
    <div id="backmenu"></div>

    <div id="wrapper">
      <div id="container">
        <div id="header">
          <div id="logo">
            <!-- TODO: Change "PEG" to something customizable -->
            <a href="https://wcipeg.com/main"><img src="https://wcipeg.com/assets/img/logo.gif" alt="PEG"></a>          </div>
          <div id="user">
                                      Please <a href="https://wcipeg.com/auth/login?ref=%2Fproblem%2Fcoci083p5"><b>log in</b></a>              or <a href="https://wcipeg.com/auth/register"><b>register an account</b></a>.
                      </div> <!-- user -->
                  </div> <!-- header -->

<div id="menu">
  <ul class="nav">
        <li><a href="https://wcipeg.com/main">main</a></li>        <li><a href="https://wcipeg.com/announcements">announcements</a></li>        <li><a href="https://wcipeg.com/problems">problems</a></li>        <li><a href="https://wcipeg.com/submissions">submissions</a></li>        <li><a href="https://wcipeg.com/users">users</a></li>        <li><a href="https://wcipeg.com/organizations">organizations</a></li>        <li><a href="https://wcipeg.com/submit">submit</a></li>        <li><a href="https://wcipeg.com/contests">contests</a></li>        <li><a href="/wiki/Judge:Help" target="_blank">help (<strong>README</strong>)</a></li>        <li><a href="/wiki" target="_blank">wiki</a></li>        <li><a href="/legacy" target="_blank">old</a></li>        <li><a href="/wiki/Judge:Contact" target="_blank">contact</a></li>          </ul>
</div>

<div id="content">


<div id="descContent">
<h3>COCI 2008/2009, Contest #3</h3>
<h2>Task BST</h2>
<p>A binary search tree is a tree in which every node has <b>at most</b> two child nodes (a left and a right child). Each node had an integer written insude it. If the number <code>X</code> is written inside a node, then the numbers in its left subtree are less than <code>X</code> and the numbers in its right subtree are greater than <code>X</code>.</p>
<p>You will be given a sequence of integers between 1 and <code>N</code> such that each number appears in the sequence exactly <i>once</i>. You are to create a binary search tree from the sequence, putting the first number in the root node and inserting every other number in order. In other words, run <code>insert( X, root )</code> for every other number:</p>
<pre>insert( number X, node N )
   increase the counter C by 1
   if X is less than the number in node N
      if N has no left child
         create a new node with the number X and set it to be the left child of node N
      else
         insert( X, left child of node N )
   else (X is greater than the number in node N)
      if N has no right child
         create a new node with the number X and set it to be the right child of node N
      else
         insert( X, right child of node N )</pre>
<p>Write a program that calculates the value of <code>C</code> after every number is inserted. You may assume the counter is initially 0.</p>

<h3>Input</h3>
<p>The first line contains the integer <code>N</code> (1 ≤ <code>N</code> ≤ 300 000), the length of the sequence.</p>
<p>The remaining <code>N</code> lines contain the numbers in the sequence, integers in the interval [<code>1..N</code>]. The numbers will be distinct.</p>

<h3>Output</h3>
<p>Output <code>N</code> integers each on its own line, the values of the counter <code>C</code> after each number is inserted into the tree.</p>

<h3>Scoring</h3>
<p>In test cases worth 50% of points, <code>N</code> will be at most 1000.</p>

<h3>Examples</h3>

<table class="coci">
<tbody><tr>
<td>
<h3>Input</h3>
<pre>4
1
2
3
4</pre><br>
<h3>Output</h3>
<pre>0
1
3
6</pre>
</td>
<td>
<h3>Input</h3>
<pre>5
3
2
4
1
5</pre><br>
<h3>Output</h3>
<pre>0
1
2
4
6</pre>
</td>
<td>
<h3>Input</h3>
<pre>8
3
5
1
6
8
7
2
4</pre><br>
<h3>Output</h3>
<pre>0
1
2
4
7
11
13
15</pre>
</td>
</tr>
</tbody></table>
</div>

<div id="descSidebar"> <!-- TODO: Make this nicer/more semantic -->
  <p>
        
        <a href="https://wcipeg.com/submissions/,coci083p5">All Submissions</a>    <br>
    
        <a href="https://wcipeg.com/submissions/rank/coci083p5">Best Solutions</a>        <br>
  </p>

  <p>
    
      </p>

  <p>
            <br>
  </p>

  <p>
    <!-- TODO: Move this into the controller -->
    <b>Point Value:</b> 20 (partial)<br>
    <b>Time Limit:</b> 2.00s<br>
    <b>Memory Limit:</b> 32M<br>
    <b>Added:</b> Dec 13, 2008<br>
      </p>

  
  <p>
  <b>Languages Allowed:</b><br>
  <span title="C++03 (g++ 4.1.3)">C++03</span>, <span title="Pascal (fpc 2.6.0-9)">PAS</span>, <span title="C (gcc 4.7.2)">C</span>, <span title="Haskell (ghc-6.12.1)">HASK</span>, <span title="Intel x86 assembly (nasm 2.10.01)">ASM</span>, <span title="Ruby (ruby 2.1.2)">RUBY</span>, <span title="Python 2 (python 2.6.8)">PYTH2</span>, <span title="Java (OpenJDK javac 1.7.0_03)">JAVA</span>, <span title="PHP (PHP 5.4.4)">PHP</span>, <span title="Scheme (Racket v5.0.1) (NOT WORKING)">SCM</span>, <span title="OCaml (version 3.12.1)">CAML</span>, <span title="Perl, v5.10.1">PERL</span>, <span title="C# (Mono version 2.4.4.0) (NOT WORKING)">C#</span>, <span title="C++11 (g++ 4.9.1)">C++11</span>, <span title="Python 3 (python 3.2.3)">PYTH3</span>  </p>
</div> <!-- descSidebar -->

<div id="comments">
  <h2 class="icon" style="background: url(https://wcipeg.com/assets/icons/comment_bubble.png) no-repeat right top">Comments (<a href="https://wcipeg.com/comments/search/place=coci083p5">Search</a>)</h2><p style="text-align: center"></p><div class="comment_block" id="comment7092">
  <div class="comment_header" style="opacity: 0.90547134519913">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/competitivecoder">competitivecoder</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/7092">Nov 07, 2015 - 11:13:42 am UTC</a>      </span>
      <a class="comment_title" id="title7092" onclick="toggle(&quot;body7092&quot;)">TLE even after correct algorithm</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating7092">
    (<span class="upvotes"><span id="upvotes7092">1</span></span>/<span class="downvotes"><span id="downvotes7092">1</span></span>)
  </li>
  </ul>  </div>
  <div id="body7092" class="comment_body">
    <pre id="msg7092" style="display: none">Hi :) I have implemented best algorithm in my knowledge but I was only able to clear few test cases :( .I tried with fast io but that too timed out.I changed new to malloc but that was also TLE.Please check admin :)</pre>
    <div style="opacity: 0.90547134519913">
      Hi :) I have implemented best algorithm in my knowledge but I was only able to clear few test cases :( .I tried with fast io but that too timed out.I changed new to malloc but that was also TLE.Please check admin :)    </div>
    <br><div class="comment_block" id="comment7094">
  <div class="comment_header" style="opacity: 0.90547134519913">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/jargon">jargon</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/7094">Nov 07, 2015 - 5:34:54 pm UTC</a>      </span>
      <a class="comment_title" id="title7094" onclick="toggle(&quot;body7094&quot;)">Re: TLE even after correct algorithm</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating7094">
    (<span class="upvotes"><span id="upvotes7094">1</span></span>/<span class="downvotes"><span id="downvotes7094">1</span></span>)
  </li>
  </ul>  </div>
  <div id="body7094" class="comment_body">
    <pre id="msg7094" style="display: none">Sorry, you do not have the correct algorithm. Directly implementing a BST is not fast enough. (Incidentally, malloc is not faster than new, especially for POD types.)

In general, if the problem has more than about 20 accepted users, the problem itself is probably fine.</pre>
    <div style="opacity: 0.90547134519913">
      Sorry, you do not have the correct algorithm. Directly implementing a BST is not fast enough. (Incidentally, malloc is not faster than new, especially for POD types.) <br> <br>In general, if the problem has more than about 20 accepted users, the problem itself is probably fine.    </div>
    <br><div class="comment_block" id="comment7098">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/competitivecoder">competitivecoder</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/7098">Nov 08, 2015 - 5:19:01 am UTC</a>      </span>
      <a class="comment_title" id="title7098" onclick="toggle(&quot;body7098&quot;)">Re: TLE even after correct algorithm</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating7098">
    (<span class="upvotes"><span id="upvotes7098">1</span></span>/<span class="downvotes"><span id="downvotes7098">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body7098" class="comment_body">
    <pre id="msg7098" style="display: none">Hi :) I was not claiming that problem is wrong it must be correct.My point was just asking for help since I don't know anything better than this :) .Would you mind giving me any hint :) Thanks a lot for your reply though :) :)</pre>
    <div style="opacity: 1">
      Hi :) I was not claiming that problem is wrong it must be correct.My point was just asking for help since I don't know anything better than this :) .Would you mind giving me any hint :) Thanks a lot for your reply though :) :)    </div>
      </div>
</div>
  </div>
</div>
  </div>
</div>
<br>
<div class="comment_block" id="comment1143">
  <div class="comment_header" style="opacity: 0.79345670852611">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/hansonw1">hansonw1</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/1143">Jan 03, 2009 - 5:32:43 pm UTC</a>      </span>
      <a class="comment_title" id="title1143" onclick="toggle(&quot;body1143&quot;)">Re: Output</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating1143">
    (<span class="upvotes"><span id="upvotes1143">0</span></span>/<span class="downvotes"><span id="downvotes1143">1</span></span>)
  </li>
  </ul>  </div>
  <div id="body1143" class="comment_body">
    <pre id="msg1143" style="display: none">The first number is automatically put as the root, and nothing happens to the counter.
All the other numbers are inserted normally, though.</pre>
    <div style="opacity: 0.79345670852611">
      The first number is automatically put as the root, and nothing happens to the counter. <br>All the other numbers are inserted normally, though.    </div>
      </div>
</div>
<br>
</div>

<div style="clear: both">&nbsp;</div>

</div> <!-- content -->
</div> <!-- container -->
</div> <!-- wrapper -->

<div id="footer">
  <div id="footer_time_info">
    Loaded in 0.0238s.<br>
    Server time on page load:
    Jun 24, 2018 07:14:40 UTC 
    <br>
  </div>
  <div style="clear: both; height: 1ex"></div>

  <div style="float: right">
    <a href="https://wcipeg.com%2Fproblem%2Fcoci083p5">Secure server</a>  </div>

<a href="http://www.debian.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/debian.png" alt="Powered by Debian GNU/Linux"></a>

<a href="http://www.apache.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/apache.gif" alt="Powered by Apache"></a>

<a href="http://www.mysql.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/mysql.png" alt="Powered by MySQL"></a>

<a href="http://www.php.net" target="_blank">
  <img src="https://wcipeg.com/assets/img/php.gif" alt="Powered by PHP"> 
</a>

<a href="http://www.openssl.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/openssl.png" alt="Powered by OpenSSL"> 
</a>

<a href="http://www.codeigniter.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/codeignited.gif" alt="Powered by CodeIgniter"> 
</a>

<a href="http://validator.w3.org/check?uri=referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/html5.png" alt="Valid HTML 5"></a>

<a href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/css3.png" alt="Valid CSS 3"></a>

<span title="Thanks to Naomi Cui for helping to create this image">
  <a href="http://git-scm.com/" target="_blank">
    <img src="https://wcipeg.com/assets/img/git-80x15-final.png" alt="git managed">  </a>
</span>

<br>

<div style="font-size: 85%; line-height: 1.5">
  <a href="/wiki/Judge:Copyright" target="_blank">Notes on copyright</a> |
  <a href="/wiki/Judge:TOS" target="_blank">Terms of service</a>
  <br>
  <a href="/wiki/Judge:Free_software" target="_blank">The PEG Judge is powered
  solely by free software.</a>
</div>
 
</div> <!-- footer -->



</body></html>