<!DOCTYPE html><html lang="en"><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <!-- This should probably be done with a server-side include, but
         PHP is easier. -->
    <meta name="description" content="Woburn Collegiate Institute Programming
Enrichment Group Online Judge">
<meta name="keywords" content="PEG Judge,wcipeg.com,Online judge,Canadian
Computing Competition,CCC,American Computer Science League,ACSL,Programming
Enrichment Group,Validator,COCI,Croatian Open Competition in Informatics,
Woburn,Woburn Challenge,Woburn Collegiate Institute,APIO,Asian Pacific
Informatics Olympiad,BOI,Bulgarian Olympiad in Informatics,SMAC,Sane's Monthly
Algorithms Challenge,Problem Solving in Pascal,Bi-Weekly Challenge,Validator,
Hanson Wang,Canada">

    <title>PEG Judge - CCC04 Stage 2 - Jengaism</title>

    <link href="https://wcipeg.com/assets/css/common.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/submissions.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/bbcode.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/highlight/styles/idea.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/icons/favicon.ico" rel="shortcut icon" type="text/css">
    <link href="https://wcipeg.com/assets/css/style.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/jquery.autocomplete.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/desc.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/testcase_editor.css" rel="stylesheet" type="text/css">

    <script type="text/javascript">
        function get_csrf_key() {
            return "csrf_test_name";
        }
        function get_csrf_value() {
            return "8c45b434a3b7582378f7341582f131fd";
        }
        function get_site_url() {
            return "https:\/\/wcipeg.com\/";
        }
    </script>
    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-1.10.1.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-post-csrf.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/global.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment-timezone.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/highlight/highlight.pack.js"></script>    <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
  </head>

  <body style="">
    <div id="backheader"></div>
    <div id="backmenu"></div>

    <div id="wrapper">
      <div id="container">
        <div id="header">
          <div id="logo">
            <!-- TODO: Change "PEG" to something customizable -->
            <a href="https://wcipeg.com/main"><img src="https://wcipeg.com/assets/img/logo.gif" alt="PEG"></a>          </div>
          <div id="user">
                                      Please <a href="https://wcipeg.com/auth/login?ref=%2Fproblem%2Fccc04s2p5"><b>log in</b></a>              or <a href="https://wcipeg.com/auth/register"><b>register an account</b></a>.
                      </div> <!-- user -->
                  </div> <!-- header -->

<div id="menu">
  <ul class="nav">
        <li><a href="https://wcipeg.com/main">main</a></li>        <li><a href="https://wcipeg.com/announcements">announcements</a></li>        <li><a href="https://wcipeg.com/problems">problems</a></li>        <li><a href="https://wcipeg.com/submissions">submissions</a></li>        <li><a href="https://wcipeg.com/users">users</a></li>        <li><a href="https://wcipeg.com/organizations">organizations</a></li>        <li><a href="https://wcipeg.com/submit">submit</a></li>        <li><a href="https://wcipeg.com/contests">contests</a></li>        <li><a href="/wiki/Judge:Help" target="_blank">help (<strong>README</strong>)</a></li>        <li><a href="/wiki" target="_blank">wiki</a></li>        <li><a href="/legacy" target="_blank">old</a></li>        <li><a href="/wiki/Judge:Contact" target="_blank">contact</a></li>          </ul>
</div>

<div id="content">


<div id="descContent">
<h3>2004 Canadian Computing Competition, Stage 2</h3>
<h2>Day 2, Problem 2: Jengaism</h2>

<p>Jenga is a popular game involving a tower constructed of 1x1x3 blocks. Initially, this tower has 18 levels, each consisting of three blocks laid side to side. The blocks on alternating levels are oriented at right angles. Thus, each block touches all three of the blocks in the levels above and below it. Here is a picture of the actual game:</p>

<p style="text-align: center"><img src="images/ccc04s2p5/ccc04s2p5.png" alt="Jenga board game"></p>

<p>Play involves each player removing a block from somewhere in the tower, and putting it in a new position on top. The goal is to do this without knocking over the tower. Blocks are always removed from below the highest complete level, and the top level is always completed before a new level is started (at right angles, of course).</p>
<p>Write a program which reads sequential moves of a Jenga game and determines at what point the tower (or any part of it) falls or topples.</p>
<p>Note that a structure will topple if its center of gravity, projected onto its base, lies outside the convex hull of its support points. If the center of gravity lies exactly on the edge of this hull, we will assume that the structure is stable.</p>
<h3>Input</h3>
<p>The first line contains <em>N</em>, the number of moves. The next <em>N</em> lines describe one move per line, with two locations separated by a single space. The first is the location of the block to be removed, and the second is where it will be put back. A location is specified as a number, specifying the level, and then a letter A-C, specifying its position in the level (left to right or front to back). </p>
<p>For instance, the top level of the initial tower configuration consists of blocks at 18A, 18B, and 18C. Below is a diagram of the pieces, labelled with a front and right side perspective.</p>

<table class="nicetab" style="float: left; margin: 10px;">
  <tbody><tr>
    <td colspan="3">18C</td>
  </tr>
  <tr>
    <td>17A</td>
    <td>17B</td>
    <td>17C</td>
  </tr>
  <tr>
    <td colspan="3">16C</td>
  </tr>
  <tr>
    <td>15A</td>
    <td>15B</td>
    <td>15C</td>
  </tr>
  <tr>
    <td colspan="3">14C</td>
  </tr>
  <tr>
    <td>13A</td>
    <td>13B</td>
    <td>13C</td>
  </tr>
  <tr>
    <td colspan="3">12C</td>
  </tr>
  <tr>
    <td>11A</td>
    <td>11B</td>
    <td>11C</td>
  </tr>
  <tr>
    <td colspan="3">10C</td>
  </tr>
  <tr>
    <td>9A</td>
    <td>9B</td>
    <td>9C</td>
  </tr>
  <tr>
    <td colspan="3">8C</td>
  </tr>
  <tr>
    <td>7A</td>
    <td>7B</td>
    <td>7C</td>
  </tr>
  <tr>
    <td colspan="3">6C</td>
  </tr>
  <tr>
    <td>5A</td>
    <td>5B</td>
    <td>5C</td>
  </tr>
  <tr>
    <td colspan="3">4C</td>
  </tr>
  <tr>
    <td>3A</td>
    <td>3B</td>
    <td>3C</td>
  </tr>
  <tr>
    <td colspan="3">2C</td>
  </tr>
  <tr>
    <td>1A</td>
    <td>1B</td>
    <td>1C</td>
  </tr>
</tbody></table>

<table class="nicetab" style="float: left; margin: 10px;">
  <tbody><tr>
    <td>18A</td>
    <td>18B </td>
    <td>18C</td>
  </tr>
  <tr>
    <td colspan="3">17C</td>
  </tr>
  <tr>
    <td>16A</td>
    <td>16B</td>
    <td>16C</td>
  </tr>
  <tr>
    <td colspan="3">15C</td>
  </tr>
  <tr>
    <td>14A</td>
    <td>14B</td>
    <td>14C</td>
  </tr>
  <tr>
    <td colspan="3">13C</td>
  </tr>
  <tr>
    <td>12A</td>
    <td>12B</td>
    <td>12C</td>
  </tr>
  <tr>
    <td colspan="3">11C</td>
  </tr>
  <tr>
    <td>10A</td>
    <td>10B</td>
    <td>10C</td>
  </tr>
  <tr>
    <td colspan="3">9C</td>
  </tr>
  <tr>
    <td>8A</td>
    <td>8B</td>
    <td>8C</td>
  </tr>
  <tr>
    <td colspan="3">7C</td>
  </tr>
  <tr>
    <td>6A</td>
    <td>6B</td>
    <td>6C</td>
  </tr>
  <tr>
    <td colspan="3">5C</td>
  </tr>
  <tr>
    <td>4A</td>
    <td>4B</td>
    <td>4C</td>
  </tr>
  <tr>
    <td colspan="3">3C</td>
  </tr>
  <tr>
    <td>2A</td>
    <td>2B</td>
    <td>2C</td>
  </tr>
  <tr>
    <td colspan="3">1C</td>
  </tr>
</tbody></table>

<div style="clear: both"></div>

<h3>Output</h3>
<p>If the tower collapses after removing a block at location L, output "The tower collapses after removing L".<br>
  If the tower collapses after placing a block at location L, output "The tower collapses after placing L".<br>
  If all moves execute successfully (i.e., without causing the tower to fall), output "The tower never collapses".</p>

<h3>Sample Input 1</h3>

<pre>4
6B 19B
7B 19A
17B 19C
17A 20B</pre>

<h3>Sample Output 1</h3>

<pre>The tower collapses after removing 17A</pre>

<h3>Sample Input 2</h3>

<pre>2
17C 19C
17A 19A</pre>

<h3>Sample Output 2</h3>

<pre>The tower never collapses</pre>


</div>

<div id="descSidebar"> <!-- TODO: Make this nicer/more semantic -->
  <p>
        
        <a href="https://wcipeg.com/submissions/,ccc04s2p5">All Submissions</a>    <br>
    
        <a href="https://wcipeg.com/submissions/rank/ccc04s2p5">Best Solutions</a>        <br>
  </p>

  <p>
    
      </p>

  <p>
            <br>
  </p>

  <p>
    <!-- TODO: Move this into the controller -->
    <b>Point Value:</b> 10<br>
    <b>Time Limit:</b> 2.00s<br>
    <b>Memory Limit:</b> 16M<br>
    <b>Added:</b> Dec 27, 2008<br>
      </p>

  
  <p>
  <b>Languages Allowed:</b><br>
  <span title="C++03 (g++ 4.1.3)">C++03</span>, <span title="Pascal (fpc 2.6.0-9)">PAS</span>, <span title="C (gcc 4.7.2)">C</span>, <span title="Haskell (ghc-6.12.1)">HASK</span>, <span title="Intel x86 assembly (nasm 2.10.01)">ASM</span>, <span title="Ruby (ruby 2.1.2)">RUBY</span>, <span title="Python 2 (python 2.6.8)">PYTH2</span>, <span title="Java (OpenJDK javac 1.7.0_03)">JAVA</span>, <span title="PHP (PHP 5.4.4)">PHP</span>, <span title="Scheme (Racket v5.0.1) (NOT WORKING)">SCM</span>, <span title="OCaml (version 3.12.1)">CAML</span>, <span title="Perl, v5.10.1">PERL</span>, <span title="C# (Mono version 2.4.4.0) (NOT WORKING)">C#</span>, <span title="C++11 (g++ 4.9.1)">C++11</span>, <span title="Python 3 (python 3.2.3)">PYTH3</span>  </p>
</div> <!-- descSidebar -->

<div id="comments">
  <h2 class="icon" style="background: url(https://wcipeg.com/assets/icons/comment_bubble.png) no-repeat right top">Comments (<a href="https://wcipeg.com/comments/search/place=ccc04s2p5">Search</a>)</h2><p style="text-align: center"></p><div class="comment_block" id="comment1000">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/bleung91">bleung91</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/1000">Dec 28, 2008 - 3:03:52 am UTC</a>      </span>
      <a class="comment_title" id="title1000" onclick="toggle(&quot;body1000&quot;)">centre of gravity</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating1000">
    (<span class="upvotes"><span id="upvotes1000">0</span></span>/<span class="downvotes"><span id="downvotes1000">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body1000" class="comment_body">
    <pre id="msg1000" style="display: none">how are we suppose dto figure that out?</pre>
    <div style="opacity: 1">
      how are we suppose dto figure that out?    </div>
    <br><div class="comment_block" id="comment1001">
  <div class="comment_header" style="opacity: 0.95441393735536">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/hansonw1">hansonw1</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/1001">Dec 28, 2008 - 3:05:03 am UTC</a>      </span>
      <a class="comment_title" id="title1001" onclick="toggle(&quot;body1001&quot;)">Re: centre of gravity</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating1001">
    (<span class="upvotes"><span id="upvotes1001">3</span></span>/<span class="downvotes"><span id="downvotes1001">1</span></span>)
  </li>
  </ul>  </div>
  <div id="body1001" class="comment_body">
    <pre id="msg1001" style="display: none">Some simple logic goes a long way.</pre>
    <div style="opacity: 0.95441393735536">
      Some simple logic goes a long way.    </div>
      </div>
</div>
  </div>
</div>
<br>
<div class="comment_block" id="comment997">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/bleung91">bleung91</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/997">Dec 28, 2008 - 2:40:10 am UTC</a>      </span>
      <a class="comment_title" id="title997" onclick="toggle(&quot;body997&quot;)">support points?</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating997">
    (<span class="upvotes"><span id="upvotes997">0</span></span>/<span class="downvotes"><span id="downvotes997">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body997" class="comment_body">
    <pre id="msg997" style="display: none">what are those?</pre>
    <div style="opacity: 1">
      what are those?    </div>
    <br><div class="comment_block" id="comment998">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/dAedaL">dAedaL</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/998">Dec 28, 2008 - 3:01:17 am UTC</a>      </span>
      <a class="comment_title" id="title998" onclick="toggle(&quot;body998&quot;)">Re: support points?</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating998">
    (<span class="upvotes"><span id="upvotes998">0</span></span>/<span class="downvotes"><span id="downvotes998">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body998" class="comment_body">
    <pre id="msg998" style="display: none">I have absolutely no idea and I solved it.
Grammar error TT</pre>
    <div style="opacity: 1">
      I have absolutely no idea and I solved it. <br>Grammar error TT    </div>
      </div>
</div>
  </div>
</div>
<br>
</div>

<div style="clear: both">&nbsp;</div>

</div> <!-- content -->
</div> <!-- container -->
</div> <!-- wrapper -->

<div id="footer">
  <div id="footer_time_info">
    Loaded in 0.0199s.<br>
    Server time on page load:
    May 9, 2018 15:29:21 UTC 
    <br>
  </div>
  <div style="clear: both; height: 1ex"></div>

  <div style="float: right">
    <a href="https://wcipeg.com%2Fproblem%2Fccc04s2p5">Secure server</a>  </div>

<a href="http://www.debian.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/debian.png" alt="Powered by Debian GNU/Linux"></a>

<a href="http://www.apache.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/apache.gif" alt="Powered by Apache"></a>

<a href="http://www.mysql.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/mysql.png" alt="Powered by MySQL"></a>

<a href="http://www.php.net" target="_blank">
  <img src="https://wcipeg.com/assets/img/php.gif" alt="Powered by PHP"> 
</a>

<a href="http://www.openssl.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/openssl.png" alt="Powered by OpenSSL"> 
</a>

<a href="http://www.codeigniter.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/codeignited.gif" alt="Powered by CodeIgniter"> 
</a>

<a href="http://validator.w3.org/check?uri=referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/html5.png" alt="Valid HTML 5"></a>

<a href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/css3.png" alt="Valid CSS 3"></a>

<span title="Thanks to Naomi Cui for helping to create this image">
  <a href="http://git-scm.com/" target="_blank">
    <img src="https://wcipeg.com/assets/img/git-80x15-final.png" alt="git managed">  </a>
</span>

<br>

<div style="font-size: 85%; line-height: 1.5">
  <a href="/wiki/Judge:Copyright" target="_blank">Notes on copyright</a> |
  <a href="/wiki/Judge:TOS" target="_blank">Terms of service</a>
  <br>
  <a href="/wiki/Judge:Free_software" target="_blank">The PEG Judge is powered
  solely by free software.</a>
</div>
 
</div> <!-- footer -->



</body></html>