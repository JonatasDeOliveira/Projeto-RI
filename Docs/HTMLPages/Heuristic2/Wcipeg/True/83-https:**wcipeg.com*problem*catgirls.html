<!DOCTYPE html><html lang="en"><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <!-- This should probably be done with a server-side include, but
         PHP is easier. -->
    <meta name="description" content="Woburn Collegiate Institute Programming
Enrichment Group Online Judge">
<meta name="keywords" content="PEG Judge,wcipeg.com,Online judge,Canadian
Computing Competition,CCC,American Computer Science League,ACSL,Programming
Enrichment Group,Validator,COCI,Croatian Open Competition in Informatics,
Woburn,Woburn Challenge,Woburn Collegiate Institute,APIO,Asian Pacific
Informatics Olympiad,BOI,Bulgarian Olympiad in Informatics,SMAC,Sane's Monthly
Algorithms Challenge,Problem Solving in Pascal,Bi-Weekly Challenge,Validator,
Hanson Wang,Canada">

    <title>PEG Judge - Cat Girls</title>

    <link href="https://wcipeg.com/assets/css/common.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/submissions.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/bbcode.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/highlight/styles/idea.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/icons/favicon.ico" rel="shortcut icon" type="text/css">
    <link href="https://wcipeg.com/assets/css/style.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/jquery.autocomplete.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/desc.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/testcase_editor.css" rel="stylesheet" type="text/css">

    <script type="text/javascript">
        function get_csrf_key() {
            return "csrf_test_name";
        }
        function get_csrf_value() {
            return "58ee96f07f700762ecde5e3dc163a054";
        }
        function get_site_url() {
            return "https:\/\/wcipeg.com\/";
        }
    </script>
    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-1.10.1.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-post-csrf.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/global.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment-timezone.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/highlight/highlight.pack.js"></script>    <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
  </head>

  <body style="">
    <div id="backheader"></div>
    <div id="backmenu"></div>

    <div id="wrapper">
      <div id="container">
        <div id="header">
          <div id="logo">
            <!-- TODO: Change "PEG" to something customizable -->
            <a href="https://wcipeg.com/main"><img src="https://wcipeg.com/assets/img/logo.gif" alt="PEG"></a>          </div>
          <div id="user">
                                      Please <a href="https://wcipeg.com/auth/login?ref=%2Fproblem%2Fcatgirls"><b>log in</b></a>              or <a href="https://wcipeg.com/auth/register"><b>register an account</b></a>.
                      </div> <!-- user -->
                  </div> <!-- header -->

<div id="menu">
  <ul class="nav">
        <li><a href="https://wcipeg.com/main">main</a></li>        <li><a href="https://wcipeg.com/announcements">announcements</a></li>        <li><a href="https://wcipeg.com/problems">problems</a></li>        <li><a href="https://wcipeg.com/submissions">submissions</a></li>        <li><a href="https://wcipeg.com/users">users</a></li>        <li><a href="https://wcipeg.com/organizations">organizations</a></li>        <li><a href="https://wcipeg.com/submit">submit</a></li>        <li><a href="https://wcipeg.com/contests">contests</a></li>        <li><a href="/wiki/Judge:Help" target="_blank">help (<strong>README</strong>)</a></li>        <li><a href="/wiki" target="_blank">wiki</a></li>        <li><a href="/legacy" target="_blank">old</a></li>        <li><a href="/wiki/Judge:Contact" target="_blank">contact</a></li>          </ul>
</div>

<div id="content">


<div id="descContent">
<h3>Halloween Kemonomimi Party 2014</h3>
<h2>Problem B: Cat Girls</h2>

<p>This morning, you woke up and realized that some cats have turned into girls! In light of this exciting event, you have collected a large quantity of catnip to attract girls to your home (it's not as sketchy as it sounds).There, you plan to... take pictures of them while they are in a line. Don't worry, these are harmless pictures! However, your camera is quite small, and you may not be able to capture all of the cat-girls in a single photo. Your camera can only capture a contiguous subsequence of cat-girls in their line-up. Additionally, cat-girls keep showing up during the photo shoot! Even though this is a happy event, it troubles you because you always want to take the best picture you can with the available cat-girls. To complicate things further, some cat-girls want to nap so they leave the photo shoot. Fortunately, you have the cat-girls line up in a line in such a way that cat-girls only arrive and depart from the right end of the line.</p>

<p>Your camera's field of view is <var>W</var> units wide. Each cat-girl has two attributes: <var>p<sub>i</sub></var> and <var>c<sub>i</sub></var>. <var>p<sub>i</sub></var> (1 ≤ <var>p<sub>i</sub></var> ≤ 10<sup>9</sup>) represents the width of the pose the cat-girl is making, in the same units as the field of view of your camera. <var>c<sub>i</sub></var> (1 ≤ <var>c<sub>i</sub></var> ≤ 10<sup>9</sup>) represents the cuteness of the cat-girl.</p>

<p></p><p>The cuteness of a picture is the sum of cuteness values of the cat-girls whose <b>full poses</b> are captured in the picture. To satisfy your desires, you write a program to calculate the maximum cuteness you can capture in a photo after each cat-girl arrives. Initially, there are no cat-girls in the line (but don't worry, we assure you that at least one will come!).</p>

<h3>Input Format</h3>
<p>The first line of input will have <var>N</var> (1 ≤ <var>N</var> ≤ 500000), the number of events, and <var>W</var> (1 ≤ <var>W</var> ≤ 5×10<sup>14</sup>), your camera's field of view, separated by a single space. The next <var>N</var> lines will be in one of the following forms:</p>

<ul>
<li><code>A p<sub>i</sub> c<sub>i</sub></code>: A cat-girl arrives at the right side of the line with pose width <var>p<sub>i</sub></var> and cuteness <var>c<sub>i</sub></var>. You should output the maximum cuteness of the best picture you can take at this point in time.</li>
<li><code>D</code>: Sadly, a cat-girl departs from the right side of the line. Don't worry, she'll surely visit again soon! You can be sure that the line will not be empty when this event happens.</li>
</ul>

<p>At least 25% of the test cases will have 1 ≤ <var>N</var> ≤ 10000.</p>

<h3>Output Format</h3>
<p>After each cat-girl's arrival, output the maximum cuteness you can take a photo of.</p>

<h3>Sample Input 1</h3>
<pre>8 5
A 3 10
A 4 15
D
A 2 9
A 1 10
A 4 15
D
A 6 1000
</pre>

<h3>Sample Output 1</h3>
<pre>10
15
19
19
25
19
</pre>

<h3>Sample Input 2</h3>
<pre>5 100
A 100 10000
A 14 28
A 88 166
A 75 39
A 1 1000
</pre>

<h3>Sample Output 2</h3>
<pre>10000
10000
10000
10000
10000
</pre>

<h3>Explanation for Sample 2</h3>
<p>The first cat girl is simply too cute for the others to compete with! Now you have 5 photos of her.</p>

<p><img src="images/catgirls/catgirls.png" width="500px"></p>
</div>

<div id="descSidebar"> <!-- TODO: Make this nicer/more semantic -->
  <p>
        
        <a href="https://wcipeg.com/submissions/,catgirls">All Submissions</a>    <br>
    
        <a href="https://wcipeg.com/submissions/rank/catgirls">Best Solutions</a>        <br>
  </p>

  <p>
    
      </p>

  <p>
            <br>
  </p>

  <p>
    <!-- TODO: Move this into the controller -->
    <b>Point Value:</b> 15 (partial)<br>
    <b>Time Limit:</b> 3.00s<br>
    <b>Memory Limit:</b> 256M<br>
    <b>Added:</b> Nov 04, 2014<br>
        <b>Author:</b> <a href="https://wcipeg.com/user/FatalEagle">FatalEagle</a>  </p>

  
  <p>
  <b>Languages Allowed:</b><br>
  <span title="C++03 (g++ 4.1.3)">C++03</span>, <span title="Pascal (fpc 2.6.0-9)">PAS</span>, <span title="C (gcc 4.7.2)">C</span>, <span title="Haskell (ghc-6.12.1)">HASK</span>, <span title="Intel x86 assembly (nasm 2.10.01)">ASM</span>, <span title="Ruby (ruby 2.1.2)">RUBY</span>, <span title="Python 2 (python 2.6.8)">PYTH2</span>, <span title="Java (OpenJDK javac 1.7.0_03)">JAVA</span>, <span title="PHP (PHP 5.4.4)">PHP</span>, <span title="Scheme (Racket v5.0.1) (NOT WORKING)">SCM</span>, <span title="OCaml (version 3.12.1)">CAML</span>, <span title="Perl, v5.10.1">PERL</span>, <span title="C# (Mono version 2.4.4.0) (NOT WORKING)">C#</span>, <span title="C++11 (g++ 4.9.1)">C++11</span>, <span title="Python 3 (python 3.2.3)">PYTH3</span>  </p>
</div> <!-- descSidebar -->

<div id="comments">
  <h2 class="icon" style="background: url(https://wcipeg.com/assets/icons/comment_bubble.png) no-repeat right top">Comments (<a href="https://wcipeg.com/comments/search/place=catgirls">Search</a>)</h2><p style="text-align: center"></p><div class="comment_block" id="comment6395">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/Ajna">Ajna</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/6395">Dec 21, 2014 - 12:54:21 pm UTC</a>      </span>
      <a class="comment_title" id="title6395" onclick="toggle(&quot;body6395&quot;)">Are you positive that it is doable with Python 3 (again)?</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating6395">
    (<span class="upvotes"><span id="upvotes6395">0</span></span>/<span class="downvotes"><span id="downvotes6395">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body6395" class="comment_body">
    <pre id="msg6395" style="display: none">I have an idea that could make my algo save some time, but before working for implementing it and seeing how much it does take to run the second part of the tests, I would like to know if there is some chance of completing it with P3.</pre>
    <div style="opacity: 1">
      I have an idea that could make my algo save some time, but before working for implementing it and seeing how much it does take to run the second part of the tests, I would like to know if there is some chance of completing it with P3.    </div>
    <br><div class="comment_block" id="comment6396">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/FatalEagle">FatalEagle</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/6396">Dec 21, 2014 - 3:49:32 pm UTC</a>      </span>
      <a class="comment_title" id="title6396" onclick="toggle(&quot;body6396&quot;)">Re: Are you positive that it is doable with Python 3 (again)?</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating6396">
    (<span class="upvotes"><span id="upvotes6396">0</span></span>/<span class="downvotes"><span id="downvotes6396">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body6396" class="comment_body">
    <pre id="msg6396" style="display: none">To be honest, I have not tested this problem with Python 3, so it might be impossible. But the intended algorithm in Python 2 should be able to get at least 85/100.</pre>
    <div style="opacity: 1">
      To be honest, I have not tested this problem with Python 3, so it might be impossible. But the intended algorithm in Python 2 should be able to get at least 85/100.    </div>
    <br><div class="comment_block" id="comment6397">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/quantum">quantum</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/6397">Dec 21, 2014 - 4:54:43 pm UTC</a>      </span>
      <a class="comment_title" id="title6397" onclick="toggle(&quot;body6397&quot;)">Re: Are you positive that it is doable with Python 3 (again)?</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating6397">
    (<span class="upvotes"><span id="upvotes6397">4</span></span>/<span class="downvotes"><span id="downvotes6397">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body6397" class="comment_body">
    <pre id="msg6397" style="display: none">Proven possible.</pre>
    <div style="opacity: 1">
      Proven possible.    </div>
    <br><div class="comment_block" id="comment6400">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/Ajna">Ajna</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/6400">Dec 22, 2014 - 8:42:05 pm UTC</a>      </span>
      <a class="comment_title" id="title6400" onclick="toggle(&quot;body6400&quot;)">Re: Are you positive that it is doable with Python 3 (again)?</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating6400">
    (<span class="upvotes"><span id="upvotes6400">0</span></span>/<span class="downvotes"><span id="downvotes6400">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body6400" class="comment_body">
    <pre id="msg6400" style="display: none">Oh, you did 100/100 on Python in the time limit, quantum? But I don't see your solution, possibly because the system only keeps the best time per user and you submitted with another more performing language?

On a side note, let me thank you for your concise and (imho) elegant code: even if rarely is the easier to read, it is often where I learn more while I go and check other people's work.

I have come to admire your work and I hope one day I'll be closer to your kind of knowledge with Python :)</pre>
    <div style="opacity: 1">
      Oh, you did 100/100 on Python in the time limit, quantum? But I don't see your solution, possibly because the system only keeps the best time per user and you submitted with another more performing language? <br> <br>On a side note, let me thank you for your concise and (imho) elegant code: even if rarely is the easier to read, it is often where I learn more while I go and check other people's work. <br> <br>I have come to admire your work and I hope one day I'll be closer to your kind of knowledge with Python :)    </div>
    <br><div class="comment_block" id="comment6405">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/jargon">jargon</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/6405">Dec 24, 2014 - 6:32:56 am UTC</a>      </span>
      <a class="comment_title" id="title6405" onclick="toggle(&quot;body6405&quot;)">Re: Are you positive that it is doable with Python 3 (again)?</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating6405">
    (<span class="upvotes"><span id="upvotes6405">0</span></span>/<span class="downvotes"><span id="downvotes6405">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body6405" class="comment_body">
    <pre id="msg6405" style="display: none">You can view all solutions by a given user by going to their profile and clicking on the ([url=http://wcipeg.com/submissions/quantum,catgirls]15 / 15[/url]) on their profile. [url=http://wcipeg.com/submissions/src/232091]Here's a direct link to quantum's 100/100 Py3 solution.[/url]</pre>
    <div style="opacity: 1">
      You can view all solutions by a given user by going to their profile and clicking on the (<a href="http://wcipeg.com/submissions/quantum,catgirls" target="_blank">15 / 15</a>) on their profile. <a href="http://wcipeg.com/submissions/src/232091" target="_blank">Here's a direct link to quantum's 100/100 Py3 solution.</a>    </div>
    <br><div class="comment_block" id="comment6410">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/Ajna">Ajna</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/6410">Dec 25, 2014 - 11:56:32 am UTC</a>      </span>
      <a class="comment_title" id="title6410" onclick="toggle(&quot;body6410&quot;)">Re: Are you positive that it is doable with Python 3 (again)?</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating6410">
    (<span class="upvotes"><span id="upvotes6410">0</span></span>/<span class="downvotes"><span id="downvotes6410">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body6410" class="comment_body">
    <pre id="msg6410" style="display: none">Oh, I see, thanks. I see that I can, I mean, but of course I can't see his solution, not having solved it myself.</pre>
    <div style="opacity: 1">
      Oh, I see, thanks. I see that I can, I mean, but of course I can't see his solution, not having solved it myself.    </div>
      </div>
</div>
  </div>
</div>
  </div>
</div>
  </div>
</div>
  </div>
</div>
  </div>
</div>
<br>
</div>

<div style="clear: both">&nbsp;</div>

</div> <!-- content -->
</div> <!-- container -->
</div> <!-- wrapper -->

<div id="footer">
  <div id="footer_time_info">
    Loaded in 0.0253s.<br>
    Server time on page load:
    Jun 11, 2018 06:04:34 UTC 
    <br>
  </div>
  <div style="clear: both; height: 1ex"></div>

  <div style="float: right">
    <a href="https://wcipeg.com%2Fproblem%2Fcatgirls">Secure server</a>  </div>

<a href="http://www.debian.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/debian.png" alt="Powered by Debian GNU/Linux"></a>

<a href="http://www.apache.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/apache.gif" alt="Powered by Apache"></a>

<a href="http://www.mysql.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/mysql.png" alt="Powered by MySQL"></a>

<a href="http://www.php.net" target="_blank">
  <img src="https://wcipeg.com/assets/img/php.gif" alt="Powered by PHP"> 
</a>

<a href="http://www.openssl.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/openssl.png" alt="Powered by OpenSSL"> 
</a>

<a href="http://www.codeigniter.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/codeignited.gif" alt="Powered by CodeIgniter"> 
</a>

<a href="http://validator.w3.org/check?uri=referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/html5.png" alt="Valid HTML 5"></a>

<a href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/css3.png" alt="Valid CSS 3"></a>

<span title="Thanks to Naomi Cui for helping to create this image">
  <a href="http://git-scm.com/" target="_blank">
    <img src="https://wcipeg.com/assets/img/git-80x15-final.png" alt="git managed">  </a>
</span>

<br>

<div style="font-size: 85%; line-height: 1.5">
  <a href="/wiki/Judge:Copyright" target="_blank">Notes on copyright</a> |
  <a href="/wiki/Judge:TOS" target="_blank">Terms of service</a>
  <br>
  <a href="/wiki/Judge:Free_software" target="_blank">The PEG Judge is powered
  solely by free software.</a>
</div>
 
</div> <!-- footer -->



</body></html>