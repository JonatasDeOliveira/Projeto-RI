<!DOCTYPE html><html lang="en"><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <!-- This should probably be done with a server-side include, but
         PHP is easier. -->
    <meta name="description" content="Woburn Collegiate Institute Programming
Enrichment Group Online Judge">
<meta name="keywords" content="PEG Judge,wcipeg.com,Online judge,Canadian
Computing Competition,CCC,American Computer Science League,ACSL,Programming
Enrichment Group,Validator,COCI,Croatian Open Competition in Informatics,
Woburn,Woburn Challenge,Woburn Collegiate Institute,APIO,Asian Pacific
Informatics Olympiad,BOI,Bulgarian Olympiad in Informatics,SMAC,Sane's Monthly
Algorithms Challenge,Problem Solving in Pascal,Bi-Weekly Challenge,Validator,
Hanson Wang,Canada">

    <title>PEG Judge - A Frightening Evening</title>

    <link href="https://wcipeg.com/assets/css/common.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/submissions.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/bbcode.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/highlight/styles/idea.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/icons/favicon.ico" rel="shortcut icon" type="text/css">
    <link href="https://wcipeg.com/assets/css/style.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/jquery.autocomplete.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/desc.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/testcase_editor.css" rel="stylesheet" type="text/css">

    <script type="text/javascript">
        function get_csrf_key() {
            return "csrf_test_name";
        }
        function get_csrf_value() {
            return "221fe9b9644c0adc95c96655c1b1b5a1";
        }
        function get_site_url() {
            return "https:\/\/wcipeg.com\/";
        }
    </script>
    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-1.10.1.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-post-csrf.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/global.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment-timezone.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/highlight/highlight.pack.js"></script>    <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
  </head>

  <body style="">
    <div id="backheader"></div>
    <div id="backmenu"></div>

    <div id="wrapper">
      <div id="container">
        <div id="header">
          <div id="logo">
            <!-- TODO: Change "PEG" to something customizable -->
            <a href="https://wcipeg.com/main"><img src="https://wcipeg.com/assets/img/logo.gif" alt="PEG"></a>          </div>
          <div id="user">
                                      Please <a href="https://wcipeg.com/auth/login?ref=%2Fproblem%2Facmtryouts3d"><b>log in</b></a>              or <a href="https://wcipeg.com/auth/register"><b>register an account</b></a>.
                      </div> <!-- user -->
                  </div> <!-- header -->

<div id="menu">
  <ul class="nav">
        <li><a href="https://wcipeg.com/main">main</a></li>        <li><a href="https://wcipeg.com/announcements">announcements</a></li>        <li><a href="https://wcipeg.com/problems">problems</a></li>        <li><a href="https://wcipeg.com/submissions">submissions</a></li>        <li><a href="https://wcipeg.com/users">users</a></li>        <li><a href="https://wcipeg.com/organizations">organizations</a></li>        <li><a href="https://wcipeg.com/submit">submit</a></li>        <li><a href="https://wcipeg.com/contests">contests</a></li>        <li><a href="/wiki/Judge:Help" target="_blank">help (<strong>README</strong>)</a></li>        <li><a href="/wiki" target="_blank">wiki</a></li>        <li><a href="/legacy" target="_blank">old</a></li>        <li><a href="/wiki/Judge:Contact" target="_blank">contact</a></li>          </ul>
</div>

<div id="content">


<div id="descContent">
<h3>University of Toronto ACM-ICPC Tryouts 2013</h3>
<h2>D: A Frightening Evening</h2>

<p>Bob is taking Alice out for an evening at the movies! He'll be deciding what movies they see, of course, and he's got <var>N</var> (1 ≤ <var>N</var> ≤ 100) awesome ones in mind. All of them happen to be horror movies.</p>

<p>A given movie is <var>D</var> (1 ≤ <var>D</var> ≤ 10<sup>9</sup>) minutes long, and has <var>M</var> (0 ≤ <var>M</var> ≤ 100) key moments. The <var>i</var>-th moment occurs <var>T<sub>i</sub></var> minutes into the movie, and causes Alice's fright level (which starts at 0) to instantly increase by <var>F<sub>i</sub></var> (−10<sup>6</sup> ≤ <var>F<sub>i</sub></var> ≤ 10<sup>6</sup>). If her fright level would become negative, it instead becomes 0. The moments are given in chronological order, so 0 ≤ <var>T</var><sub>1</sub> &lt; T<sub>2</sub> &lt; … &lt; <var>T<sub>M</sub></var> ≤ <var>D</var>. As soon as the movie ends, Alice's fright level is instantly reset to 0.</p>

<p>During each movie, Alice has two fright thresholds, <var>H</var> and <var>L</var> (1 ≤ <var>H</var> &lt; <var>L</var> ≤ 10<sup>9</sup>). Whenever her fright level is at least <var>H</var>, Bob is obligated to hold her hand. However, as soon as her fright level is at least <var>L</var>, she'll be scared enough to leave the theatre - at which point, Bob will stay inside and finish the movie, and will of course no longer need to hold her hand.</p>

<p>Bob enjoys brilliant films such as Night of the Dead Living and Return of the Revenge of the Attack of the Killer Foxen, and he'd prefer to not be distracted. As such, he'd like to minimize the amount of time he spends holding Alice's hand. To help with this, he may choose to cover her eyes during at most one key moment in each movie. Alice's fright level will be unaffected by this key moment.</p>

<h3>Input</h3>

<p>Line 1: 1 integer, <var>N</var></p>

<p><strong>For each movie:</strong><br>
Line 1: 4 integers, <var>D</var>, <var>M</var>, <var>H</var>, and <var>L</var><br>
Next <var>M</var> lines: 2 integers, <var>T<sub>i</sub></var> and <var>F<sub>i</sub></var>, for <var>i</var> = 1..<var>M</var>
</p>

<h3>Output</h3>

<p>For each movie, output 1 integer, the minimal number of minutes for which Bob needs to hold Alice's hand.</p>

<h3>Sample Input</h3>
<pre>2
90 5 5 50
12 8
14 -4
40 6
45 11
73 -50
105 3 5 20
33 15
39 -1
52 5
</pre>

<h3>Sample Output</h3>
<pre>30
19
</pre>

<h3>Explanation of Sample</h3>
<p>While watching the first movie, Bob should cover Alice's eyes during the third key moment. With this strategy, Alice's fright level will be at least 5 between moments 1 and 2, and between moments 4 and 5. Therefore, Bob will need to hold her hand for 2 + 28 = 30 minutes.</p>

<p>While watching the second movie, Bob should cover Alice's eyes during the second moment. He will then need to hold her hand between moments 1 and 3, at which point her fright level will become 20, and she'll have to leave the theatre.</p>
</div>

<div id="descSidebar"> <!-- TODO: Make this nicer/more semantic -->
  <p>
        
        <a href="https://wcipeg.com/submissions/,acmtryouts3d">All Submissions</a>    <br>
    
        <a href="https://wcipeg.com/submissions/rank/acmtryouts3d">Best Solutions</a>        <br>
  </p>

  <p>
    
      </p>

  <p>
            <br>
  </p>

  <p>
    <!-- TODO: Move this into the controller -->
    <b>Point Value:</b> 10<br>
    <b>Time Limit:</b> 2.00s<br>
    <b>Memory Limit:</b> 64M<br>
    <b>Added:</b> Jul 08, 2014<br>
        <b>Author:</b> <a href="https://wcipeg.com/user/SourSpinach">SourSpinach</a>  </p>

  
  <p>
  <b>Languages Allowed:</b><br>
  <span title="C++03 (g++ 4.1.3)">C++03</span>, <span title="Pascal (fpc 2.6.0-9)">PAS</span>, <span title="C (gcc 4.7.2)">C</span>, <span title="Haskell (ghc-6.12.1)">HASK</span>, <span title="Intel x86 assembly (nasm 2.10.01)">ASM</span>, <span title="Ruby (ruby 2.1.2)">RUBY</span>, <span title="Python 2 (python 2.6.8)">PYTH2</span>, <span title="Java (OpenJDK javac 1.7.0_03)">JAVA</span>, <span title="PHP (PHP 5.4.4)">PHP</span>, <span title="Scheme (Racket v5.0.1) (NOT WORKING)">SCM</span>, <span title="OCaml (version 3.12.1)">CAML</span>, <span title="Perl, v5.10.1">PERL</span>, <span title="C# (Mono version 2.4.4.0) (NOT WORKING)">C#</span>, <span title="C++11 (g++ 4.9.1)">C++11</span>, <span title="Python 3 (python 3.2.3)">PYTH3</span>  </p>
</div> <!-- descSidebar -->

<div id="comments">
  <h2 class="icon" style="background: url(https://wcipeg.com/assets/icons/comment_bubble.png) no-repeat right top">Comments (<a href="https://wcipeg.com/comments/search/place=acmtryouts3d">Search</a>)</h2><p style="text-align: center"></p><div class="comment_block" id="comment8600">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/loltroll21">loltroll21</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/8600">Jan 27, 2018 - 6:23:42 pm UTC</a>      </span>
      <a class="comment_title" id="title8600" onclick="toggle(&quot;body8600&quot;)">Mistake?</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating8600">
    (<span class="upvotes"><span id="upvotes8600">1</span></span>/<span class="downvotes"><span id="downvotes8600">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body8600" class="comment_body">
    <pre id="msg8600" style="display: none">[quote]For each movie, outout 1 integer, the minimal number of minutes for which Bob needs to hold Alice's hand.[/quote] 
I think there is a mistake and instead of outout, you meant output.</pre>
    <div style="opacity: 1">
      <table style="width: 90%; margin: 0 auto">
            <tbody><tr>
            <td><span class="quotecodeheader"></span></td>
            </tr>
            <tr>
            <td class="quotebody">For each movie, outout 1 integer, the minimal number of minutes for which Bob needs to hold Alice's hand.</td>
            </tr>
            </tbody></table>  <br>I think there is a mistake and instead of outout, you meant output.    </div>
    <br><div class="comment_block" id="comment8601">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/SourSpinach">SourSpinach</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/8601">Jan 27, 2018 - 11:37:04 pm UTC</a>      </span>
      <a class="comment_title" id="title8601" onclick="toggle(&quot;body8601&quot;)">Re: Mistake?</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating8601">
    (<span class="upvotes"><span id="upvotes8601">0</span></span>/<span class="downvotes"><span id="downvotes8601">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body8601" class="comment_body">
    <pre id="msg8601" style="display: none">Thanks, it's been fixed!</pre>
    <div style="opacity: 1">
      Thanks, it's been fixed!    </div>
      </div>
</div>
  </div>
</div>
<br>
<div class="comment_block" id="comment6778">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/EasierPlanet3">EasierPlanet3</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/6778">Jun 04, 2015 - 1:12:14 am UTC</a>      </span>
      <a class="comment_title" id="title6778" onclick="toggle(&quot;body6778&quot;)">Can't find my error</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating6778">
    (<span class="upvotes"><span id="upvotes6778">0</span></span>/<span class="downvotes"><span id="downvotes6778">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body6778" class="comment_body">
    <pre id="msg6778" style="display: none">Can someone post my error message? I can't find my mistake.

Thanks,
</pre>
    <div style="opacity: 1">
      Can someone post my error message? I can't find my mistake. <br> <br>Thanks,    </div>
    <br><div class="comment_block" id="comment6779">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/jargon">jargon</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/6779">Jun 04, 2015 - 4:14:26 am UTC</a>      </span>
      <a class="comment_title" id="title6779" onclick="toggle(&quot;body6779&quot;)">Re: Can't find my error</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating6779">
    (<span class="upvotes"><span id="upvotes6779">0</span></span>/<span class="downvotes"><span id="downvotes6779">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body6779" class="comment_body">
    <pre id="msg6779" style="display: none">I consider your error trivial enough that I think it would be more beneficial to you if you figure it out yourself.

Read the question statement again carefully. If you give it an honest try and still can't figure it out, I might give a hint. (Or maybe somebody wants to be more helpful than me! :P)</pre>
    <div style="opacity: 1">
      I consider your error trivial enough that I think it would be more beneficial to you if you figure it out yourself. <br> <br>Read the question statement again carefully. If you give it an honest try and still can't figure it out, I might give a hint. (Or maybe somebody wants to be more helpful than me! :P)    </div>
    <br><div class="comment_block" id="comment6780">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/EasierPlanet3">EasierPlanet3</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/6780">Jun 04, 2015 - 12:08:30 pm UTC</a>      </span>
      <a class="comment_title" id="title6780" onclick="toggle(&quot;body6780&quot;)">Re: Can't find my error</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating6780">
    (<span class="upvotes"><span id="upvotes6780">1</span></span>/<span class="downvotes"><span id="downvotes6780">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body6780" class="comment_body">
    <pre id="msg6780" style="display: none">Right, got it, thanks.</pre>
    <div style="opacity: 1">
      Right, got it, thanks.    </div>
      </div>
</div>
  </div>
</div>
  </div>
</div>
<br>
</div>

<div style="clear: both">&nbsp;</div>

</div> <!-- content -->
</div> <!-- container -->
</div> <!-- wrapper -->

<div id="footer">
  <div id="footer_time_info">
    Loaded in 0.0242s.<br>
    Server time on page load:
    May 10, 2018 21:45:59 UTC 
    <br>
  </div>
  <div style="clear: both; height: 1ex"></div>

  <div style="float: right">
    <a href="https://wcipeg.com%2Fproblem%2Facmtryouts3d">Secure server</a>  </div>

<a href="http://www.debian.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/debian.png" alt="Powered by Debian GNU/Linux"></a>

<a href="http://www.apache.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/apache.gif" alt="Powered by Apache"></a>

<a href="http://www.mysql.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/mysql.png" alt="Powered by MySQL"></a>

<a href="http://www.php.net" target="_blank">
  <img src="https://wcipeg.com/assets/img/php.gif" alt="Powered by PHP"> 
</a>

<a href="http://www.openssl.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/openssl.png" alt="Powered by OpenSSL"> 
</a>

<a href="http://www.codeigniter.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/codeignited.gif" alt="Powered by CodeIgniter"> 
</a>

<a href="http://validator.w3.org/check?uri=referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/html5.png" alt="Valid HTML 5"></a>

<a href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/css3.png" alt="Valid CSS 3"></a>

<span title="Thanks to Naomi Cui for helping to create this image">
  <a href="http://git-scm.com/" target="_blank">
    <img src="https://wcipeg.com/assets/img/git-80x15-final.png" alt="git managed">  </a>
</span>

<br>

<div style="font-size: 85%; line-height: 1.5">
  <a href="/wiki/Judge:Copyright" target="_blank">Notes on copyright</a> |
  <a href="/wiki/Judge:TOS" target="_blank">Terms of service</a>
  <br>
  <a href="/wiki/Judge:Free_software" target="_blank">The PEG Judge is powered
  solely by free software.</a>
</div>
 
</div> <!-- footer -->



</body></html>