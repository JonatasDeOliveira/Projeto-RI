<!DOCTYPE html><html lang="en"><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <!-- This should probably be done with a server-side include, but
         PHP is easier. -->
    <meta name="description" content="Woburn Collegiate Institute Programming
Enrichment Group Online Judge">
<meta name="keywords" content="PEG Judge,wcipeg.com,Online judge,Canadian
Computing Competition,CCC,American Computer Science League,ACSL,Programming
Enrichment Group,Validator,COCI,Croatian Open Competition in Informatics,
Woburn,Woburn Challenge,Woburn Collegiate Institute,APIO,Asian Pacific
Informatics Olympiad,BOI,Bulgarian Olympiad in Informatics,SMAC,Sane's Monthly
Algorithms Challenge,Problem Solving in Pascal,Bi-Weekly Challenge,Validator,
Hanson Wang,Canada">

    <title>PEG Judge - APIO09 #3 - ATM</title>

    <link href="https://wcipeg.com/assets/css/common.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/submissions.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/bbcode.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/highlight/styles/idea.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/icons/favicon.ico" rel="shortcut icon" type="text/css">
    <link href="https://wcipeg.com/assets/css/style.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/jquery.autocomplete.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/desc.css" rel="stylesheet" type="text/css">
    <link href="https://wcipeg.com/assets/css/testcase_editor.css" rel="stylesheet" type="text/css">

    <script type="text/javascript">
        function get_csrf_key() {
            return "csrf_test_name";
        }
        function get_csrf_value() {
            return "58ee96f07f700762ecde5e3dc163a054";
        }
        function get_site_url() {
            return "https:\/\/wcipeg.com\/";
        }
    </script>
    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-1.10.1.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/jquery-post-csrf.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/global.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/js/moment-timezone.min.js"></script>    <script type="text/javascript" src="https://wcipeg.com/assets/highlight/highlight.pack.js"></script>    <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
  </head>

  <body style="">
    <div id="backheader"></div>
    <div id="backmenu"></div>

    <div id="wrapper">
      <div id="container">
        <div id="header">
          <div id="logo">
            <!-- TODO: Change "PEG" to something customizable -->
            <a href="https://wcipeg.com/main"><img src="https://wcipeg.com/assets/img/logo.gif" alt="PEG"></a>          </div>
          <div id="user">
                                      Please <a href="https://wcipeg.com/auth/login?ref=%2Fproblem%2Fapio09p3"><b>log in</b></a>              or <a href="https://wcipeg.com/auth/register"><b>register an account</b></a>.
                      </div> <!-- user -->
                  </div> <!-- header -->

<div id="menu">
  <ul class="nav">
        <li><a href="https://wcipeg.com/main">main</a></li>        <li><a href="https://wcipeg.com/announcements">announcements</a></li>        <li><a href="https://wcipeg.com/problems">problems</a></li>        <li><a href="https://wcipeg.com/submissions">submissions</a></li>        <li><a href="https://wcipeg.com/users">users</a></li>        <li><a href="https://wcipeg.com/organizations">organizations</a></li>        <li><a href="https://wcipeg.com/submit">submit</a></li>        <li><a href="https://wcipeg.com/contests">contests</a></li>        <li><a href="/wiki/Judge:Help" target="_blank">help (<strong>README</strong>)</a></li>        <li><a href="/wiki" target="_blank">wiki</a></li>        <li><a href="/legacy" target="_blank">old</a></li>        <li><a href="/wiki/Judge:Contact" target="_blank">contact</a></li>          </ul>
</div>

<div id="content">


<div id="descContent">
<h3>Asia-Pacific Informatics Olympiad 2009</h3>
<h2>Problem 3: The Great ATM Robbery</h2>
<p>The city of Siruseri has only one way roads. Roads meet at intersections
and at every intersection, mandated by law, there is an ATM of the Bank of
Siruseri. Strangely, the pubs in Siruseri are also located only at intersections,
though not every intersection hosts a pub.</p>
<p>Banditji plans to carry out the largest ATM robbery in the history of
Siruseri. He will start from the city centre and drive around, robbing all the
ATMs that he passes by, before ending the day at one of the city's pubs to
celebrate his achievement.</p>
<p>Using his well-honed hacking skills, Banditji has precise information about
the amount of cash available at every ATM. He would like you to help him
determine the total amount that he can rob by starting at the city centre and
ending at one of the city's pubs. He can go through the same intersection or
road any number of times. However, there is no money to be picked up at
an ATM after the first visit.</p>
<p>For instance, suppose the city had 6 intersections connected by roads as
indicated below:</p>
<p style="text-align: center"><img src="images/apio09p3/atm.png" alt=""></p>
<p>The city centre is at intersection 1, marked by an incoming →, and the
intersections where pubs are found are marked by a double circle. The amount
of cash available at the respective ATMs is written above each intersection.
In this case, Banditji can rob a total of 47 by following the route
1–2–4–1–2–3–5.</p>

<h3>Input</h3>
<p>The first line of input contains 2 integers <var>N</var>
(<var>N</var> ≤ 500000) and <var>M</var> (<var>M</var> ≤ 500000),
where <var>N</var> is the number
of intersections and <var>M</var> is the number of roads. This is following by
<var>M</var> lines,
each with two integers in the range 1, 2, …, <var>N</var>, giving the
starting and ending intersection for one of the roads. This is followed by
<var>N</var> lines, each containing a single non-negative integer not exceeding
4000, giving the amount of cash
available at the ATMs at the <var>N</var>
intersections. The following line contains two integers <var>S</var> and
<var>P</var>, where <var>S</var> is
the starting intersection (the city centre) and <var>P</var> is the number of
pubs. This
is followed by a line with <var>P</var> integers listing the intersections that
contain pubs. It is guaranteed that a solution is always possible.</p>

<h3>Output</h3>
<p>The output should be a single integer, the maximum amount of money that
Banditji can rob on his way from the city centre to any one of the pubs.</p>

<h3>Sample Input</h3>
<pre>6 7
1 2
2 3
3 5
2 4
4 1
2 6
6 5
10
12
8
16
1
5
1 4
4 3 5 6</pre>

<h3>Sample Output</h3>
<pre>47</pre>

<h3>Note on grading</h3>
<p>In 50% of the inputs, <var>M</var> and <var>N</var> will not exceed 3000.</p>
</div>

<div id="descSidebar"> <!-- TODO: Make this nicer/more semantic -->
  <p>
        
        <a href="https://wcipeg.com/submissions/,apio09p3">All Submissions</a>    <br>
    
        <a href="https://wcipeg.com/submissions/rank/apio09p3">Best Solutions</a>        <br>
  </p>

  <p>
    
      </p>

  <p>
            <br>
  </p>

  <p>
    <!-- TODO: Move this into the controller -->
    <b>Point Value:</b> 20 (partial)<br>
    <b>Time Limit:</b> 3.00s<br>
    <b>Memory Limit:</b> 64M<br>
    <b>Added:</b> Jul 22, 2009<br>
      </p>

  
  <p>
  <b>Languages Allowed:</b><br>
  <span title="C++03 (g++ 4.1.3)">C++03</span>, <span title="Pascal (fpc 2.6.0-9)">PAS</span>, <span title="C (gcc 4.7.2)">C</span>, <span title="Haskell (ghc-6.12.1)">HASK</span>, <span title="Intel x86 assembly (nasm 2.10.01)">ASM</span>, <span title="Ruby (ruby 2.1.2)">RUBY</span>, <span title="Python 2 (python 2.6.8)">PYTH2</span>, <span title="Java (OpenJDK javac 1.7.0_03)">JAVA</span>, <span title="PHP (PHP 5.4.4)">PHP</span>, <span title="Scheme (Racket v5.0.1) (NOT WORKING)">SCM</span>, <span title="OCaml (version 3.12.1)">CAML</span>, <span title="Perl, v5.10.1">PERL</span>, <span title="C# (Mono version 2.4.4.0) (NOT WORKING)">C#</span>, <span title="C++11 (g++ 4.9.1)">C++11</span>, <span title="Python 3 (python 3.2.3)">PYTH3</span>  </p>
</div> <!-- descSidebar -->

<div id="comments">
  <h2 class="icon" style="background: url(https://wcipeg.com/assets/icons/comment_bubble.png) no-repeat right top">Comments (<a href="https://wcipeg.com/comments/search/place=apio09p3">Search</a>)</h2><p style="text-align: center"></p><div class="comment_block" id="comment6659">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/fifiman">fifiman</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/6659">Apr 06, 2015 - 3:50:25 am UTC</a>      </span>
      <a class="comment_title" id="title6659" onclick="toggle(&quot;body6659&quot;)">Error</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating6659">
    (<span class="upvotes"><span id="upvotes6659">0</span></span>/<span class="downvotes"><span id="downvotes6659">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body6659" class="comment_body">
    <pre id="msg6659" style="display: none">Can I get my error message why I get SIGSEGV? Thanks</pre>
    <div style="opacity: 1">
      Can I get my error message why I get SIGSEGV? Thanks    </div>
    <br><div class="comment_block" id="comment6660">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/jargon">jargon</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/6660">Apr 06, 2015 - 8:51:57 pm UTC</a>      </span>
      <a class="comment_title" id="title6660" onclick="toggle(&quot;body6660&quot;)">Re: Error</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating6660">
    (<span class="upvotes"><span id="upvotes6660">0</span></span>/<span class="downvotes"><span id="downvotes6660">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body6660" class="comment_body">
    <pre id="msg6660" style="display: none">I'm not sure what you're asking for. A SIGSEGV is a SIGSEGV. We don't pass your program through anything like memcheck.</pre>
    <div style="opacity: 1">
      I'm not sure what you're asking for. A SIGSEGV is a SIGSEGV. We don't pass your program through anything like memcheck.    </div>
      </div>
</div>
  </div>
</div>
<br>
<div class="comment_block" id="comment2364">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/Foundation">Foundation</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/2364">Jul 22, 2009 - 6:51:28 pm UTC</a>      </span>
      <a class="comment_title" id="title2364" onclick="toggle(&quot;body2364&quot;)">Point Value</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating2364">
    (<span class="upvotes"><span id="upvotes2364">0</span></span>/<span class="downvotes"><span id="downvotes2364">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body2364" class="comment_body">
    <pre id="msg2364" style="display: none">hmm... APIO #3 only 20 points? Is this supposed to be relatively simple once you get it or something?</pre>
    <div style="opacity: 1">
      hmm... APIO #3 only 20 points? Is this supposed to be relatively simple once you get it or something?    </div>
    <br><div class="comment_block" id="comment2365">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/bbi5291">bbi5291</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/2365">Jul 22, 2009 - 8:11:40 pm UTC</a>      </span>
      <a class="comment_title" id="title2365" onclick="toggle(&quot;body2365&quot;)">Re: Point Value</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating2365">
    (<span class="upvotes"><span id="upvotes2365">1</span></span>/<span class="downvotes"><span id="downvotes2365">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body2365" class="comment_body">
    <pre id="msg2365" style="display: none">All problems are "relatively simple" for Hanson. I'd provide some feedback if I could, but I haven't done the contest yet.</pre>
    <div style="opacity: 1">
      All problems are "relatively simple" for Hanson. I'd provide some feedback if I could, but I haven't done the contest yet.    </div>
    <br><div class="comment_block" id="comment2368">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/Foundation">Foundation</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/2368">Jul 22, 2009 - 9:15:16 pm UTC</a>      </span>
      <a class="comment_title" id="title2368" onclick="toggle(&quot;body2368&quot;)">Re: Re: Point Value</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating2368">
    (<span class="upvotes"><span id="upvotes2368">0</span></span>/<span class="downvotes"><span id="downvotes2368">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body2368" class="comment_body">
    <pre id="msg2368" style="display: none">Hehe, true, true. :)</pre>
    <div style="opacity: 1">
      Hehe, true, true. :)    </div>
      </div>
</div>
  </div>
</div>
<br><div class="comment_block" id="comment2367">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/hansonw1">hansonw1</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/2367">Jul 22, 2009 - 8:46:19 pm UTC</a>      </span>
      <a class="comment_title" id="title2367" onclick="toggle(&quot;body2367&quot;)">Re: Point Value</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating2367">
    (<span class="upvotes"><span id="upvotes2367">1</span></span>/<span class="downvotes"><span id="downvotes2367">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body2367" class="comment_body">
    <pre id="msg2367" style="display: none">Hmm.. this is one of those problems that relies on a certain type of algorithm (if you know it, it makes the problem almost trivial). Otherwise, it's really really hard to solve (for full points, anyway). If you'd like to know the type of algorithm, I can tell you :P</pre>
    <div style="opacity: 1">
      Hmm.. this is one of those problems that relies on a certain type of algorithm (if you know it, it makes the problem almost trivial). Otherwise, it's really really hard to solve (for full points, anyway). If you'd like to know the type of algorithm, I can tell you :P    </div>
    <br><div class="comment_block" id="comment2369">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/Foundation">Foundation</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/2369">Jul 22, 2009 - 9:15:58 pm UTC</a>      </span>
      <a class="comment_title" id="title2369" onclick="toggle(&quot;body2369&quot;)">Re: Re: Point Value</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating2369">
    (<span class="upvotes"><span id="upvotes2369">1</span></span>/<span class="downvotes"><span id="downvotes2369">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body2369" class="comment_body">
    <pre id="msg2369" style="display: none">I really would like to know and learn the type of algorithm, but let me try it for a while first. :) Struggling is a nice way of learning the value of something.</pre>
    <div style="opacity: 1">
      I really would like to know and learn the type of algorithm, but let me try it for a while first. :) Struggling is a nice way of learning the value of something.    </div>
    <br><div class="comment_block" id="comment5506">
  <div class="comment_header" style="opacity: 1">
    <span class="comment_info">
            <b><a href="https://wcipeg.com/user/ImbaCalvin">ImbaCalvin</a></b>
            <span class="comment_date">
        on <a href="https://wcipeg.com/comments/thread/5506">Oct 13, 2013 - 4:52:47 pm UTC</a>      </span>
      <a class="comment_title" id="title5506" onclick="toggle(&quot;body5506&quot;)">Re: Re: Point Value</a>
          </span>
    <ul class="controls">
              <li class="comment_rating" id="rating5506">
    (<span class="upvotes"><span id="upvotes5506">0</span></span>/<span class="downvotes"><span id="downvotes5506">0</span></span>)
  </li>
  </ul>  </div>
  <div id="body5506" class="comment_body">
    <pre id="msg5506" style="display: none">This question is totally worth 30 points because a similar question like [url]http://wcipeg.com/problem/ccc07s2p6[/url] is worth 30 points...</pre>
    <div style="opacity: 1">
      This question is totally worth 30 points because a similar question like <a href="http://wcipeg.com/problem/ccc07s2p6" target="_blank">http://wcipeg.com/problem/ccc07s2p6</a> is worth 30 points...    </div>
      </div>
</div>
  </div>
</div>
  </div>
</div>
  </div>
</div>
<br>
</div>

<div style="clear: both">&nbsp;</div>

</div> <!-- content -->
</div> <!-- container -->
</div> <!-- wrapper -->

<div id="footer">
  <div id="footer_time_info">
    Loaded in 0.0290s.<br>
    Server time on page load:
    Jun 11, 2018 06:09:32 UTC 
    <br>
  </div>
  <div style="clear: both; height: 1ex"></div>

  <div style="float: right">
    <a href="https://wcipeg.com%2Fproblem%2Fapio09p3">Secure server</a>  </div>

<a href="http://www.debian.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/debian.png" alt="Powered by Debian GNU/Linux"></a>

<a href="http://www.apache.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/apache.gif" alt="Powered by Apache"></a>

<a href="http://www.mysql.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/mysql.png" alt="Powered by MySQL"></a>

<a href="http://www.php.net" target="_blank">
  <img src="https://wcipeg.com/assets/img/php.gif" alt="Powered by PHP"> 
</a>

<a href="http://www.openssl.org" target="_blank">
  <img src="https://wcipeg.com/assets/img/openssl.png" alt="Powered by OpenSSL"> 
</a>

<a href="http://www.codeigniter.com" target="_blank">
  <img src="https://wcipeg.com/assets/img/codeignited.gif" alt="Powered by CodeIgniter"> 
</a>

<a href="http://validator.w3.org/check?uri=referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/html5.png" alt="Valid HTML 5"></a>

<a href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">
  <img src="https://wcipeg.com/assets/img/css3.png" alt="Valid CSS 3"></a>

<span title="Thanks to Naomi Cui for helping to create this image">
  <a href="http://git-scm.com/" target="_blank">
    <img src="https://wcipeg.com/assets/img/git-80x15-final.png" alt="git managed">  </a>
</span>

<br>

<div style="font-size: 85%; line-height: 1.5">
  <a href="/wiki/Judge:Copyright" target="_blank">Notes on copyright</a> |
  <a href="/wiki/Judge:TOS" target="_blank">Terms of service</a>
  <br>
  <a href="/wiki/Judge:Free_software" target="_blank">The PEG Judge is powered
  solely by free software.</a>
</div>
 
</div> <!-- footer -->



</body></html>