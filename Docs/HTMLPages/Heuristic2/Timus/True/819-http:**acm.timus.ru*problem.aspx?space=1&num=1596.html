<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>1596. Knight Mare @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=1&amp;num=1596"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=1&amp;num=1596&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=1&amp;num=1596&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style52.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=1&amp;num=1596&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=1&amp;num=1596&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">1596. Knight Mare</h2><div class="problem_limits">Time limit: 5.0 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">When JediKittens are finishing their training and are ready to become JediCat, 
they are presented with another mind challenge. This challenge is a bit harder,
despite the rules of it being very simple. Every soon-to-be-JediCat is given
an <i>N</i> × <i>M</i> chessboard and one chess figure. A knight, speaking exactly.
A white knight, speaking more exactly. The task is simple — using the knight,
moving it according to usual rules, the JediKittens are to visit every cell of
the board exactly once, and after that return to the starting cell (this is the
only cell, which is visited twice). JediKittens can cope with this task, can you?</div></div><div class="problem_par"><div class="problem_par_normal">We should remind, that usual move of a chess knight is a shift two cells in one
direction, and then one cell in perpendicular direction.</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">The first line of the input will contain 2 integers — <i>N</i> and <i>M</i>, size of chessboard.
Chessboard is <i>M</i> cells width and <i>N</i> cells height (6 ≤ <i>N</i>, <i>M</i> ≤ 1000).</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">If there is no solution just print «No solution» without quotes.
Otherwise print <i>N</i> lines with <i>M</i> integers. Each integer — number from 1 to 8, which means
in what direction there will be the next step of knight's tour from cell (<i>i</i>, <i>j</i>) performed.
Here is the array of 8 directions.</div></div><div class="problem_par"><div class="problem_par_normal"><ol>
<li> (2, 1)  
</li><li> (2, −1) 
</li><li> (−2, 1) 
</li><li> (−2, −1)
</li><li> (1, 2)  
</li><li> (1, −2) 
</li><li> (−1, 2) 
</li><li> (−1, −2)
</li></ol></div></div><div class="problem_par"><div class="problem_par_normal">Topleft cell's coordinates are (1, 1).</div></div><h3 class="problem_subtitle">Samples</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>6 7
</pre></td><td><pre>5 1 5 6 2 6 2 
7 2 6 8 7 8 8 
1 4 8 6 7 6 4 
1 2 6 1 1 6 4 
5 5 4 3 5 3 8 
7 3 7 7 7 3 4 
</pre></td></tr><tr><td><pre>7 7
</pre></td><td><pre>No solution</pre></td></tr></tbody></table><div class="problem_source"><b>Problem Author: </b>Vladimir Basunkov<br></div></div></div><div><b>Tags: </b>none &nbsp;<span class="problem_tags_toggle">(<form method="POST" action="problem.aspx?space=1&amp;num=1596" style="display:inline;" id="ToggleTagsForm"><a href="problem.aspx?space=1&amp;num=1596" onclick="document.getElementById('ToggleTagsForm').submit();return false;"><input type="hidden" name="Action" value="HideTags">hide tags for unsolved problems</a></form>)</span></div><div class="problem_links"><span>Difficulty: 8097</span> &nbsp;&nbsp;&nbsp;<a href="print.aspx?space=1&amp;num=1596" target="_blank">Printable version</a> &nbsp;&nbsp;&nbsp;<a href="submit.aspx?space=1&amp;num=1596">Submit solution</a> &nbsp;&nbsp;&nbsp;<a href="forum/?space=1&amp;num=1596">Discussion (3)</a><br><a href="status.aspx?space=1&amp;num=1596">All submissions (53)</a> &nbsp;&nbsp;&nbsp;<a href="status.aspx?space=1&amp;num=1596&amp;status=accepted">All accepted submissions (27)</a> &nbsp;&nbsp;&nbsp;<a href="rating.aspx?space=1&amp;num=1596">Solutions rating (16)</a></div></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table></body></html>