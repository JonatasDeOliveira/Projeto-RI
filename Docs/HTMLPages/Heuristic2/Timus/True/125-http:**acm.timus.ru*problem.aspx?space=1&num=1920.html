<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>1920. Titan Ruins: the Infinite Power of Magic @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=1&amp;num=1920"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=1&amp;num=1920&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=1&amp;num=1920&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style55.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=1&amp;num=1920&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=1&amp;num=1920&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">1920. Titan Ruins: the Infinite Power of Magic</h2><div class="problem_limits">Time limit: 1.0 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">`It seems that our efforts were not in vain,' Alba said after studying an ancient volume.
`I've found here a method for accumulating a tremendous amount of energy.
And the idea is so simple that I wonder why nobody has discovered it.
The usual problem is that magic energy is unstable and it's difficult to keep it in one place.
But if we channel it along a closed path, it'll have no way out. We only have to choose the right length of the path
to keep the flow stable. Then we can pump in as much energy as we want. And when we break the path
we'll release a magic flow of enormous power. It'll be a real breakthrough in war magic!'<br>
`Yes, but the path must be long enough and you can't drag a large device over a battlefield.'<br>
`That's not a problem. The form of the path can be arbitrary. We can design a compact scheme of the device.
Actually, the device is here already, it's there in the corner. We only have to adjust it.'</div></div><div class="problem_par"><div class="problem_par_normal">Indeed, there was a square grid with <i>n</i> × <i>n</i> nodes. At each node there was a prism that could be turned so as to either direct
a flow of magic energy straightly or turn it by&nbsp;90°. Soren and Alba had to position <i>L</i> prisms so that a cyclic flow of magic
energy of length&nbsp;<i>L</i> could be directed through them.</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">You are given the integers <i>n</i> and <i>L</i> (2 ≤ <i>n</i> ≤ 100; 4 ≤ <i>L</i> ≤ 20 000).</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">If it is impossible to organize a cycle of required length, output “Unsuitable device”.
Otherwise, output “Overwhelming power of magic” in the first line.
In each of the following <i>L</i> lines give two integers in the range from 1 to <i>n</i>,
which are the coordinates of the grid nodes through which energy should pass.
The distances between two consecutive nodes and between the first and the last nodes must be equal to&nbsp;1.
The energy mustn't pass more than once through the same node, because this may produce unpredictable and, most likely, lethal effects.</div></div><h3 class="problem_subtitle">Samples</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>2 6
</pre></td><td><pre>Unsuitable device
</pre></td></tr><tr><td><pre>3 6
</pre></td><td><pre>Overwhelming power of magic
1 1
2 1
3 1
3 2
2 2
1 2
</pre></td></tr></tbody></table><div class="problem_source"><b>Problem Author: </b>Alexey Samsonov (prepared by Dmitry Ivankov)<br><b>Problem Source: </b>NEERC 2012, Eastern subregional contest<br></div></div></div><div><b>Tags: </b>none &nbsp;<span class="problem_tags_toggle">(<form method="POST" action="problem.aspx?space=1&amp;num=1920" style="display:inline;" id="ToggleTagsForm"><a href="problem.aspx?space=1&amp;num=1920" onclick="document.getElementById('ToggleTagsForm').submit();return false;"><input type="hidden" name="Action" value="HideTags">hide tags for unsolved problems</a></form>)</span></div><div class="problem_links"><span>Difficulty: 533</span> &nbsp;&nbsp;&nbsp;<a href="print.aspx?space=1&amp;num=1920" target="_blank">Printable version</a> &nbsp;&nbsp;&nbsp;<a href="submit.aspx?space=1&amp;num=1920">Submit solution</a> &nbsp;&nbsp;&nbsp;<a href="forum/?space=1&amp;num=1920">Discussion (1)</a><br><a href="status.aspx?space=1&amp;num=1920">All submissions (1803)</a> &nbsp;&nbsp;&nbsp;<a href="status.aspx?space=1&amp;num=1920&amp;status=accepted">All accepted submissions (569)</a> &nbsp;&nbsp;&nbsp;<a href="rating.aspx?space=1&amp;num=1920">Solutions rating (353)</a></div></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table></body></html>