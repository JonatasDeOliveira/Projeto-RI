<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>2074. Timus problems classifier @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=1&amp;num=2074"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=1&amp;num=2074&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=1&amp;num=2074&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style55.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=1&amp;num=2074&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=1&amp;num=2074&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">2074. Timus problems classifier</h2><div class="problem_limits">Time limit: 2.0 second<br>Memory limit: 256 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">Vova created a topic classifier for problems on Timus Online Judge.
All topics form a tree, that is, every topic can have several possible subtopics.
For example, topic “geometry” in Vova’s classifier has two subtopics “technique geometry” and
“idea geometry”.
For every topic you are given an example of problems, that belong to it.
One problem can belong to several topics. For example, problem 1065 belongs to topics
“graphs” and “technique geometry”.</div></div><div class="problem_par"><div class="problem_par_normal">Using a given classifier, for each mentioned problem determine to which topics 
it belongs.</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">Input format is the same as in sample test.
Here are some input data limitations:</div></div><div class="problem_par"><div class="problem_par_normal"><ol>
<li> Input data contains no more than 20 different topics and no more
than 20 different problem numbers.
Some topics can contain all of the given problems, some can contain
no problems at all.
</li><li> All problem numbers vary from 1000 to 9999.
List of problems for a topic can contain several lines, but each
line will contain at least one problem number.
No problem number will occur twice in the list for one topic.
</li><li> Topic names are non-empty srtings not longer than 20 symbols.
They consist of lower-case latin letters and spaces.
The first and the last symbols in a topic name are not spaces. There will be no
consecutive spaces in a topic name.
</li><li> Topic id is a sequence <code>&lt;number&gt;.&lt;number&gt;. ... &lt;number&gt;.</code>
All numbers are integers from a segment [1, 20] and have no leading zeroes.
All topic id’s are unique.
</li><li> First topic’s id is “1.”
</li><li> If topic <i>A</i> listed before topic <i>B</i>, then either id of <i>B</i> contains id of 
<i>A</i> as a prefix, or the leftmost number in which two id’s differ, is greater in id of <i>B</i>.
</li><li> If a topic id is “X.” or ends with “.X.”, 
where <code>X</code> is greater than 1, then earlier in the classifier there was a topic
with similar id, but with suffix “X.” replaced with “Y.”, where <code>Y</code>&nbsp;=&nbsp;<code>X</code> − 1. 
</li><li> If a topic id ends with “.1.”, then topic listed directly befor it has
the same id without the last “1.”
</li></ol></div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">For every problem list all topics it belongs to, as it shown in the example.
Topic description should contain its name and names of all ancestor topics.
If a problem belongs to several topics, you should output topic descriptions divided
by commas and spaces (as shown in the sample test). If some problems have absolutely identical set of topics, descriptions for these problems should be united (just list all such problems separated by comma and space, and then print the topics).</div></div><div class="problem_par"><div class="problem_par_normal">Problem numbers should be listed in ascending order, topic descriptions&nbsp;— in lexicographic order.
All lines in the output shoud also be ordered lexicographically.</div></div><h3 class="problem_subtitle">Sample</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>1. graphs
1022
1065
2. geometry
1020
2.1. idea
1130
2.2. technique
1111 1065
1265
2.2.1. convex hull
1271
3. dynamic programming
1244
</pre></td><td><pre>1020 : geometry
1022 : graphs
1065 : geometry.technique, graphs
1111, 1265 : geometry.technique
1130 : geometry.idea
1244 : dynamic programming
1271 : geometry.technique.convex hull
</pre></td></tr></tbody></table><div class="problem_source"><b>Problem Author: </b>Mikhail Rubinchik<br></div></div></div><div><b>Tags: </b>none &nbsp;<span class="problem_tags_toggle">(<form method="POST" action="problem.aspx?space=1&amp;num=2074" style="display:inline;" id="ToggleTagsForm"><a href="problem.aspx?space=1&amp;num=2074" onclick="document.getElementById('ToggleTagsForm').submit();return false;"><input type="hidden" name="Action" value="HideTags">hide tags for unsolved problems</a></form>)</span></div><div class="problem_links"><span>Difficulty: 629</span> &nbsp;&nbsp;&nbsp;<a href="print.aspx?space=1&amp;num=2074" target="_blank">Printable version</a> &nbsp;&nbsp;&nbsp;<a href="submit.aspx?space=1&amp;num=2074">Submit solution</a> &nbsp;&nbsp;&nbsp;<a href="forum/?space=1&amp;num=2074">Discussion (2)</a><br><a href="status.aspx?space=1&amp;num=2074">All submissions (543)</a> &nbsp;&nbsp;&nbsp;<a href="status.aspx?space=1&amp;num=2074&amp;status=accepted">All accepted submissions (174)</a> &nbsp;&nbsp;&nbsp;<a href="rating.aspx?space=1&amp;num=2074">Solutions rating (146)</a></div></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table></body></html>