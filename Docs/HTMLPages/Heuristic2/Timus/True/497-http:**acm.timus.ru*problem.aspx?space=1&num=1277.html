<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>1277. Cops and Thieves @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=1&amp;num=1277"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=1&amp;num=1277&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=1&amp;num=1277&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style55.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=1&amp;num=1277&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=1&amp;num=1277&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">1277. Cops and Thieves</h2><div class="problem_limits">Time limit: 1.0 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">The Galaxy Police (Galaxpol) found out that a notorious gang of thieves has plans for stealing an extremely valuable exhibit from the Earth Planetary Museum&nbsp;— an ancient microprocessor. The police chiefs decided to intercept the criminals on the way from their refuge to the museum. A problem arose while planning the police operation: would it be possible for the Galaxpol staff to control all the possible routes of the criminals?</div></div><div class="problem_par"><div class="problem_par_normal">The galaxy transport system is designed as follows. Each planet has a transport station that is connected to some of the other stations via two-way teleportation channels. Transport stations vary in their sizes, so different numbers of policemen may be required to take control over different stations. In order not to upset the operation, it was decided to leave the planets that are next to the museum or the refuge without any police control.</div></div><div class="problem_par"><div class="problem_par_normal">Help the Galaxpol to place their staff at the stations in order to block all possible routes of the thieves.</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">The first line of the input contains a single integer 0 &lt; <i>K</i> ≤ 10000&nbsp;— the number of policemen engaged to control the stations.</div></div><div class="problem_par"><div class="problem_par_normal">The second line has four integers: <i>N</i>, <i>M</i>, <i>S</i> and <i>F</i> delimited with white-space character. </div></div><div class="problem_par"><div class="problem_par_normal"><i>N</i> is the number of stations in the galaxy (the stations are numbered from 1 to <i>N</i>); 2 &lt; <i>N</i> ≤ 100. </div></div><div class="problem_par"><div class="problem_par_normal"><i>M</i> is the number of teleportation channels; 1 &lt; <i>M</i> ≤ 10000. </div></div><div class="problem_par"><div class="problem_par_normal"><i>S</i> is the number of the planet (and the station) where the museum is; 1 ≤ <i>S</i> ≤ <i>N</i>.</div></div><div class="problem_par"><div class="problem_par_normal"><i>F</i> is the number of the planet (and the station) where the thieves’ refuge is; 1 ≤ <i>F</i> ≤ <i>N</i>.</div></div><div class="problem_par"><div class="problem_par_normal">The next line contains <i>N</i> integers (<i>x</i><sub>1</sub>, …, <i>x<sub>N</sub></i>) separated with white-space character&nbsp;— the number of policemen required to control each of the stations (∑<sub><i>i</i>=1</sub><sup><i>N</i></sup><i>x<sub>i</sub></i> ≤ 10000).</div></div><div class="problem_par"><div class="problem_par_normal">Then <i>M</i> lines follow that describe the teleportation channels. Each of these lines contains a pair of space-delimited integers&nbsp;— the numbers of stations being connected by a channel. The channel system is designed so that it is possible to reach any station from any other one (probably it would require several channel transitions).</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">Write “YES” if it is possible to block all the possible routes within given limitations, and “NO” otherwise.</div></div><h3 class="problem_subtitle">Samples</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>10
5 5 1 5
1 6 6 11 1
1 2
1 3
2 4
3 4
4 5
</pre></td><td><pre>NO
</pre></td></tr><tr><td><pre>10
5 5 1 5
1 4 4 11 1
1 2
1 3
2 4
3 4
4 5
</pre></td><td><pre>YES
</pre></td></tr></tbody></table><div class="problem_source"><b>Problem Author: </b>© Sergey G. Volchenkov, 2003(volchenkov@yandex.ru); Vladimir N. Pinaev, 2003(vpinaev@mail.ru; http://www.pic200x.chat.ru); Michael Y. Kopachev, 2003 (mkopachev@krista.ru).<br><b>Problem Source: </b>2003-2004 ACM Central Region of Russia Quarterfinal Programming Contest, Rybinsk, October 15-16, 2003<br></div></div></div><div><b>Tags: </b><a href="problemset.aspx?space=1&amp;tag=graphs">graph theory</a> &nbsp;<span class="problem_tags_toggle">(<form method="POST" action="problem.aspx?space=1&amp;num=1277" style="display:inline;" id="ToggleTagsForm"><a href="problem.aspx?space=1&amp;num=1277" onclick="document.getElementById('ToggleTagsForm').submit();return false;"><input type="hidden" name="Action" value="HideTags">hide tags for unsolved problems</a></form>)</span></div><div class="problem_links"><span>Difficulty: 801</span> &nbsp;&nbsp;&nbsp;<a href="print.aspx?space=1&amp;num=1277" target="_blank">Printable version</a> &nbsp;&nbsp;&nbsp;<a href="submit.aspx?space=1&amp;num=1277">Submit solution</a> &nbsp;&nbsp;&nbsp;<a href="forum/?space=1&amp;num=1277">Discussion (17)</a><br><a href="status.aspx?space=1&amp;num=1277">All submissions (4220)</a> &nbsp;&nbsp;&nbsp;<a href="status.aspx?space=1&amp;num=1277&amp;status=accepted">All accepted submissions (930)</a> &nbsp;&nbsp;&nbsp;<a href="rating.aspx?space=1&amp;num=1277">Solutions rating (533)</a></div></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table></body></html>