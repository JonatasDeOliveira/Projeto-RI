<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>1965. Pear Trees @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=1&amp;num=1965"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=1&amp;num=1965&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=1&amp;num=1965&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style55.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=1&amp;num=1965&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=1&amp;num=1965&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">1965. Pear Trees</h2><div class="problem_limits">Time limit: 1.0 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">Vova was walking along one of Shenzhen streets when he noticed young pear 
trees, growing along the pavement. Each tree had a plaque attached to it 
containing some number. Vova walked around all <i>n</i> trees and found out 
that the numbers on the plaques are pairwise distinct and fit the limits 
from 1 to <i>n</i>. Obviously, the trees were first planned to be planted in 
the given order, but at the moment they were strangely mixed: the sixth 
one, then the fourth one, then the third one, then the fifth one... </div></div><div class="problem_par"><div class="problem_par_normal">There was an ice cream tray nearby. The ice cream seller noticed Vova 
staring at the pear trees with a bewildered look and told him that he saw 
the trees planted. The foreman entrusted two workers with the task and 
told them to plant the trees according to the numbers on the plaques. Then 
he left and the workers divided the trees between themselves and started 
working. As the foreman wasn't specific about the increasing or decreasing 
order of numbers on the plaques, each worker made his own decision without 
consulting the partner. Both workers planted trees moving in the same 
direction, from the same end of the street.  </div></div><div class="problem_par"><div class="problem_par_normal">Let's look at the sample. Let's assume that <i>n</i> = 8 and the workers 
divided the trees between themselves in such a way that the first one got 
trees number 1, 4 and 5 and the second one got trees number 2, 3, 6, 7 and 
8. As a result, they got such sequence of numbers on the plaques:
8, 7, 1, 6, 4, 3, 5, 2 (the first one planted the trees in the increasing 
order and the second one planted the trees in the decreasing order). </div></div><div class="problem_par"><div class="problem_par_normal">Vova wrote down all numbers on the plaques in the order, in which the 
trees were planted and wanted to determine which trees were planted by the 
first worker and which trees were planted by the second one. Help him to do 
this. </div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">The first line contains an integer <i>n</i> that is the number of trees (3 ≤ <i>n</i> ≤ 100&nbsp;000). 
The second line contains <i>n</i> distinct integers between 1 and 
<i>n</i> describing the number permutation Vova wrote. </div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">Print in the first line two integers between 1 and (<i>n</i> − 1) that are 
the number of trees the first and the second worker planted, 
respectively. In the second line print the numbers of the trees planted 
by the first worker, in the third line print the number of the trees 
planted by the second worker. The numbers must follow in the order, in 
which the worker planted these trees. If there are multiple solutions, you 
may print any of them. If there's no solution, print “Fail”. </div></div><h3 class="problem_subtitle">Samples</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>8
8 7 1 6 4 3 5 2
</pre></td><td><pre>3 5
1 4 5
8 7 6 3 2
</pre></td></tr><tr><td><pre>6
3 5 1 2 6 4
</pre></td><td><pre>3 3
3 5 6
1 2 4
</pre></td></tr><tr><td><pre>6
3 5 2 1 6 4
</pre></td><td><pre>Fail
</pre></td></tr></tbody></table><div class="problem_source"><b>Problem Author: </b>Sergey Pupyrev<br><b>Problem Source: </b>Open Ural FU Personal Contest 2013<br></div></div></div><div><b>Tags: </b><a href="problemset.aspx?space=1&amp;tag=dynprog">dynamic programming</a> &nbsp;<span class="problem_tags_toggle">(<form method="POST" action="problem.aspx?space=1&amp;num=1965" style="display:inline;" id="ToggleTagsForm"><a href="problem.aspx?space=1&amp;num=1965" onclick="document.getElementById('ToggleTagsForm').submit();return false;"><input type="hidden" name="Action" value="HideTags">hide tags for unsolved problems</a></form>)</span></div><div class="problem_links"><span>Difficulty: 992</span> &nbsp;&nbsp;&nbsp;<a href="print.aspx?space=1&amp;num=1965" target="_blank">Printable version</a> &nbsp;&nbsp;&nbsp;<a href="submit.aspx?space=1&amp;num=1965">Submit solution</a> &nbsp;&nbsp;&nbsp;<a href="forum/?space=1&amp;num=1965">Discussion (2)</a><br><a href="status.aspx?space=1&amp;num=1965">All submissions (1327)</a> &nbsp;&nbsp;&nbsp;<a href="status.aspx?space=1&amp;num=1965&amp;status=accepted">All accepted submissions (297)</a> &nbsp;&nbsp;&nbsp;<a href="rating.aspx?space=1&amp;num=1965">Solutions rating (165)</a></div></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table></body></html>