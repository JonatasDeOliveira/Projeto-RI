<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>2094. Thousand Imps @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=1&amp;num=2094"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=1&amp;num=2094&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=1&amp;num=2094&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style55.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=1&amp;num=2094&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=1&amp;num=2094&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">2094. Thousand Imps</h2><div class="problem_limits">Time limit: 1.0 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">Winter in Yekaterinburg is the longest time of the year. And everyone 
spends long winter evenings in his own way. Alex loves magical worlds and 
tales of dragons saving princes from terrible princesses, so he often goes 
to the cinema to watch animated movies. </div></div><div class="problem_par"><div class="problem_par_normal">There is a problem that such movies are popular among kids. So if you take 
seat too early, each passing child can pour a coke on you. And if you 
enter the cinema hall too late, each child, by which you are squeezing to  
your seat, will try to kick you. Therefore, in recent times Alex, 
entering the hall, studies which seats have already taken, and depending  
on that decides whether to wait in the aisle or go to his seat.</div></div><div class="problem_par"><div class="problem_par_normal">Alex knows that:
<ul>
<li> if at the moment when he enters the hall, some seat is vacant, it 
will remain vacant up to the start of the movie with probability <i>p</i>%; 
</li><li> spectators enter the hall one at a time and in a random order; 
</li><li> each spectator, including Alex, goes to his seat from the left edge 
of the row; 
</li><li> latecomers are not allowed to the hall. So if at the beginning of 
the movie Alex is still standing in the aisle he goes to his seat as 
realizes that no one else will have to pass. 
</li></ul></div></div><div class="problem_par"><div class="problem_par_normal">Alex wants to get a strategy <b>minimizing the sum of the number of 
spectators, through whom he will pass to his seat, and the number of  
spectators who will pass to their seats through him</b>. Find the 
mathematical expectation of the required sum in the optimal strategy. </div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">The first line contains integers <i>n</i> and <i>p</i> that are the number of seats 
in the row and the probability in percent, that a vacant seat will remain 
vacant up to the start of the movie (1 ≤ <i>n</i> ≤ 1&nbsp;000; 0 
≤ <i>p</i> ≤ 100). The second line contains <i>n</i> characters 
describing the occupied seats in the row at the moment when Alex enters 
the hall. The <i>i</i>-th character equals 0 if the <i>i</i>-th left seat is 
vacant, 1 if it is occupied, and 2 if it is Alex’s seat. It is 
guaranteed that the string has exactly one character 2.</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">Output the required mathematical expectation with absolute or relative 
error not exceeding 10<sup>−6</sup>.</div></div><h3 class="problem_subtitle">Samples</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>5 0
01120
</pre></td><td><pre>2.500
</pre></td></tr><tr><td><pre>3 50
020
</pre></td><td><pre>0.375
</pre></td></tr></tbody></table><h3 class="problem_subtitle">Notes</h3><div class="problem_par"><div class="problem_par_normal">In the first example the optimal strategy for Alex is to wait until the 
fifth spectator (counting from the left) will come and to go to his seat 
right after that. If the fifth spectator will come before the first one, 
Alex will have to pass through two spectators; if the first spectator will 
come earlier, Alex will pass through three spectators. The probability of 
each of these two events is 0.5, so the required mathematical expectation 
is 0.5 · (2 + 3) = 2.5.</div></div><div class="problem_par"><div class="problem_par_normal">In the second example Alex should wait for the third spectator or for the  
beginning of the movie. With probability 0.375 the first spectator will 
come next (and Alex will have to pass through him), with probability 0.375 
the third spectator will come next, and with probability 0.25 nobody of 
them will come before the beginning of the movie.</div></div><div class="problem_source"><b>Problem Author: </b>Denis Dublennykh<br><b>Problem Source: </b>Open Ural FU Personal Contest 2014<br></div></div></div><div><b>Tags: </b>none &nbsp;<span class="problem_tags_toggle">(<form method="POST" action="problem.aspx?space=1&amp;num=2094" style="display:inline;" id="ToggleTagsForm"><a href="problem.aspx?space=1&amp;num=2094" onclick="document.getElementById('ToggleTagsForm').submit();return false;"><input type="hidden" name="Action" value="HideTags">hide tags for unsolved problems</a></form>)</span></div><div class="problem_links"><span>Difficulty: 3993</span> &nbsp;&nbsp;&nbsp;<a href="print.aspx?space=1&amp;num=2094" target="_blank">Printable version</a> &nbsp;&nbsp;&nbsp;<a href="submit.aspx?space=1&amp;num=2094">Submit solution</a> &nbsp;&nbsp;&nbsp;<a href="forum/?space=1&amp;num=2094">Discussion (1)</a><br><a href="status.aspx?space=1&amp;num=2094">All submissions (406)</a> &nbsp;&nbsp;&nbsp;<a href="status.aspx?space=1&amp;num=2094&amp;status=accepted">All accepted submissions (47)</a> &nbsp;&nbsp;&nbsp;<a href="rating.aspx?space=1&amp;num=2094">Solutions rating (12)</a></div></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table></body></html>