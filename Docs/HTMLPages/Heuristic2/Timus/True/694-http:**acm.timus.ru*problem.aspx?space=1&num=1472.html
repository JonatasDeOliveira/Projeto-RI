<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>1472. Martian Army @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=1&amp;num=1472"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=1&amp;num=1472&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=1&amp;num=1472&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style55.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=1&amp;num=1472&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=1&amp;num=1472&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">1472. Martian Army</h2><div class="problem_limits">Time limit: 1.0 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">Many centuries ago Martians switched to using huge robots
for military operations. During the current Moon conquest
campaign, all of the Martian army is located at the headquarters
on Mars, and each person is controlling the actions of his 
robot. There is a strict hierarchy in the Martian army: each
person excepting the general (there is only one general in the 
army) has a direct commander. According to the army regulations, 
communication is allowed only between a commander and his direct 
subordinate. The communication is carried out via the headquarters
local network. At the headquarters, each military person has 
his own computer, and computers are numbered from 1 to <i>N</i>, 
where <i>N</i> is the size of the Martian army. It is a tradition 
that a subordinate's computer has number that is greater than the 
number of his commander's computer. Each military person,
in addition to the number of his computer, is characterized by 
his reliability. This is a real number; the owner of the computer
<i>i</i> has reliability <i>A<sub>i</sub></i>. The general has 
reliability 1, and soldiers (soldiers and only they have no 
subordinates) have reliability 0.
</div></div><div class="problem_par"><div class="problem_par_normal">The traffic in the headquarters network is not free
for the military. For every megabyte of traffic between
the <i>i</i>th computer and the computer of the commander
of the <i>i</i>th computer's owner, the central Martian
provider demands <i>C<sub>i</sub></i> Martian dollars in payment.
The complication is that the volume of traffic between any 
two headquarters computers is a state secret, and is unknown 
even to the provider. Every month the provider sends a bill, and 
the military write there the traffic (a whole number of 
megabytes) themselves. Let a commander and his subordinate
have computers with numbers <i>i</i> and <i>k</i> respectively.
According to the contract with the provider, the traffic 
between the computers <i>i</i> and <i>k</i> must be
not less than <i>A<sub>i</sub></i>–<i>A<sub>k</sub></i>. 
In the beginning of every month, the provider's representatives
know the hierarchy in the Martian army and costs of a megabyte of 
traffic, but they don't know the numbers <i>A<sub>i</sub></i> 
except for the general and soldiers, and of course they don't 
know beforehand the amounts of traffic that the military will 
write in the bill. It is interesting to know the guaranteed
amount of money that the provider will receive from the military.
</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">The first line contains the size of the army
2 ≤ <i>N</i> ≤ 100000. 
Each of the next <i>N</i>–1 lines contains
integers <i>K<sub>i</sub></i> and <i>C<sub>i</sub></i>,
which are the number of the computer of the commander
of the <i>i</i>th computer's owner and the cost of a megabyte 
of traffic between the computers <i>i</i> and 
<i>K<sub>i</sub></i>
(1 ≤ <i>K<sub>i</sub></i> &lt; <i>i</i> ≤ <i>N</i>,
0 ≤ <i>C<sub>i</sub></i> ≤ 1000).
</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">Output the minimal guaranteed amount of payment to the provider in Martian dollars.
This amount must be a real number given with exactly two decimal digits.
</div></div><h3 class="problem_subtitle">Sample</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>7
1 10
2 5
2 3
3 1
3 2
3 3
</pre></td><td><pre>8.00
</pre></td></tr></tbody></table><div class="problem_source"><b>Problem Author: </b>Alexander Ipatov<br><b>Problem Source: </b>Ural SU and Orel STU Contest. Petrozavodsk Summer Session, August 2006<br></div></div></div><div><b>Tags: </b><a href="problemset.aspx?space=1&amp;tag=dynprog">dynamic programming</a> &nbsp;<span class="problem_tags_toggle">(<form method="POST" action="problem.aspx?space=1&amp;num=1472" style="display:inline;" id="ToggleTagsForm"><a href="problem.aspx?space=1&amp;num=1472" onclick="document.getElementById('ToggleTagsForm').submit();return false;"><input type="hidden" name="Action" value="HideTags">hide tags for unsolved problems</a></form>)</span></div><div class="problem_links"><span>Difficulty: 1155</span> &nbsp;&nbsp;&nbsp;<a href="print.aspx?space=1&amp;num=1472" target="_blank">Printable version</a> &nbsp;&nbsp;&nbsp;<a href="submit.aspx?space=1&amp;num=1472">Submit solution</a> &nbsp;&nbsp;&nbsp;<a href="forum/?space=1&amp;num=1472">Discussion (6)</a><br><a href="status.aspx?space=1&amp;num=1472">All submissions (1138)</a> &nbsp;&nbsp;&nbsp;<a href="status.aspx?space=1&amp;num=1472&amp;status=accepted">All accepted submissions (561)</a> &nbsp;&nbsp;&nbsp;<a href="rating.aspx?space=1&amp;num=1472">Solutions rating (341)</a></div></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table></body></html>