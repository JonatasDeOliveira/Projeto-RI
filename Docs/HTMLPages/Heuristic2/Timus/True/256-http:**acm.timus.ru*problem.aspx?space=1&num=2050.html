<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>2050. 3D-modeling @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=1&amp;num=2050"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=1&amp;num=2050&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=1&amp;num=2050&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style52.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=1&amp;num=2050&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=1&amp;num=2050&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">2050. 3D-modeling</h2><div class="problem_limits">Time limit: 1.0 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">Android Vasya’s elder friends have already been modeling six-dimensional space ships for quite a long time.
Vasya himself hasn’t yet acquired such level of mastering. He has only just started the 3d-modeling course.
And right now he is doing his first homework.</div></div><div class="problem_par"><div class="problem_par_normal">The homework is pretty easy, one just needs to make a 3d-drawing of any detail.
Vasya has already come up with the detail he wants to draw, imagined how it would look like and 
he even has drawn the first straight line.
But something went wrong.
Apparently the line turned out to be not the one he needed.</div></div><div class="problem_par"><div class="problem_par_normal">But Vasya has already got the solution for this problem.
He plans to rotate the detail in his mind in such a way, 
that the line he was going to draw would become the line he had actually drawn.
Help Vasya find out what rotation he should make for this.</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">First two lines contain coordinates of the points <i>A</i> and <i>B</i>.
These points lie on the drawn line.
The third and the fourth lines contain coordinates of the points <i>C</i> and <i>D</i>.
These points lie on the line Vasya was going to draw.
Point <i>A</i> doesn’t coincide with point <i>B</i>, point <i>C</i> doesn’t coincide with point <i>D</i>.
All numbers in the input data are integers and do not exceed 1000 by absolute value.</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">If the required rotation doesn’t exist output “Impossible” in a single line.
Otherwise in the first two lines output coordinates of the points <i>P</i> and <i>Q</i> which lie on the rotation axis.
In the third line output the rotation angle <i>α</i> in degrees.
The distance between points <i>P</i> and <i>Q</i> should not be less than 1.
The coordinates of points <i>P</i> and <i>Q</i> should not exceed 2000 by absolute value.
The angle should lie within the range [0; 360] and be counted counterclockwise, if one is looking from <i>P</i> to the direction of <i>Q</i>.
An answer is considered correct if after rotation of the line <i>CD</i> by the angle <i>α</i> around the axis <i>PQ</i> it results in some line <i>EF</i>, 
such that the distances from points <i>A</i> and <i>B</i> to this line <i>EF</i> don’t exceed 10<sup>−5</sup>.</div></div><h3 class="problem_subtitle">Samples</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>0 0 0
0 1 0
0 0 0
1 0 0
</pre></td><td><pre>0 0 1
0 0 0
90
</pre></td></tr><tr><td><pre>1 0 1
1 0 0
0 1 1
0 1 0
</pre></td><td><pre>0 0 1
0 0 0
270
</pre></td></tr></tbody></table><div class="problem_source"><b>Problem Author: </b>Egor Shchelkonogov (idea by Dmitry Ivankov)<br><b>Problem Source: </b>Ural Sport Programming Championship 2015<br></div></div></div><div><b>Tags: </b><a href="problemset.aspx?space=1&amp;tag=geometry">geometry</a> &nbsp;<span class="problem_tags_toggle">(<form method="POST" action="problem.aspx?space=1&amp;num=2050" style="display:inline;" id="ToggleTagsForm"><a href="problem.aspx?space=1&amp;num=2050" onclick="document.getElementById('ToggleTagsForm').submit();return false;"><input type="hidden" name="Action" value="HideTags">hide tags for unsolved problems</a></form>)</span></div><div class="problem_links"><span>Difficulty: 1903</span> &nbsp;&nbsp;&nbsp;<a href="print.aspx?space=1&amp;num=2050" target="_blank">Printable version</a> &nbsp;&nbsp;&nbsp;<a href="submit.aspx?space=1&amp;num=2050">Submit solution</a> &nbsp;&nbsp;&nbsp;<a href="forum/?space=1&amp;num=2050">Discussion (3)</a><br><a href="status.aspx?space=1&amp;num=2050">All submissions (578)</a> &nbsp;&nbsp;&nbsp;<a href="status.aspx?space=1&amp;num=2050&amp;status=accepted">All accepted submissions (66)</a> &nbsp;&nbsp;&nbsp;<a href="rating.aspx?space=1&amp;num=2050">Solutions rating (52)</a></div></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table></body></html>