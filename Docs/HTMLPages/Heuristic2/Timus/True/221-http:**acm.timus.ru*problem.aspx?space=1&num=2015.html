<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>2015. Zhenya moves from the dormitory @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=1&amp;num=2015"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=1&amp;num=2015&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=1&amp;num=2015&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style55.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=1&amp;num=2015&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=1&amp;num=2015&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">2015. Zhenya moves from the dormitory</h2><div class="problem_limits">Time limit: 1.0 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">After moving from his parents’ place Zhenya has been living 
in the University dormitory for a month. 
However, he got pretty tired of the curfew time and queues to the shower room 
so he took a fancy for renting an apartment. 
It turned out not the easiest thing in the world to make a choice. 
One can live in a one bedroom apartment or in a two bedroom apartment, 
alone or share it with a friend. 
Zhenya can afford to rent an apartment of any type alone, 
but he can share only a two bedroom apartment. 
If two people share an apartment, each pays half of the rent. 
Every apartment has its own advantages like part of the town, 
floor, view from the windows, etc., which Zhenya is going 
to take into account to make a decision.</div></div><div class="problem_par"><div class="problem_par_normal">Besides that, his friends, he’s ready to share an apartment with, 
also have certain advantages. For example, Igor is a good cook,
Dima is tidy, Kostya is a good cook and at the same time can explain 
how to solve functional analysis problems. 
And do not forget that living alone has its own bright sides.</div></div><div class="problem_par"><div class="problem_par_normal">Zhenya has already prepared the list of suitable apartments and 
possible housemates. Zhenya has estimated in units the advantages 
of each apartment and each friend and also the advantages of living alone. 
Besides, he knows the maximum sum of money he and each of his friends 
is ready to pay for the apartment. Help Zhenya to make a decision.</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">The first line contains three integers: the maximum sum Zhenya is ready 
to pay monthly, the advantages of living alone in a one bedroom apartment 
and the advantages of living alone in a two bedroom apartment. </div></div><div class="problem_par"><div class="problem_par_normal">The second line contains an integer <i>n</i> that is the number of Zhenya’s friends 
(0 ≤ <i>n</i> ≤ 256). Next <i>n</i> lines describe the friends, 
two integers in every line: the maximum sum the corresponding friend is ready 
to pay monthly and the advantages of sharing an apartment with him. </div></div><div class="problem_par"><div class="problem_par_normal">The next line contains an integer <i>m</i> that is the number of suitable apartments 
(1 ≤ <i>m</i> ≤ 256). Next <i>m</i> lines describe the apartments, 
three integers in every line: the number of bedrooms in an apartment (1 or 2), 
monthly rent and the advantages of living there.</div></div><div class="problem_par"><div class="problem_par_normal">All the advantages are estimated in the same units and lie in the range 
from 0 to 100&nbsp;000. All sums of money are in rubles 
and lie in the range from 1 to 100&nbsp;000.</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">Output the variant with maximum sum of advantages, 
Zhenya (and his friend in case of sharing apartments) can afford. 
If Zhenya should rent an apartment number <i>i</i> alone, 
output “You should rent the apartment #i alone.”. 
If he should share an apartment number <i>i</i> with a friend <i>j</i> output 
“You should rent the apartment #i with the friend #j.”. 
Friends and apartments are numbered from 1 in order they are given in the input. 
If there are several optimal alternatives, output any of them. 
If Zhenya can’t afford to rent any apartment at all, 
output “Forget about apartments. Live in the dormitory.”.</div></div><h3 class="problem_subtitle">Samples</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>10000 50 70
1
10000 100
2
1 10000 200
2 30000 500
</pre></td><td><pre>You should rent the apartment #1 alone.
</pre></td></tr><tr><td><pre>30000 0 1
1
10000 1001
3
1 20000 2000
2 30000 2000
2 10000 1001
</pre></td><td><pre>You should rent the apartment #3 with the friend #1.
</pre></td></tr><tr><td><pre>1000 0 0
0
1
1 10000 1000
</pre></td><td><pre>Forget about apartments. Live in the dormitory.
</pre></td></tr></tbody></table><h3 class="problem_subtitle">Notes</h3><div class="problem_par"><div class="problem_par_normal">In the first example Zhenya can’t afford even 
to share the second apartment. That is why he has to rent the first one. 
The sum of advantages in this case will be 250 (50&nbsp;+&nbsp;200).</div></div><div class="problem_par"><div class="problem_par_normal">In the second example Zhenya can afford any apartment 
but he can share only the third one. 
If he chooses this variant, the sum of advantages will be 2002 (1001&nbsp;+&nbsp;1001), 
and if he chooses to live alone it will not be more than 2001 
(1&nbsp;+&nbsp;2000 in case of living alone in the second apartment).</div></div><div class="problem_par"><div class="problem_par_normal">In the third example Zhenya can’t afford the only possible variant. </div></div><div class="problem_source"><b>Problem Author: </b>Eugene Kurpilyansky<br><b>Problem Source: </b>NEERC 2014, Eastern subregional contest<br></div></div></div><div><b>Tags: </b>none &nbsp;<span class="problem_tags_toggle">(<form method="POST" action="problem.aspx?space=1&amp;num=2015" style="display:inline;" id="ToggleTagsForm"><a href="problem.aspx?space=1&amp;num=2015" onclick="document.getElementById('ToggleTagsForm').submit();return false;"><input type="hidden" name="Action" value="HideTags">hide tags for unsolved problems</a></form>)</span></div><div class="problem_links"><span>Difficulty: 222</span> &nbsp;&nbsp;&nbsp;<a href="print.aspx?space=1&amp;num=2015" target="_blank">Printable version</a> &nbsp;&nbsp;&nbsp;<a href="submit.aspx?space=1&amp;num=2015">Submit solution</a> &nbsp;&nbsp;&nbsp;<a href="forum/?space=1&amp;num=2015">Discussion (9)</a><br><a href="status.aspx?space=1&amp;num=2015">All submissions (3422)</a> &nbsp;&nbsp;&nbsp;<a href="status.aspx?space=1&amp;num=2015&amp;status=accepted">All accepted submissions (846)</a> &nbsp;&nbsp;&nbsp;<a href="rating.aspx?space=1&amp;num=2015">Solutions rating (601)</a></div></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table></body></html>