<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>2105. Alice and Bob are on Bikes @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=1&amp;num=2105"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=1&amp;num=2105&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=1&amp;num=2105&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style55.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=1&amp;num=2105&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=1&amp;num=2105&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">2105. Alice and Bob are on Bikes</h2><div class="problem_limits">Time limit: 1.0 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">Alice and Bob, after played enough and completely figured out the game 
with colored strip, decided to ride bikes around the fountain on a 
circular path of length <i>L</i>. Alice rides with a speed <i>v</i><sub><i>A</i></sub>, 
Bob&nbsp;—&nbsp;with a speed <i>v</i><sub><i>B</i></sub>, and they have started in different 
directions. At the initial moment the kids were in the same point. When they 
“meet” (i.e., at some moment they are in the same point as in the 
previous were not), they joyfully exclaim (“Oh, Bob!” or “Oh, Alice!” 
respectively). But sometimes along the way, the kids stop to feed the 
squirrels. Find, how many times Alice and Bob “have met”. </div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">The first line contains integers <i>L</i>, <i>T</i>, <i>v</i><sub><i>A</i></sub>, and <i>v</i><sub><i>B</i></sub> that are the 
length of the path, the riding time and the speed of Alice and Bob, 
respectively (1 ≤ <i>L</i> ≤ 10<sup>9</sup>; 1 ≤ <i>T</i> ≤ 10<sup>6</sup>; 1 ≤ <i>v</i><sub><i>A</i></sub>,<i>v</i><sub><i>B</i></sub> 
≤ 10<sup>3</sup>).</div></div><div class="problem_par"><div class="problem_par_normal">The next line contains a single integer <i>n</i>, that is the number of 
intervals in which children were feeding squirrels <nobr>(0 ≤ <i>n</i> ≤ 10<sup>5</sup>)</nobr>. 
The next <i>n</i> lines describe those intervals. Each description consists of 
three integers: <i>type</i><sub><i>i</i></sub> <i>t</i><sub><i>i</i></sub> <i>d</i><sub><i>i</i></sub>, meaning who was feeding (1 for 
Alice and 2 for Bob), at what moment the feeding started and how much time 
it lasted, respectively <nobr>(0 ≤ <i>t</i><sub><i>i</i></sub>, <i>d</i><sub><i>i</i></sub> ≤ <i>T</i>; <i>t</i><sub><i>i</i></sub> + <i>d</i><sub><i>i</i></sub> ≤ 
<i>T</i>)</nobr>. </div></div><div class="problem_par"><div class="problem_par_normal">It is guaranteed that for one kid any two intervals intersect in no more than one point. 
The intervals are given in order of non-decreasing <i>t</i><sub><i>i</i></sub>.</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">Output the number of “meetings” of Alice and Bob.</div></div><h3 class="problem_subtitle">Sample</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>10 10 2 1
3
1 1 1
1 2 2
2 2 1
</pre></td><td><pre>2
</pre></td></tr></tbody></table><div class="problem_source"><b>Problem Author: </b>Nikita Sivukhin<br><b>Problem Source: </b>Ural FU Junior Championship 2016<br></div></div></div><div><b>Tags: </b>none &nbsp;<span class="problem_tags_toggle">(<form method="POST" action="problem.aspx?space=1&amp;num=2105" style="display:inline;" id="ToggleTagsForm"><a href="problem.aspx?space=1&amp;num=2105" onclick="document.getElementById('ToggleTagsForm').submit();return false;"><input type="hidden" name="Action" value="HideTags">hide tags for unsolved problems</a></form>)</span></div><div class="problem_links"><span>Difficulty: 205</span> &nbsp;&nbsp;&nbsp;<a href="print.aspx?space=1&amp;num=2105" target="_blank">Printable version</a> &nbsp;&nbsp;&nbsp;<a href="submit.aspx?space=1&amp;num=2105">Submit solution</a> &nbsp;&nbsp;&nbsp;<a href="forum/?space=1&amp;num=2105">Discussion (3)</a><br><a href="status.aspx?space=1&amp;num=2105">All submissions (1228)</a> &nbsp;&nbsp;&nbsp;<a href="status.aspx?space=1&amp;num=2105&amp;status=accepted">All accepted submissions (446)</a> &nbsp;&nbsp;&nbsp;<a href="rating.aspx?space=1&amp;num=2105">Solutions rating (372)</a></div></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table></body></html>