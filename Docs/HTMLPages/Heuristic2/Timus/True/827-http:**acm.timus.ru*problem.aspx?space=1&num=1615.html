<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>1615. Tram Solitaire @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=1&amp;num=1615"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=1&amp;num=1615&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=1&amp;num=1615&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style52.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=1&amp;num=1615&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=1&amp;num=1615&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">1615. Tram Solitaire</h2><div class="problem_limits">Time limit: 0.5 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">It might seem that a traffic jam is not a problem for trams. However, if
tram rails are laid on the roadway, a tram is on equal terms with other
vehicles. In fact, a traffic jam is a greater problem for trams because they
can't drive around the difficult section of the road.
</div></div><div class="problem_par"><div class="problem_par_normal">Tram driver Zina can always find what to do while her car is stuck in a
traffic jam. She likes most to play a solitaire, in which a deck consisting of
cards of two suits (hearts and spades) is used. In each suit, there are
<i>n</i> cards of different values (so, there are 2<i>n</i> cards in total).
Zina takes cards from the deck one by one and puts them down in a row from left
to right face up. After putting down each card, Zina performs <i>sifting</i>:
if there are two cards of the same suit or of the same value separated by
exactly one card, then the leftmost of these cards is removed, and all the
cards that are to the right of it are shifted to the left by one place. If
there are several such pairs, then the pair is chosen that is nearer to the
beginning of the row. Sifting can be performed many times, as long as there are
such pairs in the row. Zina wins the game if after dealing the whole deck and
sifting there are only two cards in the row.</div></div><div class="problem_par"><div class="problem_par_normal">For example, if at some moment there were the cards “H7 S5 S2
H4” in the row (“H” denotes hearts and “S”
denotes spades), and the card “S7” was added, then after the first
sifting we get “H7 S5 H4 S7.” Then the first of the two pairs is
“sifted,” and the cards “S5 H4 S7” are left. Finally,
after sifting, we get “H4 S7.”</div></div><div class="problem_par"><div class="problem_par_normal">Zina has always wanted to know the chances of winning the game. Can you
help her?</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">The only input line contains the integer <i>n</i>,
2 ≤ <i>n</i> ≤ 10000.
</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">Output the probability of winning the game, in the form
of an irreducible fraction. Use the format given in the sample.</div></div><h3 class="problem_subtitle">Sample</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>2
</pre></td><td><pre>2/3
</pre></td></tr></tbody></table><div class="problem_source"><b>Problem Author: </b>Vladimir Yakovlev<br><b>Problem Source: </b>The 12th Urals Collegiate Programing Championship, March 29, 2008<br></div></div></div><div><b>Tags: </b>none &nbsp;<span class="problem_tags_toggle">(<form method="POST" action="problem.aspx?space=1&amp;num=1615" style="display:inline;" id="ToggleTagsForm"><a href="problem.aspx?space=1&amp;num=1615" onclick="document.getElementById('ToggleTagsForm').submit();return false;"><input type="hidden" name="Action" value="HideTags">hide tags for unsolved problems</a></form>)</span></div><div class="problem_links"><span>Difficulty: 1823</span> &nbsp;&nbsp;&nbsp;<a href="print.aspx?space=1&amp;num=1615" target="_blank">Printable version</a> &nbsp;&nbsp;&nbsp;<a href="submit.aspx?space=1&amp;num=1615">Submit solution</a> &nbsp;&nbsp;&nbsp;<a href="forum/?space=1&amp;num=1615">Discussion (3)</a><br><a href="status.aspx?space=1&amp;num=1615">All submissions (389)</a> &nbsp;&nbsp;&nbsp;<a href="status.aspx?space=1&amp;num=1615&amp;status=accepted">All accepted submissions (196)</a> &nbsp;&nbsp;&nbsp;<a href="rating.aspx?space=1&amp;num=1615">Solutions rating (179)</a></div></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table></body></html>