<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>1479. Scheduled Checking @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=1&amp;num=1479"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=1&amp;num=1479&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=1&amp;num=1479&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style55.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=1&amp;num=1479&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=1&amp;num=1479&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">1479. Scheduled Checking</h2><div class="problem_limits">Time limit: 2.0 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">The mayor of ACMburg decided to reorganize the work of the city
public transport. There are <i>N</i> bus stops in ACMburg, and 
some of them are connected by roads. If two bus stop are 
connected by a road, then a bus may go without additional stops
from the first stop to the second stop as well as from the second 
stop to the first stop. No two stops are connected by more than 
one road, and no road connects a stop with itself.
A bus must stop at every stop along its route.
After the reform, there are only circular routes with at least 
three different stops, and on each route the stops do not repeat.
Any two routes differ in at least one road. For the convenience 
of citizens, there are as many different routes (satisfying the 
above conditions) as possible. The routes are numbered from 1 to
<i>K</i>. On each route there is exactly one bus, and the buses 
are numbered according to their routes.
</div></div><div class="problem_par"><div class="problem_par_normal">According to the mayor's regulation, inspectors must examine
passengers' tickets according to a certain schedule, which 
must be arranged by city officials. The schedule must be 
in the form of a table with columns corresponding to bus routes
and rows corresponding to time moments at which checks are 
performed.  

If there is a number <i>X</i> in a cell [<i>T</i>, <i>I</i>], 
then the bus <i>I</i> stops for a ticket check at the stop 
<i>X</i> at the moment <i>T</i>. There may be empty cells in the 
table. During a day, each bus must undergo a check at each stop 
exactly once, i.e., the number of nonempty cells in each column 
equals the number of stops on the corresponding route.
Two buses cannot be checked at the same stop simultaneously.
And, of course , a bus cannot be at two different stops at 
the same moment.
It is required to find the minimal number of lines in this table.
</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">The first line contains the numbers of stops and roads in the 
city: <i>N</i> and <i>M</i> (3 ≤ <i>N</i> ≤ 14). 
In the next <i>M</i> lines there are pairs of stops
connected by roads.
</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">Output the minimal number of lines in the schedule.</div></div><h3 class="problem_subtitle">Sample</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>4 4
1 2
2 3
1 3
1 4
</pre></td><td><pre>3
</pre></td></tr></tbody></table><div class="problem_source"><b>Problem Author: </b>Alexander Ipatov<br><b>Problem Source: </b>Ural SU and Orel STU Contest. Petrozavodsk Summer Session, August 2006<br></div></div></div><div><b>Tags: </b><a href="problemset.aspx?space=1&amp;tag=graphs">graph theory</a> &nbsp;<a href="problemset.aspx?space=1&amp;tag=hardest">hardest problem</a> &nbsp;<span class="problem_tags_toggle">(<form method="POST" action="problem.aspx?space=1&amp;num=1479" style="display:inline;" id="ToggleTagsForm"><a href="problem.aspx?space=1&amp;num=1479" onclick="document.getElementById('ToggleTagsForm').submit();return false;"><input type="hidden" name="Action" value="HideTags">hide tags for unsolved problems</a></form>)</span></div><div class="problem_links"><span>Difficulty: 5406</span> &nbsp;&nbsp;&nbsp;<a href="print.aspx?space=1&amp;num=1479" target="_blank">Printable version</a> &nbsp;&nbsp;&nbsp;<a href="submit.aspx?space=1&amp;num=1479">Submit solution</a> &nbsp;&nbsp;&nbsp;<a href="forum/?space=1&amp;num=1479">Discussion (6)</a><br><a href="status.aspx?space=1&amp;num=1479">All submissions (278)</a> &nbsp;&nbsp;&nbsp;<a href="status.aspx?space=1&amp;num=1479&amp;status=accepted">All accepted submissions (91)</a> &nbsp;&nbsp;&nbsp;<a href="rating.aspx?space=1&amp;num=1479">Solutions rating (65)</a></div></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table></body></html>