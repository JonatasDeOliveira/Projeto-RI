<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>1426. Rectangles @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=1&amp;num=1426"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=1&amp;num=1426&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=1&amp;num=1426&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style55.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=1&amp;num=1426&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=1&amp;num=1426&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">1426. Rectangles</h2><div class="problem_limits">Time limit: 1.0 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><h3 class="problem_subtitle">Background</h3><div class="problem_par"><div class="problem_par_normal">It was a warm autumn day, a carpet of fallen leaves rustled underfoot, a light breeze caressingly aired his face, and the sun itself seemed to stretch its rays to the earth...
</div></div><div class="problem_par"><div class="problem_par_normal">Hereditary abstract painter Aristarh M. Petroff opened his eyes and swore: "Dammit, what a dream!" Nightmares harassed Mr. Petroff all month long when he painted a series of pictures named "Quadrangles". The series was ordered by some eccentric millionaire, and after the job was completed Aristarh was going to fairly enrich himself. At the thought of money Mr. Petroff grinned. And at that very moment the phone rang:</div></div><div class="problem_par"><div class="problem_par_normal">"Hallo... Yes, Petroff... Glad to hear you, nice weath... what changes?... Well, rather minor... What? Rectangles??! But we have already agre... doesn't matter? An what should I do with already painted... You don't care?... Yes, sure... of course... no problem... all the best."</div></div><div class="problem_par"><div class="problem_par_normal">The millionaire must be really eccentric to change his order at the last moment. Now he wants to buy pictures with rectangles instead of quadrangles. It goes without saying that new pictures should be painted on a level with the highest ideological and artistic standards.</div></div><div class="problem_par"><div class="problem_par_normal">Of course, Aristarh is not going to junk already painted pictures. He just cannot destroy the products of his own creative work, and, after all, new canvases will cost a lot of money. But even now an inspiration has not abandoned Mr. Petroff, and a brilliant idea has come to his mind.</div></div><h3 class="problem_subtitle">Problem</h3><div class="problem_par"><div class="problem_par_normal">While creating each of N pictures, Aristarh drew four basic points with cartesian coordinates (x1[i], y1[i]), (x2[i], y2[i]), (x3[i], y3[i]) and (x4[i], y4[i]) on its canvas. Then he connected each pair of the basic points by segments and covered the resulting figure with paint. However the painter is not good in geometry, so sometimes he created triangles or even segments instead of quadrangles. More over, two or more basic points might coincide with each other.</div></div><div class="problem_par"><div class="problem_par_normal">Now Mr. Petroff is going to draw a rectangle on each picture so that each of four already drawn basic points should lie on some side of this rectangle (several points may lie on the same side). No two vertices of the rectangle should coincide with each other (i.e. a point or a segment is not a rectangle). At the same time it should be remembered that each picture is a square 20000*20000 with a center at point (0, 0), and the rectangle should fit this square. A true painter only can think out such thing. And a true programmer only can realize it!</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">The first line contains the integer number N (0 ≤ N ≤ 10000). Each of the next N lines contains the integer numbers x1[i], y1[i], x2[i], y2[i], x3[i], y3[i], x4[i] and y4[i] (-5000 ≤ x1[i], y1[i], x2[i], y2[i], x3[i], y3[i], x4[i], y4[i] ≤ 5000) for the corresponding picture.</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">Each of N lines should contain a character "+" (plus) followed by coordinates of the vertices of the desired rectangle for the corresponding picture. The vertices should be listed in clockwise or counterclockwise order. The coordinates should be separated by single spaces and printed with at least six digits after decimal point. If the problem has no solution for some picture, the corresponding line should contain a character "-" (minus). If the problem has several solutions for some picture, the corresponding line should contain any of them. </div></div><h3 class="problem_subtitle">Sample</h3><table class="sample"><tbody><tr><th>input</th></tr><tr><td><pre>2
1 0 0 1 3 2 1 2
0 1 0 -1 1 0 -1 0
</pre></td></tr><tr><th>output</th></tr><tr><td><pre>+ 0.000000 0.000000 0.000000 2.000000 3.1234567890 2.000000 3.1234567890 0.000000 
+ 0.000000 -1.000000 1.000000 0.000000 0.000000 1.000000 -1.000000 0.000000
</pre></td></tr></tbody></table><div class="problem_source"><b>Problem Author: </b>Nikita Rybak, Dmitry Kovalioff, Ilya Grebnov<br><b>Problem Source: </b>Timus Top Coders: First Challenge<br></div></div></div><div><b>Tags: </b>none &nbsp;<span class="problem_tags_toggle">(<form method="POST" action="problem.aspx?space=1&amp;num=1426" style="display:inline;" id="ToggleTagsForm"><a href="problem.aspx?space=1&amp;num=1426" onclick="document.getElementById('ToggleTagsForm').submit();return false;"><input type="hidden" name="Action" value="HideTags">hide tags for unsolved problems</a></form>)</span></div><div class="problem_links"><span>Difficulty: 5197</span> &nbsp;&nbsp;&nbsp;<a href="print.aspx?space=1&amp;num=1426" target="_blank">Printable version</a> &nbsp;&nbsp;&nbsp;<a href="submit.aspx?space=1&amp;num=1426">Submit solution</a> &nbsp;&nbsp;&nbsp;<a href="forum/?space=1&amp;num=1426">Discussion (5)</a><br><a href="status.aspx?space=1&amp;num=1426">All submissions (1455)</a> &nbsp;&nbsp;&nbsp;<a href="status.aspx?space=1&amp;num=1426&amp;status=accepted">All accepted submissions (154)</a> &nbsp;&nbsp;&nbsp;<a href="rating.aspx?space=1&amp;num=1426">Solutions rating (73)</a></div></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table></body></html>