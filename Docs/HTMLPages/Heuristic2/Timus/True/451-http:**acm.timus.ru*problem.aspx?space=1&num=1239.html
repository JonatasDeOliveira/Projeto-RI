<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>1239. Ghost Busters @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=1&amp;num=1239"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=1&amp;num=1239&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=1&amp;num=1239&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style52.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=1&amp;num=1239&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=1&amp;num=1239&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">1239. Ghost Busters</h2><div class="problem_limits">Time limit: 1.0 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><img src="/image/get.aspx/d7a95e13-d49a-4787-b40b-0ba77b5992e5" border="0" alt="Problem illustration" align="RIGHT" class="problem_raimage"><div class="problem_par"><div class="problem_par_normal">The famous Ghost Busters team has decided to upgrade their Ectomobile 
(aka Ecto-1) with a powerful proton gun and an advanced targeting system. 
Egon has designed and built all the hardware which consists of ectoplasmic 
scanner and a proton gun that has two degrees of freedom and can automatically 
rotate and fire in a 90 degrees trihedral angle. You have been hired to 
write a prototype for the targeting software.</div></div><div class="problem_par"><div class="problem_par_normal">Ghosts are detected by ectoplasmic scanner and are represented as
floating spheres. The coordinates of their centers and radii are 
delivered from the ectoplasmic scanner to the targeting software. The
coordinate system is aligned is such a way, that the proton gun fires
from the point (0, 0, 0) anywhere into 
X&nbsp;≥&nbsp;0, Y&nbsp;≥&nbsp;0, Z&nbsp;≥&nbsp;0 
trihedral angle. The gun fires a proton ray in a straight line 
and is so powerful, that even a touch of its ray is enough to kill 
a ghost. The ray of the proton gun is able to kill a virtually unlimited 
number of ghosts on its way.</div></div><div class="problem_par"><div class="problem_par_normal">For the first prototype for the targeting software, you are asked to 
write a program that determines the maximal number of ghosts that can
be killed with a single shot of the proton gun.</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">The first line contains a single integer N (0 ≤ N ≤ 100) - the number of ghosts detected by the ectoplasmic scanner of Ecto-1. The following N lines describe detected ghosts - one ghost per line. The description of i<sup>th</sup> ghost (ghosts are 
numbered from 1 to N) consists of 4 integer numbers X<sub>i</sub>,
Y<sub>i</sub>, Z<sub>i</sub>, and R<sub>i</sub>, separated by spaces.
X<sub>i</sub>, Y<sub>i</sub>, Z<sub>i</sub> 
(1&nbsp;≤&nbsp;X<sub>i</sub>,&nbsp;Y<sub>i</sub>,&nbsp;Z<sub>i</sub>&nbsp;≤&nbsp;10000) 
are the coordinates of the ghost's center, and R<sub>i</sub> 
(1&nbsp;≤&nbsp;R<sub>i</sub>&nbsp;≤&nbsp;min(X<sub>i</sub>,&nbsp;Y<sub>i</sub>,&nbsp;Z<sub>i</sub>))
is the ghost's radius.
Because ghosts are ectoplasmic, they can be arbitrarily placed in respect
to each others. They can intersect, fit inside each other, coincide with each
other, etc.</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">On the first line write a single integer number - the maximal number of ghosts that can be killed with a single shot of the proton gun. On the second line write the identifying numbers of the ghosts to be killed in an arbitrary order separated by spaces. If there are multiple ways to kill this number of ghosts then write any one.</div></div><h3 class="problem_subtitle">Samples</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>2
1200 1200 3900 300
160 160 820 60
</pre></td><td><pre>2
1 2
</pre></td></tr><tr><td><pre>13
1200 1200 3900 300
160 160 820 60
100 10 10 10
10 100 10 10
10 10 100 10
10 10 10 10
50 50 50 10
100 100 75 20
100 75 100 20
75 100 100 20
3000 4000 7000 2600
100 1000 1000 50
1000 100 1000 100
</pre></td><td><pre>5
6 7 9 10 11
</pre></td></tr></tbody></table><h3 class="problem_subtitle">Notes</h3><div class="problem_par"><div class="problem_par_normal">It is possible to kill both ghosts in sample #1 only because the 
proton gun is so powerful that it kills ghosts by mere touch.<br>
Sample #2 has 11 more ghosts (for a total of 13). Picture shows the
view of these ghosts through the ectoplasmic scope sight that
Egon has attached to proton gun to calibrate it and to debug your 
targeting software. Outlines show ghosts as seen through the scope.</div></div><div class="problem_source"><b>Problem Author: </b>Roman Elizarov<br><b>Problem Source: </b>2002-2003 ACM Northeastern European Regional Programming Contest<br></div></div></div><div><b>Tags: </b><a href="problemset.aspx?space=1&amp;tag=geometry">geometry</a> &nbsp;<a href="problemset.aspx?space=1&amp;tag=hardest">hardest problem</a> &nbsp;<span class="problem_tags_toggle">(<form method="POST" action="problem.aspx?space=1&amp;num=1239" style="display:inline;" id="ToggleTagsForm"><a href="problem.aspx?space=1&amp;num=1239" onclick="document.getElementById('ToggleTagsForm').submit();return false;"><input type="hidden" name="Action" value="HideTags">hide tags for unsolved problems</a></form>)</span></div><div class="problem_links"><span>Difficulty: 2830</span> &nbsp;&nbsp;&nbsp;<a href="print.aspx?space=1&amp;num=1239" target="_blank">Printable version</a> &nbsp;&nbsp;&nbsp;<a href="submit.aspx?space=1&amp;num=1239">Submit solution</a> &nbsp;&nbsp;&nbsp;<a href="forum/?space=1&amp;num=1239">Discussion (3)</a><br><a href="status.aspx?space=1&amp;num=1239">All submissions (732)</a> &nbsp;&nbsp;&nbsp;<a href="status.aspx?space=1&amp;num=1239&amp;status=accepted">All accepted submissions (202)</a> &nbsp;&nbsp;&nbsp;<a href="rating.aspx?space=1&amp;num=1239">Solutions rating (141)</a></div></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table></body></html>