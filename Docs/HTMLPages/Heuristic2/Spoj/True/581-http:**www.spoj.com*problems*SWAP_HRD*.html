<!DOCTYPE html><!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]--><!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]--><!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]--><!--[if (gte IE 9)|!(IE)]><!--><html class="not-ie" lang="en"><!--<![endif]--><head>
	<!-- main header -->
	<meta charset="utf-8">
	
				<title>SPOJ.com - Problem SWAP_HRD</title>
		  
	<meta name="keywords" content="language, algorithm, spoj, contest, contester, Java, C#, Pascal, C, C++, python, ruby, caml, ocaml, perl, haskell, lisp, prolog, fortran, assembler, asembler, functional, online, judge, problem, problemset, ACM">
  	<meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  		<meta property="og:title" content="SPOJ.com - Problem SWAP_HRD">
    <meta property="fb:app_id" content="321676846207">
	<meta property="og:type" content="spoj-pl:problem">
	<meta property="og:url" content="http://www.spoj.com/problems/SWAP_HRD/">
	<meta property="og:image" content="//stx1.spoj.com/gfx/logo-cr.png">
	<meta property="og:description" content="...">
	<meta name="description" content="...">
		<meta property="og:site_name" content="spoj.com">

  <!--[if (gte IE 9)|!(IE)]>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" id="metatag">
  <![endif]--> 

	  <!-- Favicon -->
	  <link href="//stx1.spoj.com/gfx/favicon_new.png" rel="shortcut icon" type="image/x-icon">
	  
	  <!-- RSS -->
	  <link href="/rss/" rel="alternate" type="application/rss+xml" title="RSS Feed">
	
	  <!-- Web Fonts -->
	  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800" rel="stylesheet" type="text/css">  

	<!-- Internet Explorer condition - HTML5 shim, for IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]--> 
	
	
	
	<!-- CSS: Bootstrap, Font-awesome, Bootstrap libs,  -->
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet">
  	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
  	<link href="//stx1.spoj.com/gfx/bootstrap-tour/build/css/bootstrap-tour.min.css" rel="stylesheet">
  	<link href="//stx1.spoj.com/themes/bootstrap-social.css" rel="stylesheet" type="text/css">
  	
	<link href="//stx1.spoj.com/themes/common.css?4" rel="stylesheet" type="text/css" id="theme0">
	<link href="//stx1.spoj.com/themes/en_new.css?4" rel="stylesheet" type="text/css" id="theme">
	
	<!-- JS -->
	<script type="text/javascript" async="" src="http://www.google-analytics.com/plugins/ua/linkid.js"></script><script async="" src="//www.google-analytics.com/analytics.js"></script><script id="facebook-jssdk" src="//connect.facebook.net/pl_PL/sdk.js#xfbml=1&amp;appId=321676846207&amp;version=v2.0"></script><script src="https://pagead2.googlesyndication.com/pagead/js/r20180507/r20180504/osd.js"></script><script src="https://pagead2.googlesyndication.com/pub-config/r20160913/ca-pub-4453360425583535.js"></script><script type="text/javascript" src="//code.jquery.com/jquery-1.11.1.min.js"></script>
	<script type="text/javascript" src="//code.jquery.com/ui/1.11.2/jquery-ui.min.js"></script>
	
		
		
	<script type="text/javascript" language="javascript">
	$(function () { 
		$("#profile-menu").popover();
	});
	function UnCryptMailto(s) {
		var n=0;
		var r="";
		for(var i=0;i<s.length;i++) {		
			n=s.charCodeAt(i); 
			if (n>=8364) {n = 128;}
			r += String.fromCharCode(n+(2));	
		}
		return r;
	}
	function linkTo_UnCryptMailto(s)	{
		location.href=UnCryptMailto(s);
	}
	</script>
	
	<script type="text/javascript">
	function recordOutboundLink(link, category, action) {
	  try {
	    var pageTracker=_gat._getTracker("UA-XXXXX-X");
	    pageTracker._trackEvent(category, action);
	    setTimeout('document.location = "' + link.href + '"', 100)
	  }catch(err){}
	}
	</script>
	
<link rel="preload" href="https://adservice.google.com/adsid/integrator.js?domain=www.spoj.com"><script type="text/javascript" src="https://adservice.google.com/adsid/integrator.js?domain=www.spoj.com"></script><script async="" src="//static.hotjar.com/c/hotjar-334656.js?sv=5"></script><script async="" src="https://script.hotjar.com/modules-71c04ef46db1016ebed876c73b1e9723.js"></script><style type="text/css">iframe#_hjRemoteVarsFrame {display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;}</style><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent}.fb_dialog_close_icon:active{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent}.fb_dialog_loader{background-color:#f6f7f9;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{width:auto;height:auto;min-height:initial;min-width:initial;background:none}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{color:#fff;display:block;padding-top:20px;clear:both;font-size:18px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;bottom:0;left:0;right:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #29487d;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f6f7f9;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yD/r/t-wz8gw1xG1.png);background-repeat:no-repeat;background-position:50% 50%;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}
.fb_customer_chat_bounce_in{animation-duration:250ms;animation-name:fb_bounce_in}.fb_customer_chat_bounce_out{animation-duration:250ms;animation-name:fb_fade_out}.fb_invisible_flow{display:inherit;height:0;overflow-x:hidden;width:0}.fb_mobile_overlay_active{background-color:#fff;height:100%;overflow:hidden;position:fixed;visibility:hidden;width:100%}@keyframes fb_fade_out{from{opacity:1}to{opacity:0}}@keyframes fb_bounce_in{0%{opacity:0;transform:scale(.8, .8);transform-origin:100% 100%}10%{opacity:.1}20%{opacity:.2}30%{opacity:.3}40%{opacity:.4}50%{opacity:.5}60%{opacity:.6}70%{opacity:.7}80%{opacity:.8;transform:scale(1.03, 1.03)}90{opacity:.9}100%{opacity:1;transform:scale(1, 1)}}</style></head>

<body>

	
	<!-- <div class="space30"></div> -->
	
	<!-- Content -->
	<div class="content">
		<div class="container" id="header">
			<div class="row">
				<div class="col-md-12 text-right">
										<form method="post" style="display: none;" action="/login/" id="login-form">
						<div class="row">
							<div class="col-md-10 col-md-offset-2">
								<input type="hidden" name="next_raw" value="/">
								<input type="hidden" name="autologin" value="1">
								<input type="text" name="login_user" placeholder="Username" class="form-control input-sm" style="display: inline-block; width: 25%;">
								<input type="password" name="password" placeholder="Password" class="form-control input-sm" style="display: inline-block; width: 25%;">
																<button type="submit" class="btn btn-default btn-sm" style="display: inline-block; margin-right: 10px;"><span class="fa fa-sign-in fa-lg"></span> <strong>sign in</strong></button>
																<a href="/register"><i class="fa fa-user-plus"></i> sign up</a> 
								<a href="/forgot"><i class="fa fa-question-circle"></i> forgot</a>
				        									</div>
						</div>
					</form>
										
					
				</div>
			</div>
		
			<div class="row">
				<div class="col-md-4">
					<a href="/" class="navbar-brand">
						<img src="//stx1.spoj.com/gfx/2015e.png" style="height: 40px;">
					</a>
					<div class="navbar-header">
				      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
				        <span class="sr-only">Toggle navigation</span>
				        <i class="fa fa-bars"></i>
				      </button>
				    </div>
				</div>
				<div class="col-md-8" id="menu">
				
					
					<div class="row">
					<nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation" style="border: 0px;">
				      <ul class="nav navbar-nav" style="  float: right; margin-top: 10px;">
				      						        <li class="active">
					          <a href="/problems"><i class="fa fa-puzzle-piece"></i> PROBLEMS</a>
					        </li>
					        					        <li>
					          <a href="/status"><i class="fa fa-circle"></i> STATUS</a>
					        </li>
					        <li>
					          <a href="/ranks"><i class="fa fa-trophy"></i> RANKS</a>
					        </li>
					        <li>
					          <a href="http://spoj.com/forum"><i class="fa fa-comments-o"></i> DISCUSS</a>
					        </li>
					        <li>
					          <a href="/contests">CONTESTS</a>
					        </li>
											        					        <li>
					        	<a href="/login" class="text-success" onclick="$('#login-form').show(); $('input[name=login_user]').focus(); return false;"><i class="fa fa-sign-in"></i> sign in</a>
					        </li>
					        						
				        
				      </ul>
				    </nav>
				    </div>
				    
				    
				</div>
			</div>
			
		</div>
		
		<div class="container" id="menu">
			
		</div>
		
		<div class="container" id="content">
		<script type="text/javascript" src="/gfx/jquery.cxhelp2.js"></script>



 <!-- wykorzystywane w pcontent.html (by wiele) -->

<div class="submenu">
	
		<ol class="breadcrumb">
	  <li><a href="/problems">Problems</a></li>
	  <li><a href="/problems/classical">classical</a></li>
	  <li class="active">Swap (Hard - Level 1000)</li>
	</ol>
		
	<ol class="navbar-right">
						
				<li><a href="/status/SWAP_HRD/" class="">Status</a></li>
		<li><a href="/ranks/SWAP_HRD/" class="">Ranking</a></li>
	</ol>
</div>


	<script type="text/javascript">
		var number_of_voteboxes = "";
	</script>


<div class="row first-row">
	<div class="col-lg-8 col-md-8">
		<div class="prob" style="position: relative">

			<!-- google_ad_section_start -->
			<!-- plik z pomoca kontekstowa (cxhelp_*) dziedziczony po pindex.html -->



<script type="text/javascript" src="/gfx/jscripts/tiny_mce/plugins/asciimath/js/ASCIIMathMLwFallback.js"></script>
<!--script type="text/javascript" src="/gfx/jscripts/tiny_mce/plugins/asciisvg/js/ASCIIsvgPI.js"></script-->
<script type="text/javascript">
<!--
var AScgiloc = 'http://www.imathas.com/imathas/filter/graph/svgimg.php';
var AMTcgiloc = "/files/gif/";
-->
</script>


<div class="text-center"><center>
	<div class="aProblemTop c728x90"><div class="no_a_info"></div><script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display: inline-block; width: 384px; height: 90px;" data-ad-client="ca-pub-4453360425583535" data-ad-slot="1073332635" data-adsbygoogle-status="done"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:384px;background-color:transparent;"><ins id="aswift_0_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:384px;background-color:transparent;"><iframe width="384" height="90" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;width:384px;height:90px;"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
	</center>
</div>
<br>

<h2 id="problem-name" class="text-center">SWAP_HRD - Swap (Hard - Level 1000)</h2>


<div class="row">
	<div id="problem-tags" class="col-lg-12 text-center">
								 
				
					<a href="/problems/tag/bubble-cup-9-round-2"><span class=" tag-conception-paradigm- tag-link problem-tag" data-tagid="4376">#bubble-cup-9-round-2<span class="fa fa-times manage-tag-ar" style="display: none"></span></span></a>
						</div>
</div>
<br>

<div id="problem-body">
	<p>Let's play with sequence of non negative integer. Given two sequence of&nbsp;<strong>n</strong>&nbsp;non negative integers (a<sub>1</sub>,a<sub>2</sub>,...,a<sub>n</sub>) and (b<sub>1</sub>,b<sub>2</sub>,...,b<sub>n</sub>). Both sequence has maximum element less than&nbsp;<strong>k</strong>, max(a<sub>1</sub><sub>,</sub>a<sub>2</sub>,...,a<sub>n</sub>)&lt;<strong>k</strong>&nbsp;and max(b<sub>1</sub>,b<sub>2</sub>,...,b<sub>n</sub>)&lt;<strong>k</strong>. The game rule is you can edit both sequence with this operaton: swap a<sub>i</sub>&nbsp;and b<sub>i</sub>&nbsp;with 1≤<strong>i</strong>≤<strong>n</strong>, and the goal is to make sequence&nbsp;<strong>a</strong>&nbsp;and&nbsp;<strong>b</strong>&nbsp;become increasing sequence: a<sub>i</sub>≤a<sub>j</sub>&nbsp;if and only if&nbsp;<strong>i</strong>≤<strong>j</strong>&nbsp;and b<sub>i</sub>≤b<sub>j</sub>&nbsp;if and only if&nbsp;<strong>i</strong>≤<strong>j</strong>. But not all initial sequence&nbsp;<strong>a</strong>&nbsp;and&nbsp;<strong>b</strong>&nbsp;can be solved.</p>
<p>For example (2,0) and (0,1) is a pair of sequence that can't be solved:</p>
<ul>
<li>If you don't swap any element, you have (2,0) and (0,1), but sequence (2,0) is not increasing.</li>
<li>If you swap first element only, then the pair become like this (0,0) and (2,1), sequence (2,1) is not increasing.</li>
<li>If you swap second element only, then the pair become like this (2,1) and (0,0), again (2,1) is not increasing.</li>
<li>If you swap both element, thrn the pair become like this (0,1) and (2,0), again (2,0) is not increasing</li>
</ul>
<p>So it's impossible to solve if initial sequence is (2,0) and (0,1), because all possible move can't make both sequence become increasing.</p>
<p>Now given <strong>n</strong>&nbsp;and <strong>k</strong>, your task is to compute number of different pair of initial sequence (<strong>a</strong>,<strong>b</strong>) that can be solved with game described above.</p>
<h3>Input</h3>
<p>First line there is an integer <strong>T</strong>&nbsp;denoting number of test case, then <strong>T</strong> test cases follow.</p>
<p>For each case, there are two integers <strong>n</strong>&nbsp;and <strong>k</strong>&nbsp;writen in one line, separated by a space.</p>
<h3>Output</h3>
<p>For each case, output number of different pair of initial sequence (<strong>a</strong>,<strong>b</strong>), since the answer can be large, output the answer modulo 10<sup>9</sup>+7.</p>
<h3>Constraints</h3>
<p>0 &lt; <strong>T</strong> ≤ 10<sup>4</sup></p>
<p>0 &lt; min(<strong>n</strong>, <strong>k</strong>) ≤ 1000</p>
<p>0 &lt; max(<strong>n</strong>, <strong>k</strong>) &lt; 10<sup>1000</sup></p>
<h3>Example</h3>
<pre><strong>Input:</strong>
6
2 1
1 2
1 3
2 2
3 2
2 3</pre>

<pre><strong>Output:</strong>
1
4
9
11
26
46</pre>
<h3>Explanation</h3>
<p style="text-align: left;">Here is list of all possible pair of initial sequence (<strong>a</strong>,<strong>b</strong>) on each case:</p>
<p style="text-align: left;">Case 1: {<span style="text-decoration: underline;">[(0,0),(0,0)]</span>}</p>
<p style="text-align: left;">Case 2: {<span style="text-decoration: underline;">[(0),(0)]</span>,<span style="text-decoration: underline;">[(0),(1)]</span>,<span style="text-decoration: underline;">[(1),(0)]</span>,<span style="text-decoration: underline;">[(1),(1)]</span>}</p>
<p style="text-align: left;">Case 3: {<span style="text-decoration: underline;">[(0),(0)]</span>,<span style="text-decoration: underline;">[(0),(1)]</span>,<span style="text-decoration: underline;">[(0),(2)]</span>,<span style="text-decoration: underline;">[(1),(0)]</span>,<span style="text-decoration: underline;">[(1),(1)]</span>,<span style="text-decoration: underline;">[(1),(2)]</span>,<span style="text-decoration: underline;">[(2),(0)]</span>,<span style="text-decoration: underline;">[(2),(1)]</span>,<span style="text-decoration: underline;">[(2),(2)]</span>}</p>
<p style="text-align: left;">Case 4: {<span style="text-decoration: underline;">[(0,0),(0,0)]</span>,<span style="text-decoration: underline;">[(0,0),(0,1)]</span>,<span style="text-decoration: underline;">[(0,0),(1,1)]</span>,<span style="text-decoration: underline;">[(0,1),(0,0)]</span>,<span style="text-decoration: underline;">[(0,1),(0,1)]</span>,<span style="text-decoration: underline;">[(0,1),(1,0)]</span>,<span style="text-decoration: underline;">[(0,1),(1,1)]</span>,<span style="text-decoration: underline;">[(1,0),(0,1)]</span>,<span style="text-decoration: underline;">[(1,1),(0,0)]</span>,<span style="text-decoration: underline;">[(1,1),(0,1)]</span>,<span style="text-decoration: underline;">[(1,1),(1,1)]</span>}</p>
<p style="text-align: left;">Case 5: {<span style="text-decoration: underline;">[(0,0,0),(0,0,0)]</span>,<span style="text-decoration: underline;">[(0,0,0),(0,0,1)]</span>,<span style="text-decoration: underline;">[(0,0,0),(0,1,1)]</span>,<span style="text-decoration: underline;">[(0,0,0),(1,1,1)]</span>,<span style="text-decoration: underline;">[(0,0,1),(0,0,0)]</span>,<span style="text-decoration: underline;">[(0,0,1),(0,0,1)]</span>,<span style="text-decoration: underline;">[(0,0,1),(0,1,0)]</span>,<span style="text-decoration: underline;">[(0,0,1),(0,1,1)]</span>,<span style="text-decoration: underline;">[(0,0,1),(1,1,0)]</span>,<span style="text-decoration: underline;">[(0,0,1),(1,1,1)]</span>,<span style="text-decoration: underline;">[(0,1,0),(0,0,1)]</span>,<span style="text-decoration: underline;">[(0,1,0),(1,0,1)]</span>,<span style="text-decoration: underline;">[(0,1,1),(0,0,0)]</span>,<span style="text-decoration: underline;">[(0,1,1),(0,0,1)]</span>,<span style="text-decoration: underline;">[(0,1,1),(0,1,1)]</span>,<span style="text-decoration: underline;">[(0,1,1),(1,0,0)]</span>,<span style="text-decoration: underline;">[(0,1,1),(1,0,1)]</span>,<span style="text-decoration: underline;">[(0,1,1),(1,1,1)]</span>,<span style="text-decoration: underline;">[(1,0,0),(0,1,1)]</span>,<span style="text-decoration: underline;">[(1,0,1),(0,1,0)]</span>,<span style="text-decoration: underline;">[(1,0,1),(0,1,1)]</span>,<span style="text-decoration: underline;">[(1,1,0),(0,0,1)]</span>,<span style="text-decoration: underline;">[(1,1,1),(0,0,0)]</span>,<span style="text-decoration: underline;">[(1,1,1),(0,0,1)]</span>,<span style="text-decoration: underline;">[(1,1,1),(0,1,1)]</span>,<span style="text-decoration: underline;">[(1,1,1),(1,1,1)]</span>}</p>
<p style="text-align: left;">Case 6: {<span style="text-decoration: underline;">[(0,0),(0,0)]</span>,<span style="text-decoration: underline;">[(0,0),(0,1)]</span>,<span style="text-decoration: underline;">[(0,0),(0,2)]</span>,<span style="text-decoration: underline;">[(0,0),(1,1)]</span>,<span style="text-decoration: underline;">[(0,0),(1,2)]</span>,<span style="text-decoration: underline;">[(0,0),(2,2)]</span>,<span style="text-decoration: underline;">[(0,1),(0,0)]</span>,<span style="text-decoration: underline;">[(0,1),(0,1)]</span>,<span style="text-decoration: underline;">[(0,1),(0,2)]</span>,<span style="text-decoration: underline;">[(0,1),(1,0)]</span>,<span style="text-decoration: underline;">[(0,1),(1,1)]</span>,<span style="text-decoration: underline;">[(0,1),(1,2)]</span>,<span style="text-decoration: underline;">[(0,1),(2,2)]</span>,<span style="text-decoration: underline;">[(0,2),(0,0)]</span>,<span style="text-decoration: underline;">[(0,2),(0,1)]</span>,<span style="text-decoration: underline;">[(0,2),(0,2)]</span>,<span style="text-decoration: underline;">[(0,2),(1,0)]</span>,<span style="text-decoration: underline;">[(0,2),(1,1)]</span>,<span style="text-decoration: underline;">[(0,2),(1,2)]</span>,<span style="text-decoration: underline;">[(0,2),(2,0)]</span>,<span style="text-decoration: underline;">[(0,2),(2,1)]</span>,<span style="text-decoration: underline;">[(0,2),(2,2)]</span>,<span style="text-decoration: underline;">[(1,0),(0,1)]</span>,<span style="text-decoration: underline;">[(1,0),(0,2)]</span>,<span style="text-decoration: underline;">[(1,1),(0,0)]</span>,<span style="text-decoration: underline;">[(1,1),(0,1)]</span>,<span style="text-decoration: underline;">[(1,1),(0,2)]</span>,<span style="text-decoration: underline;">[(1,1),(1,1)]</span>,<span style="text-decoration: underline;">[(1,1),(1,2)]</span>,<span style="text-decoration: underline;">[(1,1),(2,2)]</span>,<span style="text-decoration: underline;">[(1,2),(0,0)]</span>,<span style="text-decoration: underline;">[(1,2),(0,1)]</span>,<span style="text-decoration: underline;">[(1,2),(0,2)]</span>,<span style="text-decoration: underline;">[(1,2),(1,1)]</span>,<span style="text-decoration: underline;">[(1,2),(1,2)]</span>,<span style="text-decoration: underline;">[(1,2),(2,1)]</span>,<span style="text-decoration: underline;">[(1,2),(2,2)]</span>,<span style="text-decoration: underline;">[(2,0),(0,2)]</span>,<span style="text-decoration: underline;">[(2,1),(0,2)]</span>,<span style="text-decoration: underline;">[(2,1),(1,2)]</span>,<span style="text-decoration: underline;">[(2,2),(0,0)]</span>,<span style="text-decoration: underline;">[(2,2),(0,1)]</span>,<span style="text-decoration: underline;">[(2,2),(0,2)]</span>,<span style="text-decoration: underline;">[(2,2),(1,1)]</span>,<span style="text-decoration: underline;">[(2,2),(1,2)]</span>,<span style="text-decoration: underline;">[(2,2),(2,2)]</span>}</p>
<h3>Other Info</h3>
<p>Test case (<strong>n</strong>&nbsp;and&nbsp;<strong>k</strong>) is generated randomly using this rule:</p>
<ul>
<li>Probability that&nbsp;<strong>n</strong>&gt;<strong>k</strong>&nbsp;or&nbsp;<strong>n</strong>&lt;=<strong>k</strong>&nbsp;is ~50% each.</li>
<li>Maximum&nbsp;<strong>n</strong>&nbsp;and&nbsp;<strong>k</strong>&nbsp;is random log-uniform.</li>
<li>Minimum&nbsp;<strong>n</strong>&nbsp;and&nbsp;<strong>k</strong>&nbsp;is random uniform.</li>
</ul>
<p><a title="My Submission Info" href="http://1.bp.blogspot.com/-XtiRoatvaso/Uca3R9gGfOI/AAAAAAAAAWU/Y_y4bpZUxrI/s1600/SWAP_HRD.png" target="_blank">Click here if you want to know my program speed and other detail.</a></p>
<p>Explanation about my Algorithm complexity:</p>
<blockquote>
<p>My 3.8KB of C code with O(min(<strong>n</strong>,<strong>k</strong>)^3) complexity got AC in 32.17s.</p>
<p>Other sumbission like O(min(<strong>n</strong>,<strong>k</strong>)^4) in fast language, and O(min(<strong>n</strong>,<strong>k</strong>)^3) in slow language is all TLE. That's why this problem has "Hard" label.</p>
</blockquote>
<p>Sorry for slow language user, I think it's impossible to solve this problem unless O(min(<strong>n</strong>,<strong>k</strong>)^2) exists. I recommend to try <a title="SWAP_MED" href="../SWAP_MED/" target="_blank">Medium version</a>&nbsp;first, or learn fast language :-P</p>
<p>About complexity, I've proved using math that no algo with complexity better than O(min(<strong>n</strong>,<strong>k</strong>)^2), this is the lower bound. My best algo for now is O(min(<strong>n</strong>,<strong>k</strong>)^3), this is the upper bound. So the optimal algo lies between that lower and upper bound. I still don't have proof that my algo is optimal, so there is possibility that there is an algorithm that better than O(min(<strong>n</strong>,<strong>k</strong>)^3).</p>
<p>Btw, if I found around O(min(<strong>n</strong>,<strong>k</strong>)^2) by myself, I'll set "Extreme" version (level 10000+) of this problem. But if there is someone who solve this problem in around O(min(<strong>n</strong>,<strong>k</strong>)^2), of course he/she has honor to set "Extreme" version of this problem.</p>
<p><em>Time limit ~3× my program top speed.</em></p>
<hr>
<p><strong>See also:</strong> <a title="TJANDRA" href="../TJANDRA/" target="_blank">Another problem added by Tjandra Satria Gunawan</a></p>
</div>

<div class="text-center">
	<a href="/submit/SWAP_HRD/" class="btn btn-primary btn-lg"><i class="fa fa-send"></i> Submit solution!</a>
</div>
			<!-- google_ad_section_end -->
			
			<div id="ccontent">
			<!-- google_ad_section_start -->
			
<hr style="clear:both;">
<a href="#" onclick="toggleComments(); return false;"><span id="comments_sh">hide</span> comments</a><br>

<a id="comments"></a>
<table id="comments_table" width="100%">
		<tbody><tr>
		<td colspan="2">
				</td>
	</tr>
	<tr>
		<td colspan="2">
				</td>
	</tr>
	
	<script language="JavaScript">
	<!--
	$(document).ready(function(){
        $('.pager_link').bind('click', function(me){
                var href=$(me.currentTarget).attr('href');
		$('#ccontent').animate({opacity: 0.5},1);
                $.ajax({
                        type: "GET",
                        url: href+",ajax=1",
                        contentType: "application/x-www-form-urlencoded;charset=ISO-8859-2",
                        success: function(data){
                                $('#ccontent').html(data);
				$('#ccontent').animate({opacity: 1.0},1);
                        },
                        error: function(err){
                                alert('error');
                        }
                });
                return false;
        });
	});
	-->
	</script>
	



			
	<tr>
		<td width="50" style="vertical-align:top;">
			<img src="http://www.gravatar.com/avatar/c1be407e0038ca160cc33fd76d1821bf?s=40&amp;20150116">
		</td>
		<td class="comm comm_odd">
			<a href="/users/min_25">Min_25</a>: 
								<span style="font-size: 10px; color: #666;">2018-05-06 07:36:05</span>
		<br>
				<p>@Blue.Mary
<br>Except for the cases where n ≡ -1 (mod 10^9 + 7) with small K, which are fortunately not included,  my solution can indeed solve the problem in O(min{N + log K, K + log(N)}) time without any initialization or pre-computation. So, my solution works even if min{N, K} &lt;= 10^7 except for the above cases.</p>
				<b>Last edit: 2018-05-06 08:09:18</b>
						</td>
	</tr>
				
	<tr>
		<td width="50" style="vertical-align:top;">
			<img src="http://www.gravatar.com/avatar/3134b978e2e50d5919e1380feda96447?s=40&amp;20150116">
		</td>
		<td class="comm comm_even">
			<a href="/users/xilinx">[Rampage] Blue.Mary</a>: 
								<span style="font-size: 10px; color: #666;">2018-05-06 06:26:02</span>
		<br>
				<p>For time complexity, Min_25 and the problem author doesn't talk about the same thing, which may confuse the other problems solvers. The problem author actually means "the time complexity of initialization", while min_25 actually means "the time complexity to solve all test cases AFTER initialization". Nevertheless, the initialization can actually be done offline (and use carefully prepared constant table in program), so the super long time limit is NOT necessary.
<br>
<br>For other problem solvers' information, my program (which doesn't use constant table in program) uses about 21.4 sec to initialize, and solves all test cases in about 0.4 sec.
<br>
<br>(If min_25's last comment is correct, then the note in problem description should be completely deleted. It's very misleading.)</p>
				<b>Last edit: 2018-05-07 05:42:05</b>
						</td>
	</tr>
				
	<tr>
		<td width="50" style="vertical-align:top;">
			<img src="http://www.gravatar.com/avatar/c1be407e0038ca160cc33fd76d1821bf?s=40&amp;20150116">
		</td>
		<td class="comm comm_odd">
			<a href="/users/min_25">Min_25</a>: 
								<span style="font-size: 10px; color: #666;">2016-05-02 07:17:20</span>
		<br>
				<p>Now, I have an O(T * min(N + log(K), K + log(N)) solution. ;-)</p>
						</td>
	</tr>
				
	<tr>
		<td width="50" style="vertical-align:top;">
			<img src="http://www.gravatar.com/avatar/cf5627b087f980009e81e311d3845c0e?s=40&amp;20150116">
		</td>
		<td class="comm comm_even">
			<a href="/users/tjandra">(Tjandra Satria Gunawan)(æ›¾æ¯…æ˜†)</a>: 
								<span style="font-size: 10px; color: #666;">2014-05-27 18:47:29</span>
		<br>
				<p>@<a href="http://www.spoj.com/users/min_25" target="_blank">Min_25</a>: Thanks and congratulations, your program running time is the fastest and your code is easy to read (thanks for the comment on your code).
<br>I hope many users can enjoy this problem. Although it's not 100% my problem.</p>
						</td>
	</tr>
				
	<tr>
		<td width="50" style="vertical-align:top;">
			<img src="http://www.gravatar.com/avatar/c1be407e0038ca160cc33fd76d1821bf?s=40&amp;20150116">
		</td>
		<td class="comm comm_odd">
			<a href="/users/min_25">Min_25</a>: 
								<span style="font-size: 10px; color: #666;">2014-05-26 16:43:04</span>
		<br>
				<p>Very beautiful problem.
<br>Many famous sequences appeared.
<br>
<br>EDIT:
<br>My Python code got AC ! :)</p>
				<b>Last edit: 2014-05-28 08:30:25</b>
						</td>
	</tr>
				
	<tr>
		<td width="50" style="vertical-align:top;">
			<img src="http://www.gravatar.com/avatar/cf5627b087f980009e81e311d3845c0e?s=40&amp;20150116">
		</td>
		<td class="comm comm_even">
			<a href="/users/tjandra">(Tjandra Satria Gunawan)(æ›¾æ¯…æ˜†)</a>: 
								<span style="font-size: 10px; color: #666;">2013-06-24 01:54:47</span>
		<br>
				<p>Congratulations to <a href="http://www.spoj.com/users/gerrob/" target="_blank">Robert Gerbicz</a> who solve this hard problem less than one day.
<br>----
<br>(for comparsion, I need about 10 days to build O(min(n,k)^4) + 4 days to build O(min(n,k)^3))..</p>
						</td>
	</tr>
				
	<tr>
		<td width="50" style="vertical-align:top;">
			<img src="http://www.gravatar.com/avatar/cf5627b087f980009e81e311d3845c0e?s=40&amp;20150116">
		</td>
		<td class="comm comm_odd">
			<a href="/users/tjandra">(Tjandra Satria Gunawan)(æ›¾æ¯…æ˜†)</a>: 
								<span style="font-size: 10px; color: #666;">2013-06-23 13:51:45</span>
		<br>
				<p>in my opinion this is the hardest problem I ever publish on SPOJ (Because need deep knowledge about linear algebra, algebraic structure, number theory, and other high level math knowledge to build O(min(n,k)^3) solution). Need exactly 2 weeks to prepare everything until I publish it on SPOJ.</p>
						</td>
	</tr>
			
</tbody></table>


<script language="javascript" type="text/javascript">
<!--
function getCookieVal (offset) {
        var endstr = document.cookie.indexOf (";", offset);
        if (endstr == -1) { 
                endstr = document.cookie.length; 
        }
        return unescape(document.cookie.substring(offset, endstr));
}

function GetCookie (name) {
  var arg = name + "=";
  var alen = arg.length;
  var clen = document.cookie.length;
  var i = 0;
  while (i < clen) {
    var j = i + alen;
    if (document.cookie.substring(i, j) == arg) {
      return getCookieVal (j);
      }
    i = document.cookie.indexOf(" ", i) + 1;
    if (i == 0) break; 
    }
  return null;
}

function toggleComments() {
        var a = document.getElementById('comments_table');
        var d = a.style.display;
        if( d == "" || d == "block" ){
                d = "none";
                document.getElementById('comments_sh').innerHTML = 'show';
        } else {
                d = "block";
                document.getElementById('comments_sh').innerHTML = 'hide';
        }
        a.style.display = d;
        document.cookie="comments_table="+d+"; path=/;";
}

if( GetCookie('comments_table') == 'none' ){
        document.getElementById('comments_sh').innerHTML = 'show';
        document.getElementById('comments_table').style.display = 'hide';
}

-->
</script>


			<!-- google_ad_section_end -->
			</div>
			<table width="100%">
        </table>
<br>
		</div>
	</div><!-- endof col-lg-8 col-md-8 -->
	
	<div class="col-lg-4 col-md-4">
	
				<div id="problem-btn-submit-box">
			<a href="/submit/SWAP_HRD/" id="problem-btn-submit" class="btn btn-primary" style="width: 100%; margin-bottom: 20px;"><i class="fa fa-send"></i> Submit solution!</a>
		</div>
				
		<table border="0" cellspacing="0" cellpadding="0" style="margin-bottom:10px" class="probleminfo" id="problem-meta">
			<colgroup>
				<col width="120">
				<col>
			</colgroup>
			<tbody>
			<tr><td>Added by:</td><td><a href="/users/tjandra">Tjandra Satria Gunawan</a></td></tr>
			<tr><td>Date:</td><td>2013-06-23</td></tr>
			<tr><td>Time limit:</td><td>100s
			</td></tr>
			<tr><td>Source limit:</td><td>50000B</td></tr>
						<tr><td>Memory limit:</td><td>1536MB</td></tr>
										<tr>
					<td>Cluster:</td>
					<td>
													<a href="/clusters/" target="_blank">Cube (Intel G860)</a>
								
					</td>
				</tr>
						<tr><td>Languages:</td><td>All except: ASM64 </td></tr>
			<tr><td>Resource:</td><td>Modified <a href="http://www.spoj.com/problems/TOKI1493/" target="_blank">Swap (Original)</a> problem</td></tr>													</tbody>
		</table>

		<div class="right-box-hehe">
			<script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- spoj_problem_336x280_right2 -->
<ins class="adsbygoogle" style="display: inline-block; width: 336px; height: 0px;" data-ad-client="ca-pub-4453360425583535" data-ad-slot="3836605032" data-adsbygoogle-status="done"><ins id="aswift_1_expand" style="display: inline-table; border: none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 336px; background-color: transparent;"><ins id="aswift_1_anchor" style="display: block; border: none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 336px; background-color: transparent; overflow: hidden; opacity: 0;"><iframe width="336" height="280" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;width:336px;height:280px;"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	
		<!-- BEGIN: Voting for problem -->
		
				
		<!-- END: Voting the problem -->
		
		<div class="right-box-hehe">
							<div class="c336x280" style="height: 0px;"><script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- spoj_problem_336x280_right -->
	<ins class="adsbygoogle" style="display: inline-block; width: 336px; height: 0px;" data-ad-client="ca-pub-4453360425583535" data-ad-slot="7873511834" data-adsbygoogle-status="done"><ins id="aswift_2_expand" style="display: inline-table; border: none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 336px; background-color: transparent;"><ins id="aswift_2_anchor" style="display: block; border: none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 336px; background-color: transparent; overflow: hidden; opacity: 0;"><iframe width="336" height="280" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_2" name="aswift_2" style="left:0;position:absolute;top:0;width:336px;height:280px;"></iframe></ins></ins></ins>
							<script>
							(adsbygoogle = window.adsbygoogle || []).push({});
	</script></div>
						<br>
		</div>
		
				
		
		<script type="text/javascript">
			function callback_after_vote(type, data)
			{
				var response = $.parseJSON(data);
				manage_vote_interface(type);
				//.html('<div class="vote-thank-you">Thank you!</div>');
				

				if (type == "problem" || type == "implementation") {
					var progressBarValue = Math.round(2 + 98 * response.avg / 3);
					var progressBarType;
					if (progressBarValue < 25) progressBarType = "progress-bar-primary";
					else if (progressBarValue < 50) progressBarType = "progress-bar-success";
					else if (progressBarValue < 75) progressBarType = "progress-bar-warning";
					else progressBarType = "progress-bar-danger";
					
					$("#rate-" + type + "-box .progress-bar").css("width", progressBarValue.toString() +"%");
					$("#rate-" + type + "-box .progress-bar").attr("aria-valuenow", progressBarValue.toString());
					$("#rate-" + type + "-box .progress-bar").attr("class", "progress-bar " + progressBarType);
					$("#rate-" + type + "-box .progress-value").html(progressBarValue.toString() +"%");
				}
				else if (type == "quality") {
					var quality_plus = response.sum_plus;
					var quality_minus = response.sum_minus;

					var box_content = '';

					if (quality_plus > 0 || quality_minus > 0) {
						if (quality_plus > 0) {
							box_content += '<font size="+2"><span class="label label-success">' +
								quality_plus.toString() + 
								' <span class="fa fa-thumbs-o-up"></span></span></font>';
						}
						if (quality_minus > 0) {
							box_content += '<font size="+2"><span class="label label-danger">' +
								quality_minus.toString() + 
								' <span class="fa fa-thumbs-o-down"></span></span></font>';
						}
					}

					$( "#rate-" + type + "-box" ).empty().html(box_content);
				}

				// update count
				if (response.update_count == 1) {
					var count = parseInt($("#votes_count").html(), 10);
					count++;
					var votes_word = " vote";
					if (count > 1) votes_word += "s";
					$("#votes_count").empty().html(count.toString() + votes_word);
				}
			}
			$( ".rate-btn" ).click(function() {
				var rate_type = $(this).attr('data-rate-type').toString();
				var rate_type_full = "";
				var rate = $(this).attr('data-rate').toString();
				if (rate_type == "p") rate_type_full = "problem";
				else if (rate_type == "i") rate_type_full = "implementation";
				else if (rate_type == "q") rate_type_full = "quality";
				$.get( '/?a=vote&pid=15250&t=' + rate_type + '&r=' + rate, function( data ) {
				  callback_after_vote(rate_type_full, data);
				});
			});
			function manage_vote_interface(type) {
				number_of_voteboxes--;
				/*
				if (number_of_voteboxes == 0) {
					$( "#vote-box" ).fadeOut(1500, function() {
						$(this).remove();
					});
				} else {
					$( "#vote-" + type + "-box" ).fadeOut(1500, function() {
						$(this).remove();
					});
				}
				*/
				var n = $('.vote-thank-you').length;
				var offset = (n * 60).toString() + "px";
				$(document.body).append(
					'<div class="vote-thank-you" style="margin: 40%;">' +
					'<div class="alert alert-success" style="position: fixed; top: '+offset+';">' +
					'<strong>Thank you for voting!</strong>' +				
					'</div></div>');
				setTimeout(function(){$( ".vote-thank-you" ).fadeOut(1500, function() {
					$(this).remove();
				});},2000);
			}
		</script>
		
		
	</div><!-- endof col-lg-4 col-md-4 -->
</div>






<style>
ul.list-unstyled li{
	margin-bottom: 5px;
}
ul.list-unstyled li a.btn{
	width: 100%;
}
ul.ui-autocomplete{
	z-index: 10000;
	width: 200px !important;
}
</style>
	<br>
</div>
		
		
		<div class="container" id="footer">
			<div class="row">
				<div class="col-md-2">
					
				</div>
				<div class="col-md-8 text-center">
					<a href="/info">About</a> | <a href="/tutorials">Tutorial</a> | <a href="/tools">Tools</a> | <a href="/clusters">Clusters</a> | <a href="/credits">Credits</a> | <a href="/jobs">Jobs</a> | <a href="/sphereengine">API</a> | <a href="/gfx/spoj-terms.pdf" target="_blank">Terms</a>
				</div>
				<div class="col-md-2 text-right">
					<a href="/rss/"><img src="//stx1.spoj.com/gfx/rss10x10.gif" border="0">&nbsp;RSS</a>&nbsp;
				</div>
			</div>
		</div>
		
		<div class="text-center" id="footer-srl">
			
	© Spoj.com. All Rights Reserved. Spoj uses <a href="http://sphere-engine.com?utm_campaign=permanent&amp;utm_medium=footer&amp;utm_source=spoj" style="color:black">Sphere Engine</a>™ © by <a href="http://sphere-research.com?utm_campaign=permanent&amp;utm_medium=footer&amp;utm_source=spoj" style="color:black">Sphere Research Labs</a>.

		</div> 
	</div>

	<!-- JavaScripts -->
	
		
	
	<script type="text/javascript">
	$(function(){
		setTimeout(function(){
			$('.no_a_info').css('visibility', 'visible');
		}, 5000);
		
		if(!$('.aProblemTop').length && !$('.aProblemsTop').length && !$('.aSubmitTop').length && !$('.aStatusTop').length && !$('.aMainRight').length){
			ga('send', 'event', 'ads', 'no-ads', 'main-contest');
		}
		if ($('.aProblemTop').height() == 0){
			$('.aProblemTop').css({'border': '1px solid #ddd', 'background': '#f0f4e3', 'height': 90});
			$('.aProblemTop').html($('<p class="text-center">using adblock?</p><h4 class="text-center">Online ads help us to maintain site.</h4><p class="text-center"><strong>please whitelist *.spoj.com</strong></p>'));
			ga('send', 'event', 'ads', 'adblock2', 'aProblemTop');
		}
		if ($('.aProblemsTop').height() == 0){
			ga('send', 'event', 'ads', 'adblock2', 'aProblemsTop');
		}
		if ($('.aSubmitTop').height() == 0){
			ga('send', 'event', 'ads', 'adblock2', 'aSubmitTop');
		}
		if ($('.aStatusTop').height() == 0){
			ga('send', 'event', 'ads', 'adblock2', 'aStatusTop');
		}
		if ($('.aMainRight').height() == 0){
			ga('send', 'event', 'ads', 'adblock2', 'aMainRight');
		}
	});
	</script>
	
	
	<script type="text/javascript" src="//stx1.spoj.com/gfx/jquery.timers.js"></script>
	<script type="text/javascript" src="//stx1.spoj.com/gfx/jquery.cookie.js"></script>
	
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

	<script src="//stx1.spoj.com/gfx/md5.js"></script>
	<script src="//stx1.spoj.com/gfx/bootstrap-tour/build/js/bootstrap-tour.min.js"></script>
	<script src="//stx1.spoj.com/gfx/scripts/tour.js"></script>
	
	
	<div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="fb_xdm_frame_http" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" allow="encrypted-media" id="fb_xdm_frame_http" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" src="http://staticxx.facebook.com/connect/xd_arbiter/r/RQ7NiRXMcYA.js?version=42#channel=f1902bcf7c&amp;origin=http%3A%2F%2Fwww.spoj.com" style="border: none;"></iframe><iframe name="fb_xdm_frame_https" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" allow="encrypted-media" id="fb_xdm_frame_https" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" src="https://staticxx.facebook.com/connect/xd_arbiter/r/RQ7NiRXMcYA.js?version=42#channel=f1902bcf7c&amp;origin=http%3A%2F%2Fwww.spoj.com" style="border: none;"></iframe></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div></div></div></div>
	<script>(function(d, s, id) {
	  var js, fjs = d.getElementsByTagName(s)[0];
	  if (d.getElementById(id)) return;
	  js = d.createElement(s); js.id = id;
	  js.src = "//connect.facebook.net/pl_PL/sdk.js#xfbml=1&appId=321676846207&version=v2.0";
	  fjs.parentNode.insertBefore(js, fjs);
	}(document, 'script', 'facebook-jssdk'));</script><iframe id="google_osd_static_frame_3231515386141" name="google_osd_static_frame" style="display: none; width: 0px; height: 0px;"></iframe>
	
	


<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	  ga('create', 'UA-10507872-1', 'auto');
	  ga('require', 'linkid', 'linkid.js');
	  ga('send', 'pageview');
	</script>
<!-- Hotjar Tracking Code for http://www.spoj.com -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:334656,hjsv:5};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'//static.hotjar.com/c/hotjar-','.js?sv=');
</script>
<script type="text/javascript">
	$(function(){
		$(document).on('click', '.track', function(){
			var event = $(this).attr('data-event');
			var action = $(this).attr('data-action');
			var value = $(this).attr('data-value');
			ga('send', 'event', event, action, value);
		});
	});
	//window.open('http://incoming.hotjar.com/s/7366', '_blank');
	</script>



<iframe name="_hjRemoteVarsFrame" title="_hjRemoteVarsFrame" id="_hjRemoteVarsFrame" style="display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;" src="https://vars.hotjar.com/rcj-99d43ead6bdf30da8ed5ffcb4f17100c.html"></iframe><div id="ads"></div></body></html>