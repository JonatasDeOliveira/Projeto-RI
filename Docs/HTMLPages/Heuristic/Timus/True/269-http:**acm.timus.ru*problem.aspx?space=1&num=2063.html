<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>2063. Black and White @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=1&amp;num=2063"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=1&amp;num=2063&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=1&amp;num=2063&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style52.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=1&amp;num=2063&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=1&amp;num=2063&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">2063. Black and White</h2><div class="problem_limits">Time limit: 1.0 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">Let’s play a game.
You are given a row of <i>n</i> balls, each ball is either black or white. Their positions in a row are numbered from 1 to <i>n</i>.
You know the total number of balls <i>n</i>, but have no information about the order of their colors. You don’t even know how many white balls are there.</div></div><div class="problem_par"><div class="problem_par_normal">You are allowed to make queries <i>v</i>&nbsp;<i>u</i> (1 ≤ <i>v</i>, <i>u</i> ≤ <i>n</i>). If the ball on position <i>v</i> is black and the ball on position <i>u</i> is white, then these two balls are swapped. Otherwise, nothing happens. Even if the balls are swapped, you don’t get any feedback.</div></div><div class="problem_par"><div class="problem_par_normal">After a number of queries (can be zero) you a required to make a "statement." "Statement" also consists of two positions <i>v</i>, <i>u</i>. Your goal is to choose positions, that contain two balls of the same color.  </div></div><div class="problem_par"><div class="problem_par_normal">In this problem we ask you to print both queries and a "statement", that comes after them.</div></div><div class="problem_par"><div class="problem_par_normal">A single test can contain several games. Furthermore, all tests except the first one contain 99 game descriptions. In the first game <i>n</i> = 2, in the second&nbsp;— <i>n</i> = 3 ... in the last game <i>n</i> = 100.</div></div><div class="problem_par"><div class="problem_par_normal">First test is the same as the sample below.</div></div><div class="problem_par"><div class="problem_par_normal">In all other tests your program must make the right statement at least in <b>80</b> games.</div></div><div class="problem_par"><div class="problem_par_normal">Note, that we do not guarantee that the tests are random.</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">First line contains <i>m</i>&nbsp;— number of games in the test. For every test, except for the first one, <i>m</i>=99.</div></div><div class="problem_par"><div class="problem_par_normal">Remaining lines contain ciphered (except for the first test) order of balls in the row. Thus we guarantee, that the tests are determined beforehand and do not depend on your strategy. Please, do not try to use this data in any way and do not try to decipher it.</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">Output <i>m</i> game descriptions.</div></div><div class="problem_par"><div class="problem_par_normal">One description consists of (<i>k</i>+1) lines, where <i>k</i>&nbsp;— number of queries made by your program.</div></div><div class="problem_par"><div class="problem_par_normal">First <i>k</i> lines should contain the queries in the following format: ?&nbsp;<i>v</i>&nbsp;<i>u</i> (1 ≤ <i>v</i>, <i>u</i> ≤ <i>n</i>, <i>v</i> ≠ <i>u</i>).</div></div><div class="problem_par"><div class="problem_par_normal">The last line should contain the "statement": !&nbsp;<i>v</i>&nbsp;<i>u</i> (1 ≤ <i>v</i>, <i>u</i> ≤ <i>n</i>, <i>v</i> ≠ <i>u</i>).</div></div><div class="problem_par"><div class="problem_par_normal">Total amount of lines (over all games in a test) should not exceed 5 · 10<sup>5</sup>.</div></div><h3 class="problem_subtitle">Sample</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>2
01
101
</pre></td><td><pre>? 1 2
? 2 1
? 1 2
! 2 1
? 1 2
? 3 1
! 1 2
</pre></td></tr></tbody></table><h3 class="problem_subtitle">Notes</h3><div class="problem_par"><div class="problem_par_normal">In the sample test white balls are marked as 0, black ones&nbsp;— as 1. Let’s examine the sample closely.</div></div><div class="problem_par"><div class="problem_par_normal">First game: 01 → 01 → 10 → 01&nbsp;— we did not guess correctly.</div></div><div class="problem_par"><div class="problem_par_normal">Second game: 101 → 011 → 110&nbsp;— we guessed correctly.</div></div><div class="problem_par"><div class="problem_par_normal">In this test we have guessed correctly in one game out of two.</div></div><div class="problem_source"><b>Problem Author: </b>Alexey Danilyuk<br><b>Problem Source: </b>Ural Regional School Programming Contest 2015<br></div></div></div><div><b>Tags: </b><a href="problemset.aspx?space=1&amp;tag=unusual">unusual problem</a> &nbsp;<span class="problem_tags_toggle">(<form method="POST" action="problem.aspx?space=1&amp;num=2063" style="display:inline;" id="ToggleTagsForm"><a href="problem.aspx?space=1&amp;num=2063" onclick="document.getElementById('ToggleTagsForm').submit();return false;"><input type="hidden" name="Action" value="HideTags">hide tags for unsolved problems</a></form>)</span></div><div class="problem_links"><span>Difficulty: 352</span> &nbsp;&nbsp;&nbsp;<a href="print.aspx?space=1&amp;num=2063" target="_blank">Printable version</a> &nbsp;&nbsp;&nbsp;<a href="submit.aspx?space=1&amp;num=2063">Submit solution</a> &nbsp;&nbsp;&nbsp;<a href="forum/?space=1&amp;num=2063">Discussion (1)</a><br><a href="status.aspx?space=1&amp;num=2063">All submissions (3095)</a> &nbsp;&nbsp;&nbsp;<a href="status.aspx?space=1&amp;num=2063&amp;status=accepted">All accepted submissions (468)</a> &nbsp;&nbsp;&nbsp;<a href="rating.aspx?space=1&amp;num=2063">Solutions rating (289)</a></div></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table><img src="https://mc.yandex.ru/metrika/advert.gif" style="position: absolute; visibility: hidden; width: 0px; height: 0px;"></body></html>