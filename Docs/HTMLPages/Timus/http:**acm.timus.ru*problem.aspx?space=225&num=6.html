<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=utf-8"><META NAME="viewport" CONTENT="width=768"><META HTTP-EQUIV="X-UA-Compatible" CONTENT="IE=edge"><TITLE>F. Best of a bad lot @ NEERC 2014, Eastern subregional contest @ Timus Online Judge</TITLE><LINK REL="alternate" HREFLANG="x-default" HREF="/problem.aspx?space=225&amp;num=6"><LINK REL="alternate" HREFLANG="en-us" HREF="/problem.aspx?space=225&amp;num=6&amp;locale=en"><LINK REL="alternate" HREFLANG="ru-ru" HREF="/problem.aspx?space=225&amp;num=6&amp;locale=ru"><LINK REL="stylesheet" TYPE="text/css" HREF="/style52.css"><LINK REL="shortcut icon" TYPE="image/x-icon" HREF="/favicon.ico"></HEAD><BODY><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="body"><TR><TD CLASS="caption"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" CLASS="locale"><A HREF="/problem.aspx?space=225&amp;num=6&amp;locale=en">ENG</A>&nbsp;&nbsp;<A HREF="/problem.aspx?space=225&amp;num=6&amp;locale=ru">RUS</A></TD><TD CLASS="title"><A HREF="/">Timus Online Judge</A></TD><TD WIDTH="130"></TD></TR></TABLE></TD></TR><TR><TD CLASS="panel"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" VALIGN="TOP" ALIGN="CENTER" STYLE="padding-bottom:5px;"><A HREF="/"><IMG BORDER="0" SRC="/images/usu-summer.jpg" HEIGHT="134" WIDTH="106" ALT=""></A></TD><TD VALIGN="TOP" ALIGN="LEFT"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="panel"><TR><TH WIDTH="25%"><DIV>Online Judge</DIV></TH><TH WIDTH="25%"><DIV>Problems</DIV></TH><TH WIDTH="25%"><DIV>Authors</DIV></TH><TH WIDTH="25%"><DIV>Online contests</DIV></TH></TR><TR><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/">About Online Judge</A><BR><A HREF="/help.aspx?topic=faq">Frequently asked questions</A><BR><A HREF="/news.aspx">Site news</A><BR><A HREF="/forum/">Webboard</A><BR><A HREF="/help.aspx?topic=links">Links</A><BR></TD><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/problemset.aspx">Problem set</A><BR><A HREF="/submit.aspx">Submit solution</A><BR><A HREF="/status.aspx">Judge status</A><BR><A HREF="/help.aspx?topic=judge">Guide</A><BR></TD><TD VALIGN="TOP"><A HREF="/register.aspx">Register</A><BR><A HREF="/authedit.aspx">Update your info</A><BR><A HREF="/ranklist.aspx">Authors ranklist</A><BR><FORM ACTION="/search.aspx" METHOD="GET" STYLE="margin-top:0.6em;"><INPUT NAME="Str" SIZE="12" VALUE="" PLACEHOLDER="Author’s name"> <INPUT TYPE="SUBMIT" VALUE="Search"></FORM></TD><TD VALIGN="TOP"><A HREF="/contest.aspx">Current contest</A><BR><A HREF="/schedule.aspx">Scheduled contests</A><BR><A HREF="/archive.aspx">Past contests</A><BR><A HREF="/help.aspx?topic=contest">Rules</A><BR></TD></TR></TABLE></TD></TR></TABLE></TD></TR><TR><TD STYLE="padding-top: 32px; padding-bottom: 20px;"><H2 CLASS="title">NEERC 2014, Eastern subregional contest</H2><DIV STYLE="text-align:center; margin-bottom:1em;"><A HREF="/contest.aspx?id=225">About</A> &nbsp; &nbsp; <A HREF="/problemset.aspx?space=225" CLASS="selectedMenu">Problems</A> &nbsp; &nbsp; <A HREF="/submit.aspx?space=225">Submit solution</A> &nbsp; &nbsp; <A HREF="/status.aspx?space=225">Judge status</A> &nbsp; &nbsp; <A HREF="/monitor.aspx?id=225">Standings</A></DIV><DIV STYLE="margin-bottom:1em;"><DIV STYLE="text-align:center; font-weight:bold;">Contest is over</DIV></DIV><TABLE ALIGN="CENTER" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="800"><DIV CLASS="problem_content"><H2 class="problem_title">F. Best of a bad lot</H2><DIV class="problem_limits">Time limit: 1.0 second<BR>Memory limit: 64 MB<BR></DIV><DIV ID="problem_text"><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">A cruise liner hasn’t moved away from the land even for three miles 
when it became apparent that somebody has drowned one of the stewards 
in the swimming pool. The captain promised to make an&nbsp;investigation 
personally and to throw the villains overboard. 
He is going to find the group of murderers by asking each of 
<i>n</i> passengers two following questions.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal"><ol>
<li> Where were you at the moment of departure?
<li> Who did you see there?
</ol></DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">The captain will make his decision based on contradictions in passengers’ 
testimonies.
For example, if one passenger says that he was in his room, 
and another passenger says that he saw the first one near the swimming pool, 
then one of these two is for sure mixed up with murder. 
However, if passenger A didn’t see some other passenger B at the place, 
where passenger B really was, 
the captain wouldn’t consider it a contradiction, 
because passenger B could have just been unnoticed there.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">The investigation is unlikely to be reliable, because the murderers have agreed 
that their testimonies will have no contradictions between them. 
As for the honest people, they have nothing to hide and will tell only the truth. 
You volunteered to compare the mismatches in the passengers’ answers and 
reveal a group of suspects. Moreover, you want to give out to the captain 
the smallest possible group of passengers. 
If&nbsp;somebody has to become the feeding stuff for sharks today, 
let as few people as possible suffer.</DIV></DIV><H3 CLASS="problem_subtitle">Input</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">The first line contains an integer <i>n</i> that is the number of the passengers
(2 &le; <i>n</i> &le; 400). Next <i>n</i> lines contain the testimonies of each 
of the passengers. The <i>i</i>-th line starts with the place 
where the <i>i</i>-th passenger said he was at the moment of departure
that is a non-empty string up to twenty lowercase Latin letters long.
The place is followed by the list of the passengers the <i>i</i>-th passenger saw there
in the&nbsp;form <i>m</i>&nbsp;<i>n</i><sub>1</sub>&nbsp;<i>n</i><sub>2</sub>&nbsp;…&nbsp;<i>n</i><sub><i>m</i></sub>
(0 &le; <i>m</i> &le; <i>n</i> &minus; 1; 1 &le; <i>n</i><sub><i>j</i></sub> &le; <i>n</i>; <i>n</i><sub><i>j</i></sub> &ne; <i>i</i>; <i>n</i><sub><i>j</i></sub> &lt; <i>n</i><sub><i>j</i>+1</sub>).</DIV></DIV><H3 CLASS="problem_subtitle">Output</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">In the first line output a positive integer that is the number of 
the passengers in the suspect group. In&nbsp;the&nbsp;second line output 
the numbers of these suspects in any order. If the problem has several 
solutions, output any of them. It is guaranteed that at least one solution exists.</DIV></DIV><H3 CLASS="problem_subtitle">Samples</H3><TABLE CLASS="sample"><TR><TH WIDTH="350">input</TH><TH WIDTH="350">output</TH></TR><TR><TD><PRE>3
bar 0
bar 1 1
pool 2 1 2
</PRE></TD><TD><PRE>1
3
</PRE></TD></TR><TR><TD><PRE>3
pool 2 2 3
pool 2 1 3
pool 2 1 2
</PRE></TD><TD><PRE>1
1
</PRE></TD></TR></TABLE><H3 CLASS="problem_subtitle">Notes</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">In the first example it is possible that both the first and the second 
passengers are murderers, and the&nbsp;third one tells the truth. 
But it is also possible that the first two tell the truth and the third one is a&nbsp;murderer. 
It is needed to output the second possibility since the group of suspects in it is smaller.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">In the second example all passengers do not have testimony contradictions, 
so any of them could be a&nbsp;murderer.</DIV></DIV><DIV CLASS="problem_source"><B>Problem Author: </B>Oleg Dolgorukov<BR><B>Problem Source: </B>NEERC 2014, Eastern subregional contest<BR></DIV></DIV></DIV><DIV CLASS="problem_links"><A HREF="print.aspx?space=225&amp;num=6" TARGET="_blank">Printable version</A><BR></DIV>To submit the solution for this problem go to the Problem set: <A HREF="problem.aspx?space=1&amp;num=2017"><nobr>2017. Best of a bad lot</nobr></A></TD></TR></TABLE></TD></TR><TR><TD CLASS="footer"><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""></div></noscript>© 2000–2017 <A HREF="/team.aspx">Timus Online Judge Team</A>. All rights reserved.</TD></TR></TABLE></BODY></HTML>