<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=utf-8"><META NAME="viewport" CONTENT="width=768"><META HTTP-EQUIV="X-UA-Compatible" CONTENT="IE=edge"><TITLE>H. Faryuks @ Open Ural SU Championship 2009 @ Timus Online Judge</TITLE><LINK REL="alternate" HREFLANG="x-default" HREF="/problem.aspx?space=76&amp;num=8"><LINK REL="alternate" HREFLANG="en-us" HREF="/problem.aspx?space=76&amp;num=8&amp;locale=en"><LINK REL="alternate" HREFLANG="ru-ru" HREF="/problem.aspx?space=76&amp;num=8&amp;locale=ru"><LINK REL="stylesheet" TYPE="text/css" HREF="/style52.css"><LINK REL="shortcut icon" TYPE="image/x-icon" HREF="/favicon.ico"></HEAD><BODY><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="body"><TR><TD CLASS="caption"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" CLASS="locale"><A HREF="/problem.aspx?space=76&amp;num=8&amp;locale=en">ENG</A>&nbsp;&nbsp;<A HREF="/problem.aspx?space=76&amp;num=8&amp;locale=ru">RUS</A></TD><TD CLASS="title"><A HREF="/">Timus Online Judge</A></TD><TD WIDTH="130"></TD></TR></TABLE></TD></TR><TR><TD CLASS="panel"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" VALIGN="TOP" ALIGN="CENTER" STYLE="padding-bottom:5px;"><A HREF="/"><IMG BORDER="0" SRC="/images/usu-summer.jpg" HEIGHT="134" WIDTH="106" ALT=""></A></TD><TD VALIGN="TOP" ALIGN="LEFT"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="panel"><TR><TH WIDTH="25%"><DIV>Online Judge</DIV></TH><TH WIDTH="25%"><DIV>Problems</DIV></TH><TH WIDTH="25%"><DIV>Authors</DIV></TH><TH WIDTH="25%"><DIV>Online contests</DIV></TH></TR><TR><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/">About Online Judge</A><BR><A HREF="/help.aspx?topic=faq">Frequently asked questions</A><BR><A HREF="/news.aspx">Site news</A><BR><A HREF="/forum/">Webboard</A><BR><A HREF="/help.aspx?topic=links">Links</A><BR></TD><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/problemset.aspx">Problem set</A><BR><A HREF="/submit.aspx">Submit solution</A><BR><A HREF="/status.aspx">Judge status</A><BR><A HREF="/help.aspx?topic=judge">Guide</A><BR></TD><TD VALIGN="TOP"><A HREF="/register.aspx">Register</A><BR><A HREF="/authedit.aspx">Update your info</A><BR><A HREF="/ranklist.aspx">Authors ranklist</A><BR><FORM ACTION="/search.aspx" METHOD="GET" STYLE="margin-top:0.6em;"><INPUT NAME="Str" SIZE="12" VALUE="" PLACEHOLDER="Author’s name"> <INPUT TYPE="SUBMIT" VALUE="Search"></FORM></TD><TD VALIGN="TOP"><A HREF="/contest.aspx">Current contest</A><BR><A HREF="/schedule.aspx">Scheduled contests</A><BR><A HREF="/archive.aspx">Past contests</A><BR><A HREF="/help.aspx?topic=contest">Rules</A><BR></TD></TR></TABLE></TD></TR></TABLE></TD></TR><TR><TD STYLE="padding-top: 32px; padding-bottom: 20px;"><H2 CLASS="title">Open Ural SU Championship 2009</H2><DIV STYLE="text-align:center; margin-bottom:1em;"><A HREF="/contest.aspx?id=76">About</A> &nbsp; &nbsp; <A HREF="/problemset.aspx?space=76" CLASS="selectedMenu">Problems</A> &nbsp; &nbsp; <A HREF="/submit.aspx?space=76">Submit solution</A> &nbsp; &nbsp; <A HREF="/status.aspx?space=76">Judge status</A> &nbsp; &nbsp; <A HREF="/monitor.aspx?id=76">Standings</A></DIV><DIV STYLE="margin-bottom:1em;"><DIV STYLE="text-align:center; font-weight:bold;">Contest is over</DIV></DIV><TABLE ALIGN="CENTER" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="800"><DIV CLASS="problem_content"><H2 class="problem_title">H. Faryuks</H2><DIV class="problem_limits">Time limit: 1.0 second<BR>Memory limit: 64 MB<BR></DIV><DIV ID="problem_text"><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">You want to make your Christmas table special and that's why you've gotten into
a plantation of faryuks, which is the only one in the world. You want to take
home some of this mysterious fruit. However, it's not that easy to steal
faryuks. The plantation is surrounded by a high fence, and the only way to get
in or out is through the checkpoint. You can bring as many faryuks as you want
to the plantation, but it is strictly forbidden to take them out. This fruit
has a very strong aroma, and the automatic aroma sensor at the checkpoint will
raise an alarm if the aroma of faryuks is detected. Fortunately, you know that
there is an error in the aroma-detecting software. Because of the use of
one-byte variables, it does not raise an alarm if the total aroma strength of
all the faryuks being taken out is an integer divisible by 256.
</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">You have a bottle of scent and a can of deodorant with you. When a faryuk is
sprayed upon with the deodorant, its aroma strength decreases by 25 percent.
When a faryuk is scented, its aroma strength increases by 10 percent. (In both
cases, the aroma strength can become fractional). The amount of each of the
substances you have is enough for treating only one faryuk. A faryuk can be
treated first with one substance and then with the other. The effects of the
deodorant and of the scent are short. After you take a faryuk through the
checkpoint, its aroma strength restores to the initial value.
</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">You've come to the plantation empty-handed and you want to take out the <i>n</i>
faryuks you like most of all. Will you be able to do that?
</DIV></DIV><H3 CLASS="problem_subtitle">Input</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">The first line contains the number <i>n</i> of faryuks you want to take out 
(1 &le; <i>n</i> &le; 12). The second line contains <i>n</i> integers in
the range from 1 to 1000, which are their aroma strengths.
</DIV></DIV><H3 CLASS="problem_subtitle">Output</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">If it is impossible to take out from the plantation all the faryuks
that you want, output “IMPOSSIBLE”.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Otherwise, output in the first line the number of actions necessary for
carrying out your plan. Then output the sequence of actions, one action per
line. If you want to take out from the plantation <i>k</i> &gt; 0 faryuks with the
numbers <i>a</i><sub>1</sub>, …, <i>a</i><sub><i>k</i></sub>, output the line “<code>take <i>k</i> <i>a</i><sub>1</sub> <i>a</i><sub>2</sub> … <i>a</i><sub><i>k</i></sub></code>”.
Similarly, if you want to return to the plantation <i>s</i> &gt; 0 faryuks with the
numbers <i>b</i><sub>1</sub>, …, <i>b</i><sub><i>s</i></sub>, output the line “<code>return <i>s</i> <i>b</i><sub>1</sub> <i>b</i><sub>2</sub> … <i>b</i><sub><i>s</i></sub></code>”.
If you want to spray the deodorant on the faryuk with the number <i>p</i>, output the line
“<code>dearomatize <i>p</i></code>”. If you want to scent the faryuk with the number <i>q</i>,
output the line “<code>aromatize <i>q</i></code>”. The faryuks are numbered from 1 to <i>n</i> in
the order in which they are given in the input.
</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">The number of actions in the sequence can't exceed 20000. If there are
several ways to take out all the faryuks, output any of them such that the number
of exiting the checkpoint with faryuks is minimal.
</DIV></DIV><H3 CLASS="problem_subtitle">Samples</H3><TABLE CLASS="sample"><TR><TH WIDTH="350">input</TH><TH WIDTH="350">output</TH></TR><TR><TD><PRE>3
36 56 200
</PRE></TD><TD><PRE>4
take 2 2 3
return 1 3
aromatize 3
take 2 1 3
</PRE></TD></TR><TR><TD><PRE>1
100
</PRE></TD><TD><PRE>IMPOSSIBLE
</PRE></TD></TR></TABLE><DIV CLASS="problem_source"><B>Problem Author: </B>Alex Samsonov<BR><B>Problem Source: </B>XIV Open USU Championship<BR></DIV></DIV></DIV><DIV CLASS="problem_links"><A HREF="print.aspx?space=76&amp;num=8" TARGET="_blank">Printable version</A><BR></DIV>To submit the solution for this problem go to the Problem set: <A HREF="problem.aspx?space=1&amp;num=1739"><nobr>1739. Faryuks</nobr></A></TD></TR></TABLE></TD></TR><TR><TD CLASS="footer"><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""></div></noscript>© 2000–2017 <A HREF="/team.aspx">Timus Online Judge Team</A>. All rights reserved.</TD></TR></TABLE></BODY></HTML>