<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=768"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>1439. Battle with You-Know-Who @ Timus Online Judge</title><link rel="alternate" hreflang="x-default" href="/problem.aspx?space=1&amp;num=1439"><link rel="alternate" hreflang="en-us" href="/problem.aspx?space=1&amp;num=1439&amp;locale=en"><link rel="alternate" hreflang="ru-ru" href="/problem.aspx?space=1&amp;num=1439&amp;locale=ru"><link rel="stylesheet" type="text/css" href="/style52.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></head><body><table width="100%" cellspacing="0" cellpadding="0" class="body"><tbody><tr><td class="caption"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" class="locale"><a href="/problem.aspx?space=1&amp;num=1439&amp;locale=en">ENG</a>&nbsp;&nbsp;<a href="/problem.aspx?space=1&amp;num=1439&amp;locale=ru">RUS</a></td><td class="title"><a href="/">Timus Online Judge</a></td><td width="130"></td></tr></tbody></table></td></tr><tr><td class="panel"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td width="130" valign="TOP" align="CENTER" style="padding-bottom:5px;"><a href="/"><img border="0" src="/images/usu-summer.jpg" height="134" width="106" alt=""></a></td><td valign="TOP" align="LEFT"><table width="100%" cellspacing="0" cellpadding="0" class="panel"><tbody><tr><th width="25%"><div>Online Judge</div></th><th width="25%"><div>Problems</div></th><th width="25%"><div>Authors</div></th><th width="25%"><div>Online contests</div></th></tr><tr><td valign="TOP" align="LEFT"><a href="/">About Online Judge</a><br><a href="/help.aspx?topic=faq">Frequently asked questions</a><br><a href="/news.aspx">Site news</a><br><a href="/forum/">Webboard</a><br><a href="/help.aspx?topic=links">Links</a><br></td><td valign="TOP" align="LEFT"><a href="/problemset.aspx">Problem set</a><br><a href="/submit.aspx">Submit solution</a><br><a href="/status.aspx">Judge status</a><br><a href="/help.aspx?topic=judge">Guide</a><br></td><td valign="TOP"><a href="/register.aspx">Register</a><br><a href="/authedit.aspx">Update your info</a><br><a href="/ranklist.aspx">Authors ranklist</a><br><form action="/search.aspx" method="GET" style="margin-top:0.6em;"><input name="Str" size="12" value="" placeholder="Author’s name"> <input type="SUBMIT" value="Search"></form></td><td valign="TOP"><a href="/contest.aspx">Current contest</a><br><a href="/schedule.aspx">Scheduled contests</a><br><a href="/archive.aspx">Past contests</a><br><a href="/help.aspx?topic=contest">Rules</a><br></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td style="padding-top: 32px; padding-bottom: 20px;"><table align="CENTER" cellspacing="0" cellpadding="0"><tbody><tr><td width="800"><div class="problem_content"><h2 class="problem_title">1439. Battle with You-Know-Who</h2><div class="problem_limits">Time limit: 1.0 second<br>Memory limit: 64 MB<br></div><div id="problem_text"><div class="problem_par"><div class="problem_par_normal">Rooms of the Ministry of Magic are enchanted with a spell which
enumerates them automatically. The spell works as follows. The
first room created at the Ministry got the number 1. When a
new room is created by magic, a number-plate appears at once
upon the door. The new number is greater by one than the maximal
room number existing at the moment. If a room is not needed anymore,
then it is destroyed and all the room numbers that are greater
than the number of the destroyed room are lessened by one. Thus,
the numeration of the rooms at the Ministry always remains continuous.</div></div><div class="problem_par"><div class="problem_par_normal">Harry Potter found out a list of the numbers of the rooms where
Lord Voldemort's Horcruxes are stored (A Horcrux is a magical artifact that provides for the owner's immortality). 
It seems that now it will be easy for Harry to find the Horcruxes
and destroy them. But the task turned out to be more complicated.
Because of his mysterious bond with Harry, Voldemort knew at once
about Harry's discovery, so he transported himself to the Ministry and
started to destroy rooms. This means that numbers of rooms are
changing, so when Harry looks at a room's door, he doesn't know
which number this door had before. But he knows which numbers were on the 
doors of the rooms that were destroyed by Voldemort, due to the
mentioned bond between them.
</div></div><div class="problem_par"><div class="problem_par_normal">Help Harry to defeat Voldemort. You don't have to fight Harry's
enemy, but you can help him to determine the true numbers of rooms
when he looks at their doors.</div></div><h3 class="problem_subtitle">Input</h3><div class="problem_par"><div class="problem_par_normal">The first line contains the number of rooms at the Ministry of
Magic <i>N</i> (1 ≤ <i>N</i> ≤ 10<sup>9</sup>) and a number <i>M</i> (1 ≤ <i>M</i> ≤ 10<sup>5</sup>). Each of the subsequent <i>M</i> lines has the following format:<br>
&lt;letter&gt; &lt;number&gt;<br>
where &lt;letter&gt; is one of the letters 'D' (Destroy) or 'L' (Look at),
and &lt;number&gt; is the number on the door of the room which is
destroyed or at which Harry looks at the moment. It is guaranteed
that not more than 10<sup>4</sup> rooms will be destroyed during the battle.</div></div><h3 class="problem_subtitle">Output</h3><div class="problem_par"><div class="problem_par_normal">The output must contain for each line<br>
L &lt;number&gt;<br>
of the input the true number (which it had before the
battle) of the room at which Harry looks.
The numbers must be given one in a line.</div></div><h3 class="problem_subtitle">Sample</h3><table class="sample"><tbody><tr><th width="350">input</th><th width="350">output</th></tr><tr><td><pre>20 7
L 5
D 5
L 4
L 5
D 5
L 4
L 5
</pre></td><td><pre>5
4
6
4
7
</pre></td></tr></tbody></table><div class="problem_source"><b>Problem Author: </b>Alexander Klepinin, Stanislav Vasilyev<br><b>Problem Source: </b>The Xth Urals Collegiate Programing Championship, March 24-25, 2006<br></div></div></div><div><b>Tags: </b><a href="problemset.aspx?space=1&amp;tag=structure">data structures</a> &nbsp;<span class="problem_tags_toggle">(<form method="POST" action="problem.aspx?space=1&amp;num=1439" style="display:inline;" id="ToggleTagsForm"><a href="problem.aspx?space=1&amp;num=1439" onclick="document.getElementById('ToggleTagsForm').submit();return false;"><input type="hidden" name="Action" value="HideTags">hide tags for unsolved problems</a></form>)</span></div><div class="problem_links"><span>Difficulty: 502</span> &nbsp;&nbsp;&nbsp;<a href="print.aspx?space=1&amp;num=1439" target="_blank">Printable version</a> &nbsp;&nbsp;&nbsp;<a href="submit.aspx?space=1&amp;num=1439">Submit solution</a> &nbsp;&nbsp;&nbsp;<a href="forum/?space=1&amp;num=1439">Discussion (22)</a><br><a href="status.aspx?space=1&amp;num=1439">All submissions (7698)</a> &nbsp;&nbsp;&nbsp;<a href="status.aspx?space=1&amp;num=1439&amp;status=accepted">All accepted submissions (1847)</a> &nbsp;&nbsp;&nbsp;<a href="rating.aspx?space=1&amp;num=1439">Solutions rating (834)</a></div></td></tr></tbody></table></td></tr><tr><td class="footer"><script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""&gt;&lt;/div&gt;</noscript>© 2000–2017 <a href="/team.aspx">Timus Online Judge Team</a>. All rights reserved.</td></tr></tbody></table><img src="https://mc.yandex.ru/metrika/advert.gif" style="position: absolute; visibility: hidden; width: 0px; height: 0px;"></body></html>