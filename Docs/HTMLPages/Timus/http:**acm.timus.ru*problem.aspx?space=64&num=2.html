<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=utf-8"><META NAME="viewport" CONTENT="width=768"><META HTTP-EQUIV="X-UA-Compatible" CONTENT="IE=edge"><TITLE>B. Alchemy @ USU Junior Contest, October 2007 @ Timus Online Judge</TITLE><LINK REL="alternate" HREFLANG="x-default" HREF="/problem.aspx?space=64&amp;num=2"><LINK REL="alternate" HREFLANG="en-us" HREF="/problem.aspx?space=64&amp;num=2&amp;locale=en"><LINK REL="alternate" HREFLANG="ru-ru" HREF="/problem.aspx?space=64&amp;num=2&amp;locale=ru"><LINK REL="stylesheet" TYPE="text/css" HREF="/style52.css"><LINK REL="shortcut icon" TYPE="image/x-icon" HREF="/favicon.ico"></HEAD><BODY><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="body"><TR><TD CLASS="caption"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" CLASS="locale"><A HREF="/problem.aspx?space=64&amp;num=2&amp;locale=en">ENG</A>&nbsp;&nbsp;<A HREF="/problem.aspx?space=64&amp;num=2&amp;locale=ru">RUS</A></TD><TD CLASS="title"><A HREF="/">Timus Online Judge</A></TD><TD WIDTH="130"></TD></TR></TABLE></TD></TR><TR><TD CLASS="panel"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" VALIGN="TOP" ALIGN="CENTER" STYLE="padding-bottom:5px;"><A HREF="/"><IMG BORDER="0" SRC="/images/usu-summer.jpg" HEIGHT="134" WIDTH="106" ALT=""></A></TD><TD VALIGN="TOP" ALIGN="LEFT"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="panel"><TR><TH WIDTH="25%"><DIV>Online Judge</DIV></TH><TH WIDTH="25%"><DIV>Problems</DIV></TH><TH WIDTH="25%"><DIV>Authors</DIV></TH><TH WIDTH="25%"><DIV>Online contests</DIV></TH></TR><TR><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/">About Online Judge</A><BR><A HREF="/help.aspx?topic=faq">Frequently asked questions</A><BR><A HREF="/news.aspx">Site news</A><BR><A HREF="/forum/">Webboard</A><BR><A HREF="/help.aspx?topic=links">Links</A><BR></TD><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/problemset.aspx">Problem set</A><BR><A HREF="/submit.aspx">Submit solution</A><BR><A HREF="/status.aspx">Judge status</A><BR><A HREF="/help.aspx?topic=judge">Guide</A><BR></TD><TD VALIGN="TOP"><A HREF="/register.aspx">Register</A><BR><A HREF="/authedit.aspx">Update your info</A><BR><A HREF="/ranklist.aspx">Authors ranklist</A><BR><FORM ACTION="/search.aspx" METHOD="GET" STYLE="margin-top:0.6em;"><INPUT NAME="Str" SIZE="12" VALUE="" PLACEHOLDER="Author’s name"> <INPUT TYPE="SUBMIT" VALUE="Search"></FORM></TD><TD VALIGN="TOP"><A HREF="/contest.aspx">Current contest</A><BR><A HREF="/schedule.aspx">Scheduled contests</A><BR><A HREF="/archive.aspx">Past contests</A><BR><A HREF="/help.aspx?topic=contest">Rules</A><BR></TD></TR></TABLE></TD></TR></TABLE></TD></TR><TR><TD STYLE="padding-top: 32px; padding-bottom: 20px;"><H2 CLASS="title">USU Junior Contest, October 2007</H2><DIV STYLE="text-align:center; margin-bottom:1em;"><A HREF="/contest.aspx?id=64">About</A> &nbsp; &nbsp; <A HREF="/problemset.aspx?space=64" CLASS="selectedMenu">Problems</A> &nbsp; &nbsp; <A HREF="/submit.aspx?space=64">Submit solution</A> &nbsp; &nbsp; <A HREF="/status.aspx?space=64">Judge status</A> &nbsp; &nbsp; <A HREF="/monitor.aspx?id=64">Standings</A></DIV><DIV STYLE="margin-bottom:1em;"><DIV STYLE="text-align:center; font-weight:bold;">Contest is over</DIV></DIV><TABLE ALIGN="CENTER" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="800"><DIV CLASS="problem_content"><H2 class="problem_title">B. Alchemy</H2><DIV class="problem_limits">Time limit: 1.0 second<BR>Memory limit: 64 MB<BR></DIV><DIV ID="problem_text"><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Lich Sandro recently became an expert in alchemy and is very glad because of it.
Sure enough, because this skill allows to mix simple potions to obtain more complex ones.
Any character (even not skilled in alchemy) is able to make 3 simple potions: red, blue, and yellow. 
A single reagent is sufficient to make any of them, but the same reagent cannot be used to make potions 
of different colors. All reagents can be divided into 3 groups according to this rule: 
yellow (sulphur, unicorn's horn, a poppy boll&hellip;), blue (a piece of a meteor, a fang
of a dragon turtle&hellip;) and red (dragon's eye, ruby, gog's blood&hellip;).</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Every character would like to prepare other potions. In order to achieve that it is
necessary to learn alchemy and to upgrade this skill. A novice alchemist
is able to mix the basic potions: yellow and red, red and blue, or blue and yellow 
to obtain an orange, violet or green potion, respectively. These potions are 
called composite. An expert alchemist is also able to mix basic and 
composite potions without messing up their layers (this may lead to an explosion!).</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Sandro has 3 bags of reagents, and each bag contains reagents of only one color.
There are <i>B</i> blue, <i>R</i> red, and <i>Y</i> yellow reagents. Sandro's 
collection of reagents is extraordinary, since all the reagents are different! 
<i>K</i> reagents of different colors are required to make a potion that makes it posssible to breathe under water. The recipe of this potion is known, and
now Sandro would like to know the number of possible ways to prepare it.</DIV></DIV><H3 CLASS="problem_subtitle">Input</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">The first line contains integers <i>B</i>, <i>R</i>, and <i>Y</i>;
<nobr>1 &le; <i>B</i>, <i>R</i>, <i>Y</i> &le; 100</nobr>. Then the recipe
of the potion is given: the second line contains a positive integer <i>K</i>; the
next <i>K</i> lines contain the colors of the required reagents (&ldquo;Blue&rdquo;, &ldquo;Red&rdquo;, or &ldquo;Yellow&rdquo;).
Each word occurs at most once.</DIV></DIV><H3 CLASS="problem_subtitle">Output</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Output the number of possible ways to choose a set of reagents to make 
the potion (sets differing in one or more reagent are considered different; the
order of reagents in a set doesn't matter).</DIV></DIV><H3 CLASS="problem_subtitle">Sample</H3><TABLE CLASS="sample"><TR><TH WIDTH="350">input</TH><TH WIDTH="350">output</TH></TR><TR><TD><PRE>2 3 5
3
Red
Yellow
Blue
</PRE></TD><TD><PRE>30
</PRE></TD></TR></TABLE><DIV CLASS="problem_source"><B>Problem Author: </B>Alexander Ipatov<BR><B>Problem Source: </B>USU Junior Contest, October 2007<BR></DIV></DIV></DIV><DIV CLASS="problem_links"><A HREF="print.aspx?space=64&amp;num=2" TARGET="_blank">Printable version</A><BR></DIV>To submit the solution for this problem go to the Problem set: <A HREF="problem.aspx?space=1&amp;num=1573"><nobr>1573. Alchemy</nobr></A></TD></TR></TABLE></TD></TR><TR><TD CLASS="footer"><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""></div></noscript>© 2000–2017 <A HREF="/team.aspx">Timus Online Judge Team</A>. All rights reserved.</TD></TR></TABLE></BODY></HTML>