<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=utf-8"><META NAME="viewport" CONTENT="width=768"><META HTTP-EQUIV="X-UA-Compatible" CONTENT="IE=edge"><TITLE>B. Chaos and Order @ Ural Regional School Programming Contest 2012 @ Timus Online Judge</TITLE><LINK REL="alternate" HREFLANG="x-default" HREF="/problem.aspx?space=126&amp;num=2"><LINK REL="alternate" HREFLANG="en-us" HREF="/problem.aspx?space=126&amp;num=2&amp;locale=en"><LINK REL="alternate" HREFLANG="ru-ru" HREF="/problem.aspx?space=126&amp;num=2&amp;locale=ru"><LINK REL="stylesheet" TYPE="text/css" HREF="/style52.css"><LINK REL="shortcut icon" TYPE="image/x-icon" HREF="/favicon.ico"></HEAD><BODY><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="body"><TR><TD CLASS="caption"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" CLASS="locale"><A HREF="/problem.aspx?space=126&amp;num=2&amp;locale=en">ENG</A>&nbsp;&nbsp;<A HREF="/problem.aspx?space=126&amp;num=2&amp;locale=ru">RUS</A></TD><TD CLASS="title"><A HREF="/">Timus Online Judge</A></TD><TD WIDTH="130"></TD></TR></TABLE></TD></TR><TR><TD CLASS="panel"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" VALIGN="TOP" ALIGN="CENTER" STYLE="padding-bottom:5px;"><A HREF="/"><IMG BORDER="0" SRC="/images/usu-summer.jpg" HEIGHT="134" WIDTH="106" ALT=""></A></TD><TD VALIGN="TOP" ALIGN="LEFT"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="panel"><TR><TH WIDTH="25%"><DIV>Online Judge</DIV></TH><TH WIDTH="25%"><DIV>Problems</DIV></TH><TH WIDTH="25%"><DIV>Authors</DIV></TH><TH WIDTH="25%"><DIV>Online contests</DIV></TH></TR><TR><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/">About Online Judge</A><BR><A HREF="/help.aspx?topic=faq">Frequently asked questions</A><BR><A HREF="/news.aspx">Site news</A><BR><A HREF="/forum/">Webboard</A><BR><A HREF="/help.aspx?topic=links">Links</A><BR></TD><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/problemset.aspx">Problem set</A><BR><A HREF="/submit.aspx">Submit solution</A><BR><A HREF="/status.aspx">Judge status</A><BR><A HREF="/help.aspx?topic=judge">Guide</A><BR></TD><TD VALIGN="TOP"><A HREF="/register.aspx">Register</A><BR><A HREF="/authedit.aspx">Update your info</A><BR><A HREF="/ranklist.aspx">Authors ranklist</A><BR><FORM ACTION="/search.aspx" METHOD="GET" STYLE="margin-top:0.6em;"><INPUT NAME="Str" SIZE="12" VALUE="" PLACEHOLDER="Author’s name"> <INPUT TYPE="SUBMIT" VALUE="Search"></FORM></TD><TD VALIGN="TOP"><A HREF="/contest.aspx">Current contest</A><BR><A HREF="/schedule.aspx">Scheduled contests</A><BR><A HREF="/archive.aspx">Past contests</A><BR><A HREF="/help.aspx?topic=contest">Rules</A><BR></TD></TR></TABLE></TD></TR></TABLE></TD></TR><TR><TD STYLE="padding-top: 32px; padding-bottom: 20px;"><H2 CLASS="title">Ural Regional School Programming Contest 2012</H2><DIV STYLE="text-align:center; margin-bottom:1em;"><A HREF="/contest.aspx?id=126">About</A> &nbsp; &nbsp; <A HREF="/problemset.aspx?space=126" CLASS="selectedMenu">Problems</A> &nbsp; &nbsp; <A HREF="/submit.aspx?space=126">Submit solution</A> &nbsp; &nbsp; <A HREF="/status.aspx?space=126">Judge status</A> &nbsp; &nbsp; <A HREF="/monitor.aspx?id=126">Standings</A></DIV><DIV STYLE="margin-bottom:1em;"><DIV STYLE="text-align:center; font-weight:bold;">Contest is over</DIV></DIV><TABLE ALIGN="CENTER" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="800"><DIV CLASS="problem_content"><H2 class="problem_title">B. Chaos and Order</H2><DIV class="problem_limits">Time limit: 2.0 second<BR>Memory limit: 64 MB<BR></DIV><DIV ID="problem_text"><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">The world is in danger! 
Far, far away on the Extreme West there is a temple of Chaos and Order. Each of these two forces could destroy the world if you give one of them a freedom, 
that’s why world's peace depends on subtle balance between them. This balance is supported by Monks of Balance.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Floor of the temple is divided into equal squares, so that it turns into the field <i>n</i> &times; <i>m</i>. 
In each square the Monks of Balance draw one of the <i>k</i> runes to keep the balance. 
Incantation of <i>t</i>-th level is <i>t</i> identical successive runes in the same line, in the same column or in the same diagonal of the field.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Once in a thousand years the Order and the Chaos meet each other on the Earth and agree what should be the balance <i>l</i> in this millennium.
And after one day and two seconds after this meeting the monks must fill the floor of the temple of Chaos and Order in the way that will contain
at least one incantation of (<i>l</i> &minus; 1)-th level (otherwise Chaos will destroy the world) without incantations of <i>l</i>-th level (otherwise the world will be destroyed by Order).</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Please help the monks to find the correct arrangement of runes to save the universe. 
They need the whole day to write runes, that’s why your program must work only for two seconds.</DIV></DIV><H3 CLASS="problem_subtitle">Input</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">There are integers <i>n</i>, <i>m</i>, <i>k</i> and <i>l</i> (1 &le; <i>n</i>, <i>m</i> &le; 100; 1 &le; <i>k</i> &le; 26; 2 &le; <i>l</i> &le; 100) in the only line of input data.</DIV></DIV><H3 CLASS="problem_subtitle">Output</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">If drawing the runes correctly is impossible output &ldquo;NO&rdquo; in the only line. 
Otherwise output &ldquo;YES&rdquo; in the first line and write <i>m</i> characters in each of the next <i>n</i> lines&nbsp;&ndash;– floor, which is filled with runes.
Each rune should be represented by the Latin capital letter; different runes should be represented by different letters, the same runes&nbsp;&mdash; by the same letters.
You are allowed to use only first <i>k</i> letters of Latin alphabet to mark runes.</DIV></DIV><H3 CLASS="problem_subtitle">Samples</H3><TABLE CLASS="sample"><TR><TH WIDTH="350">input</TH><TH WIDTH="350">output</TH></TR><TR><TD><PRE>3 4 4 2
</PRE></TD><TD><PRE>YES
ABCB
CDAD
ABCB
</PRE></TD></TR><TR><TD><PRE>2 2 1 2
</PRE></TD><TD><PRE>NO
</PRE></TD></TR></TABLE><DIV CLASS="problem_source"><B>Problem Author: </B>Grigoriy Nazarov<BR><B>Problem Source: </B>Ural Regional School Programming Contest 2012<BR></DIV></DIV></DIV><DIV CLASS="problem_links"><A HREF="print.aspx?space=126&amp;num=2" TARGET="_blank">Printable version</A><BR></DIV>To submit the solution for this problem go to the Problem set: <A HREF="problem.aspx?space=1&amp;num=1921"><nobr>1921. Chaos and Order</nobr></A></TD></TR></TABLE></TD></TR><TR><TD CLASS="footer"><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""></div></noscript>© 2000–2017 <A HREF="/team.aspx">Timus Online Judge Team</A>. All rights reserved.</TD></TR></TABLE></BODY></HTML>