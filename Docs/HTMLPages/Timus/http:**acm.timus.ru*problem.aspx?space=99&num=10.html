<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=utf-8"><META NAME="viewport" CONTENT="width=768"><META HTTP-EQUIV="X-UA-Compatible" CONTENT="IE=edge"><TITLE>J. Seismic Waves @ Open Ural FU Championship 2011 @ Timus Online Judge</TITLE><LINK REL="alternate" HREFLANG="x-default" HREF="/problem.aspx?space=99&amp;num=10"><LINK REL="alternate" HREFLANG="en-us" HREF="/problem.aspx?space=99&amp;num=10&amp;locale=en"><LINK REL="alternate" HREFLANG="ru-ru" HREF="/problem.aspx?space=99&amp;num=10&amp;locale=ru"><LINK REL="stylesheet" TYPE="text/css" HREF="/style52.css"><LINK REL="shortcut icon" TYPE="image/x-icon" HREF="/favicon.ico"></HEAD><BODY><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="body"><TR><TD CLASS="caption"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" CLASS="locale"><A HREF="/problem.aspx?space=99&amp;num=10&amp;locale=en">ENG</A>&nbsp;&nbsp;<A HREF="/problem.aspx?space=99&amp;num=10&amp;locale=ru">RUS</A></TD><TD CLASS="title"><A HREF="/">Timus Online Judge</A></TD><TD WIDTH="130"></TD></TR></TABLE></TD></TR><TR><TD CLASS="panel"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" VALIGN="TOP" ALIGN="CENTER" STYLE="padding-bottom:5px;"><A HREF="/"><IMG BORDER="0" SRC="/images/usu-summer.jpg" HEIGHT="134" WIDTH="106" ALT=""></A></TD><TD VALIGN="TOP" ALIGN="LEFT"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="panel"><TR><TH WIDTH="25%"><DIV>Online Judge</DIV></TH><TH WIDTH="25%"><DIV>Problems</DIV></TH><TH WIDTH="25%"><DIV>Authors</DIV></TH><TH WIDTH="25%"><DIV>Online contests</DIV></TH></TR><TR><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/">About Online Judge</A><BR><A HREF="/help.aspx?topic=faq">Frequently asked questions</A><BR><A HREF="/news.aspx">Site news</A><BR><A HREF="/forum/">Webboard</A><BR><A HREF="/help.aspx?topic=links">Links</A><BR></TD><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/problemset.aspx">Problem set</A><BR><A HREF="/submit.aspx">Submit solution</A><BR><A HREF="/status.aspx">Judge status</A><BR><A HREF="/help.aspx?topic=judge">Guide</A><BR></TD><TD VALIGN="TOP"><A HREF="/register.aspx">Register</A><BR><A HREF="/authedit.aspx">Update your info</A><BR><A HREF="/ranklist.aspx">Authors ranklist</A><BR><FORM ACTION="/search.aspx" METHOD="GET" STYLE="margin-top:0.6em;"><INPUT NAME="Str" SIZE="12" VALUE="" PLACEHOLDER="Author’s name"> <INPUT TYPE="SUBMIT" VALUE="Search"></FORM></TD><TD VALIGN="TOP"><A HREF="/contest.aspx">Current contest</A><BR><A HREF="/schedule.aspx">Scheduled contests</A><BR><A HREF="/archive.aspx">Past contests</A><BR><A HREF="/help.aspx?topic=contest">Rules</A><BR></TD></TR></TABLE></TD></TR></TABLE></TD></TR><TR><TD STYLE="padding-top: 32px; padding-bottom: 20px;"><H2 CLASS="title">Open Ural FU Championship 2011</H2><DIV STYLE="text-align:center; margin-bottom:1em;"><A HREF="/contest.aspx?id=99">About</A> &nbsp; &nbsp; <A HREF="/problemset.aspx?space=99" CLASS="selectedMenu">Problems</A> &nbsp; &nbsp; <A HREF="/submit.aspx?space=99">Submit solution</A> &nbsp; &nbsp; <A HREF="/status.aspx?space=99">Judge status</A> &nbsp; &nbsp; <A HREF="/monitor.aspx?id=99">Standings</A></DIV><DIV STYLE="margin-bottom:1em;"><DIV STYLE="text-align:center; font-weight:bold;">Contest is over</DIV></DIV><TABLE ALIGN="CENTER" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="800"><DIV CLASS="problem_content"><H2 class="problem_title">J. Seismic Waves</H2><DIV class="problem_limits">Time limit: 1.0 second<BR>Memory limit: 64 MB<BR></DIV><DIV ID="problem_text"><DIV CLASS="problem_par"><DIV CLASS="problem_par_right"><I>In case of fire, exit building before tweeting about it.</I></DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Nobody is surprised nowadays hearing a story about someone writing to a blog or a social network 
about an accident before calling the rescue service. Knowing this attachment to internet technologies, 
the Japanese authorities suggest people to use Twitter to alert their friends and relatives about an earthquake.
Indeed, since the propagation velocity of seismic waves is no more than five kilometers per second,
people who are far enough from the epicenter will be able to read about the earthquake several seconds before 
the wave hits them. These seconds may become crucial for some of them&hellip;</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Each Twitter user has a list of <i> followers</i>. A tweet (message) of a user is seen by all of his followers. 
Each of them can <i> retweet</i> this tweet. As a result, it will become available to all their followers. 
These followers can in turn retweet the retweet, and so on&hellip;
Retweet gets the string &laquo;RT @nick: &raquo; appended to its beginning, where
<i>nick</i> is the name of the user whose tweet (or retweet) is retweeted.
Since the length of a tweet must not exceed 140 symbols, any retweet violating this restriction 
will not be sent.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">The Japanese Fire and Disaster Management Agency wants to test the idea of Twitter alerts 
by conducting an experiment. They have chosen a group of people and want to calculate how
many of them will learn about an earthquake, if only person will be notified of it.</DIV></DIV><H3 CLASS="problem_subtitle">Input</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">The first line contains the number <i>n</i> of Twitter users chosen for the experiment (2 &le; <i>n</i> &le; 100). 
The users are described in the next <i>n</i> lines in the following format: username, the number of followers, 
and the list of their names. The lists of followers can only contain names of other users chosen for the experiment.
The names are distinct nonempty strings of length at most 30, consisting of uppercase and lowercase English letters.
The last line contains a tweet about an earthquake sent by the user whose name is the first in the input.
The tweet is a nonempty string consisting of symbols with ASCII codes in the range
from&nbsp;32 to&nbsp;127; the length of the string is at most 140 symbols.</DIV></DIV><H3 CLASS="problem_subtitle">Output</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">In the first line output the number of users who will learn about the earthquake.
Then output their names in any order, one name per line.</DIV></DIV><H3 CLASS="problem_subtitle">Sample</H3><TABLE CLASS="sample"><TR><TH WIDTH="350">input</TH><TH WIDTH="350">output</TH></TR><TR><TD><PRE>5
Miyako 1 Sae
Yuno 2 Miyako Sae
Nazuna 1 Nori
Sae 1 Yuno
Nori 1 Nazuna
Hidamari is going to collapse!!!
</PRE></TD><TD><PRE>3
Miyako
Sae
Yuno
</PRE></TD></TR></TABLE><DIV CLASS="problem_source"><B>Problem Author: </B>Dmitry Ivankov<BR><B>Problem Source: </B>Open Ural FU Championship 2011<BR></DIV></DIV></DIV><DIV CLASS="problem_links"><A HREF="print.aspx?space=99&amp;num=10" TARGET="_blank">Printable version</A><BR></DIV>To submit the solution for this problem go to the Problem set: <A HREF="problem.aspx?space=1&amp;num=1871"><nobr>1871. Seismic Waves</nobr></A></TD></TR></TABLE></TD></TR><TR><TD CLASS="footer"><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""></div></noscript>© 2000–2017 <A HREF="/team.aspx">Timus Online Judge Team</A>. All rights reserved.</TD></TR></TABLE></BODY></HTML>