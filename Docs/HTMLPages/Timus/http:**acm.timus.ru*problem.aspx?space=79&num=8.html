<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=utf-8"><META NAME="viewport" CONTENT="width=768"><META HTTP-EQUIV="X-UA-Compatible" CONTENT="IE=edge"><TITLE>H. The Party of Ural Champions @ Ural Championship 2010 @ Timus Online Judge</TITLE><LINK REL="alternate" HREFLANG="x-default" HREF="/problem.aspx?space=79&amp;num=8"><LINK REL="alternate" HREFLANG="en-us" HREF="/problem.aspx?space=79&amp;num=8&amp;locale=en"><LINK REL="alternate" HREFLANG="ru-ru" HREF="/problem.aspx?space=79&amp;num=8&amp;locale=ru"><LINK REL="stylesheet" TYPE="text/css" HREF="/style52.css"><LINK REL="shortcut icon" TYPE="image/x-icon" HREF="/favicon.ico"></HEAD><BODY><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="body"><TR><TD CLASS="caption"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" CLASS="locale"><A HREF="/problem.aspx?space=79&amp;num=8&amp;locale=en">ENG</A>&nbsp;&nbsp;<A HREF="/problem.aspx?space=79&amp;num=8&amp;locale=ru">RUS</A></TD><TD CLASS="title"><A HREF="/">Timus Online Judge</A></TD><TD WIDTH="130"></TD></TR></TABLE></TD></TR><TR><TD CLASS="panel"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" VALIGN="TOP" ALIGN="CENTER" STYLE="padding-bottom:5px;"><A HREF="/"><IMG BORDER="0" SRC="/images/usu-summer.jpg" HEIGHT="134" WIDTH="106" ALT=""></A></TD><TD VALIGN="TOP" ALIGN="LEFT"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="panel"><TR><TH WIDTH="25%"><DIV>Online Judge</DIV></TH><TH WIDTH="25%"><DIV>Problems</DIV></TH><TH WIDTH="25%"><DIV>Authors</DIV></TH><TH WIDTH="25%"><DIV>Online contests</DIV></TH></TR><TR><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/">About Online Judge</A><BR><A HREF="/help.aspx?topic=faq">Frequently asked questions</A><BR><A HREF="/news.aspx">Site news</A><BR><A HREF="/forum/">Webboard</A><BR><A HREF="/help.aspx?topic=links">Links</A><BR></TD><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/problemset.aspx">Problem set</A><BR><A HREF="/submit.aspx">Submit solution</A><BR><A HREF="/status.aspx">Judge status</A><BR><A HREF="/help.aspx?topic=judge">Guide</A><BR></TD><TD VALIGN="TOP"><A HREF="/register.aspx">Register</A><BR><A HREF="/authedit.aspx">Update your info</A><BR><A HREF="/ranklist.aspx">Authors ranklist</A><BR><FORM ACTION="/search.aspx" METHOD="GET" STYLE="margin-top:0.6em;"><INPUT NAME="Str" SIZE="12" VALUE="" PLACEHOLDER="Author’s name"> <INPUT TYPE="SUBMIT" VALUE="Search"></FORM></TD><TD VALIGN="TOP"><A HREF="/contest.aspx">Current contest</A><BR><A HREF="/schedule.aspx">Scheduled contests</A><BR><A HREF="/archive.aspx">Past contests</A><BR><A HREF="/help.aspx?topic=contest">Rules</A><BR></TD></TR></TABLE></TD></TR></TABLE></TD></TR><TR><TD STYLE="padding-top: 32px; padding-bottom: 20px;"><H2 CLASS="title">Ural Championship 2010</H2><DIV STYLE="text-align:center; margin-bottom:1em;"><A HREF="/contest.aspx?id=79">About</A> &nbsp; &nbsp; <A HREF="/problemset.aspx?space=79" CLASS="selectedMenu">Problems</A> &nbsp; &nbsp; <A HREF="/submit.aspx?space=79">Submit solution</A> &nbsp; &nbsp; <A HREF="/status.aspx?space=79">Judge status</A> &nbsp; &nbsp; <A HREF="/monitor.aspx?id=79">Standings</A></DIV><DIV STYLE="margin-bottom:1em;"><DIV STYLE="text-align:center; font-weight:bold;">Contest is over</DIV></DIV><TABLE ALIGN="CENTER" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="800"><DIV CLASS="problem_content"><H2 class="problem_title">H. The Party of Ural Champions</H2><DIV class="problem_limits">Time limit: 1.0 second<BR>Memory limit: 64 MB<BR></DIV><DIV ID="problem_text"><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Because of the coming election to the Regional Duma, all the billboards along
the roads in Yekaterinburg have been replaced. They are now agitating for the
Party of Ural Champions. There are <i>n</i> intersections in Yekaterinburg, and some
of them are connected by two-way roads. Any two intersections are connected by
a sequence of such roads. There can be at most one billboard on any road
connecting two intersections. Each billboard faces one side only, which means
that the agitation can be seen by drivers moving in only one of the two
directions.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">The Party of Ural Champions has presented a report to the election committee,
in which it has given information on the campaign materials. In particular, for
each pair of intersections the report specifies the minimum number of times a
car driver will see the agitation when driving from the first of these
intersection to the second regardless of the route he would take.
</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Chairman of the Regional Election Committee suspects that there is an error in
the report, because there is no configuration of roads and no arrangement of
billboards corresponding to the given data. Your task is to verify this
assertion.</DIV></DIV><H3 CLASS="problem_subtitle">Input</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">The first line contains the integer <i>n</i> (2 &le; <i>n</i> &le; 300). In each of the
following <i>n</i> lines you are given <i>n</i> integers separated with a space. The
number in the <i>i</i>-th line at the <i>j</i>-th position is equal to the minimum number of times a car driver will see the agitation when driving from the <i>i</i>-th
intersection to the <i>j</i>-th intersection. All the integers in this table are in
the range from 0 to <i>n</i>&nbsp;&minus;&nbsp;1. All the numbers on the main diagonal are zeros.</DIV></DIV><H3 CLASS="problem_subtitle">Output</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">If there is a configuration of roads and billboards that
corresponds to the data in the report, then output “YES” in the
first line. Then output <i>n</i> lines containing <i>n</i> symbols each. In the <i>i</i>-th
line at the <i>j</i>-th position output
<ul>
<li> “0” if the <i>i</i>-th and the <i>j</i>-th intersections are not connected by a road;</li>
<li> “1” if the <i>i</i>-th and the <i>j</i>-th intersections are connected by a road
but there is no billboard on this road or there is a billboard but a car driver
will not see the agitation when driving from the <i>i</i>-th intersection to the
<i>j</i>-th intersection;</li>
<li> “2” if the <i>i</i>-th and the <i>j</i>-th intersections are connected by a road
and a car driver will see the agitation when driving from the <i>i</i>-th
intersection to the <i>j</i>-th intersection.</li>
</ul>
No intersection can be connected by a road with itself. If several answers are
possible, output any of them.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">If there is no required configuration of roads and billboards, output “NO” in the only line.</DIV></DIV><H3 CLASS="problem_subtitle">Samples</H3><TABLE CLASS="sample"><TR><TH WIDTH="350">input</TH><TH WIDTH="350">output</TH></TR><TR><TD><PRE>5
0 1 1 1 1
1 0 1 0 1
0 0 0 0 0
2 1 2 0 2
0 0 0 0 0
</PRE></TD><TD><PRE>YES
00202
00210
11001
02000
10100
</PRE></TD></TR><TR><TD><PRE>2
0 1
1 0
</PRE></TD><TD><PRE>NO
</PRE></TD></TR></TABLE><DIV CLASS="problem_source"><B>Problem Author: </B>Igor Chevdar<BR><B>Problem Source: </B>The 14th Urals Collegiate Programing Championship, April 10, 2010<BR></DIV></DIV></DIV><DIV CLASS="problem_links"><A HREF="print.aspx?space=79&amp;num=8" TARGET="_blank">Printable version</A><BR></DIV>To submit the solution for this problem go to the Problem set: <A HREF="problem.aspx?space=1&amp;num=1770"><nobr>1770. The Party of Ural Champions</nobr></A></TD></TR></TABLE></TD></TR><TR><TD CLASS="footer"><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""></div></noscript>© 2000–2017 <A HREF="/team.aspx">Timus Online Judge Team</A>. All rights reserved.</TD></TR></TABLE></BODY></HTML>