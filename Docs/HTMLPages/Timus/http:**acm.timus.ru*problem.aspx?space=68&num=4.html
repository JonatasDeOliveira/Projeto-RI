<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=utf-8"><META NAME="viewport" CONTENT="width=768"><META HTTP-EQUIV="X-UA-Compatible" CONTENT="IE=edge"><TITLE>D. Drunk King 2 @ USU Championship 2008 @ Timus Online Judge</TITLE><LINK REL="alternate" HREFLANG="x-default" HREF="/problem.aspx?space=68&amp;num=4"><LINK REL="alternate" HREFLANG="en-us" HREF="/problem.aspx?space=68&amp;num=4&amp;locale=en"><LINK REL="alternate" HREFLANG="ru-ru" HREF="/problem.aspx?space=68&amp;num=4&amp;locale=ru"><LINK REL="stylesheet" TYPE="text/css" HREF="/style52.css"><LINK REL="shortcut icon" TYPE="image/x-icon" HREF="/favicon.ico"></HEAD><BODY><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="body"><TR><TD CLASS="caption"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" CLASS="locale"><A HREF="/problem.aspx?space=68&amp;num=4&amp;locale=en">ENG</A>&nbsp;&nbsp;<A HREF="/problem.aspx?space=68&amp;num=4&amp;locale=ru">RUS</A></TD><TD CLASS="title"><A HREF="/">Timus Online Judge</A></TD><TD WIDTH="130"></TD></TR></TABLE></TD></TR><TR><TD CLASS="panel"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" VALIGN="TOP" ALIGN="CENTER" STYLE="padding-bottom:5px;"><A HREF="/"><IMG BORDER="0" SRC="/images/usu-summer.jpg" HEIGHT="134" WIDTH="106" ALT=""></A></TD><TD VALIGN="TOP" ALIGN="LEFT"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="panel"><TR><TH WIDTH="25%"><DIV>Online Judge</DIV></TH><TH WIDTH="25%"><DIV>Problems</DIV></TH><TH WIDTH="25%"><DIV>Authors</DIV></TH><TH WIDTH="25%"><DIV>Online contests</DIV></TH></TR><TR><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/">About Online Judge</A><BR><A HREF="/help.aspx?topic=faq">Frequently asked questions</A><BR><A HREF="/news.aspx">Site news</A><BR><A HREF="/forum/">Webboard</A><BR><A HREF="/help.aspx?topic=links">Links</A><BR></TD><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/problemset.aspx">Problem set</A><BR><A HREF="/submit.aspx">Submit solution</A><BR><A HREF="/status.aspx">Judge status</A><BR><A HREF="/help.aspx?topic=judge">Guide</A><BR></TD><TD VALIGN="TOP"><A HREF="/register.aspx">Register</A><BR><A HREF="/authedit.aspx">Update your info</A><BR><A HREF="/ranklist.aspx">Authors ranklist</A><BR><FORM ACTION="/search.aspx" METHOD="GET" STYLE="margin-top:0.6em;"><INPUT NAME="Str" SIZE="12" VALUE="" PLACEHOLDER="Author’s name"> <INPUT TYPE="SUBMIT" VALUE="Search"></FORM></TD><TD VALIGN="TOP"><A HREF="/contest.aspx">Current contest</A><BR><A HREF="/schedule.aspx">Scheduled contests</A><BR><A HREF="/archive.aspx">Past contests</A><BR><A HREF="/help.aspx?topic=contest">Rules</A><BR></TD></TR></TABLE></TD></TR></TABLE></TD></TR><TR><TD STYLE="padding-top: 32px; padding-bottom: 20px;"><H2 CLASS="title">USU Championship 2008</H2><DIV STYLE="text-align:center; margin-bottom:1em;"><A HREF="/contest.aspx?id=68">About</A> &nbsp; &nbsp; <A HREF="/problemset.aspx?space=68" CLASS="selectedMenu">Problems</A> &nbsp; &nbsp; <A HREF="/submit.aspx?space=68">Submit solution</A> &nbsp; &nbsp; <A HREF="/status.aspx?space=68">Judge status</A> &nbsp; &nbsp; <A HREF="/monitor.aspx?id=68">Standings</A></DIV><DIV STYLE="margin-bottom:1em;"><DIV STYLE="text-align:center; font-weight:bold;">Contest is over</DIV></DIV><TABLE ALIGN="CENTER" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="800"><DIV CLASS="problem_content"><H2 class="problem_title">D. Drunk King 2</H2><DIV class="problem_limits">Time limit: 1.0 second<BR>Memory limit: 64 MB<BR></DIV><DIV ID="problem_text"><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Once upon a time King, Knight, and Bishop met each other on an
<i>m</i>&nbsp;&times;&nbsp;<i>n</i> chess board with odd lengths of sides. They
started speaking about traversals of the chess board. It turned out that each
of them had always been unlucky in this. Bishop complained that he couldn't
traverse the board visiting every cells exactly once because he was allowed to
step only on cells of the same color. Knight said that he could visit all cells
but couldn't do it in such a way as to return to the cell from which he had
started. And King said that he could traverse the board but the dream of his
life had always been to find a closed traversal with a length
of&nbsp;<i>mn</i>.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Out of grief, the three friends drank and then continued their talk. King
said that recently he had found a closed
(<i>mn</i>&nbsp;&minus;&nbsp;1&nbsp;+&nbsp&radic;2) long traversal. Knight and
Bishop started laughing at him: &ldquo;You're drunk now! You can't traverse it
at all!&rdquo; Indeed, King was so drunk that he couldn't make two consecutive
moves in the same direction. However, King traversed the board in front of
their very eyes. Moreover, he said that the traversal was the shortest one.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">To be sure that King hadn't cheated, Bishop and Knight wanted to know the
length of the shortest traversal of the drunk King. They couldn't calculate
this length, being drunk themselves, so they asked you to help them.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Remember that a traversal of the board must satisfy the following
requirements:

<ul> <li>King starts and finishes the traversal in a corner of the board.</li>
<li>Every cell except for the first one is visited exactly once.</li> <li>King
can't make two consecutive moves in the same direction.</li> <li>King is not
allowed to cross his own route (otherwise, he may get confused and walk the
wrong way).</li> </ul></DIV></DIV><H3 CLASS="problem_subtitle">Input</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">The only input line contains the odd integers <i>m</i>
and <i>n</i> (<nobr>6 &lt; <i>m</i>, <i>n</i> &lt; 500</nobr>).</DIV></DIV><H3 CLASS="problem_subtitle">Output</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Output the length of the shortest traversal of the drunk
King accurate to 10<sup>&minus;9</sup>. The existence of such a traversal is
guaranteed.</DIV></DIV><H3 CLASS="problem_subtitle">Sample</H3><TABLE CLASS="sample"><TR><TH WIDTH="350">input</TH><TH WIDTH="350">output</TH></TR><TR><TD><PRE>7 7
</PRE></TD><TD><PRE>55.213203435596425732025330863145
</PRE></TD></TR></TABLE><H3 CLASS="problem_subtitle">Notes</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Below is an example of a shortest traversal of the 7&nbsp;&times;&nbsp;7 chess
board satisfying the conditions of the problem:</DIV></DIV><DIV CLASS="problem_centered_picture"><IMG SRC="/image/get.aspx/be9b4dcf-8928-4bb6-b635-abf09a39cd7b" BORDER="0" ALT="Problem illustration"></DIV><DIV CLASS="problem_source"><B>Problem Author: </B>Igor Chevdar<BR><B>Problem Source: </B>XIII Open USU Championship<BR></DIV></DIV></DIV><DIV CLASS="problem_links"><A HREF="print.aspx?space=68&amp;num=4" TARGET="_blank">Printable version</A><BR></DIV>To submit the solution for this problem go to the Problem set: <A HREF="problem.aspx?space=1&amp;num=1631"><nobr>1631. Drunk King 2</nobr></A></TD></TR></TABLE></TD></TR><TR><TD CLASS="footer"><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""></div></noscript>© 2000–2017 <A HREF="/team.aspx">Timus Online Judge Team</A>. All rights reserved.</TD></TR></TABLE></BODY></HTML>