<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=utf-8"><META NAME="viewport" CONTENT="width=768"><META HTTP-EQUIV="X-UA-Compatible" CONTENT="IE=edge"><TITLE>F. War and Peace @ Ural SU Team.GOV contest. Petrozavodsk training camp. Summer 2011 @ Timus Online Judge</TITLE><LINK REL="alternate" HREFLANG="x-default" HREF="/problem.aspx?space=90&amp;num=6"><LINK REL="alternate" HREFLANG="en-us" HREF="/problem.aspx?space=90&amp;num=6&amp;locale=en"><LINK REL="alternate" HREFLANG="ru-ru" HREF="/problem.aspx?space=90&amp;num=6&amp;locale=ru"><LINK REL="stylesheet" TYPE="text/css" HREF="/style52.css"><LINK REL="shortcut icon" TYPE="image/x-icon" HREF="/favicon.ico"></HEAD><BODY><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="body"><TR><TD CLASS="caption"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" CLASS="locale"><A HREF="/problem.aspx?space=90&amp;num=6&amp;locale=en">ENG</A>&nbsp;&nbsp;<A HREF="/problem.aspx?space=90&amp;num=6&amp;locale=ru">RUS</A></TD><TD CLASS="title"><A HREF="/">Timus Online Judge</A></TD><TD WIDTH="130"></TD></TR></TABLE></TD></TR><TR><TD CLASS="panel"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" VALIGN="TOP" ALIGN="CENTER" STYLE="padding-bottom:5px;"><A HREF="/"><IMG BORDER="0" SRC="/images/usu-summer.jpg" HEIGHT="134" WIDTH="106" ALT=""></A></TD><TD VALIGN="TOP" ALIGN="LEFT"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="panel"><TR><TH WIDTH="25%"><DIV>Online Judge</DIV></TH><TH WIDTH="25%"><DIV>Problems</DIV></TH><TH WIDTH="25%"><DIV>Authors</DIV></TH><TH WIDTH="25%"><DIV>Online contests</DIV></TH></TR><TR><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/">About Online Judge</A><BR><A HREF="/help.aspx?topic=faq">Frequently asked questions</A><BR><A HREF="/news.aspx">Site news</A><BR><A HREF="/forum/">Webboard</A><BR><A HREF="/help.aspx?topic=links">Links</A><BR></TD><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/problemset.aspx">Problem set</A><BR><A HREF="/submit.aspx">Submit solution</A><BR><A HREF="/status.aspx">Judge status</A><BR><A HREF="/help.aspx?topic=judge">Guide</A><BR></TD><TD VALIGN="TOP"><A HREF="/register.aspx">Register</A><BR><A HREF="/authedit.aspx">Update your info</A><BR><A HREF="/ranklist.aspx">Authors ranklist</A><BR><FORM ACTION="/search.aspx" METHOD="GET" STYLE="margin-top:0.6em;"><INPUT NAME="Str" SIZE="12" VALUE="" PLACEHOLDER="Author’s name"> <INPUT TYPE="SUBMIT" VALUE="Search"></FORM></TD><TD VALIGN="TOP"><A HREF="/contest.aspx">Current contest</A><BR><A HREF="/schedule.aspx">Scheduled contests</A><BR><A HREF="/archive.aspx">Past contests</A><BR><A HREF="/help.aspx?topic=contest">Rules</A><BR></TD></TR></TABLE></TD></TR></TABLE></TD></TR><TR><TD STYLE="padding-top: 32px; padding-bottom: 20px;"><H2 CLASS="title">Ural SU Team.GOV contest. Petrozavodsk training camp. Summer 2011</H2><DIV STYLE="text-align:center; margin-bottom:1em;"><A HREF="/contest.aspx?id=90">About</A> &nbsp; &nbsp; <A HREF="/problemset.aspx?space=90" CLASS="selectedMenu">Problems</A> &nbsp; &nbsp; <A HREF="/submit.aspx?space=90">Submit solution</A> &nbsp; &nbsp; <A HREF="/status.aspx?space=90">Judge status</A> &nbsp; &nbsp; <A HREF="/monitor.aspx?id=90">Standings</A></DIV><DIV STYLE="margin-bottom:1em;"><DIV STYLE="text-align:center; font-weight:bold;">Contest is over</DIV></DIV><TABLE ALIGN="CENTER" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="800"><DIV CLASS="problem_content"><H2 class="problem_title">F. War and Peace</H2><DIV class="problem_limits">Time limit: 1.0 second<BR>Memory limit: 64 MB<BR></DIV><DIV ID="problem_text"><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">During the war in Erathia, an army of liches had to solve a difficult task of
relocating its troops.
Liches can teleport from one city to another quickly enough,
but giving directions to thousands of liches in dozens of strongholds
seems to be a real problem.
This problem was especially difficult when the Great lich Sandro
was powerful, as the army of liches grew huge.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Sandro noticed that only two of all the spells,
<i>Curse of the Netherworld</i> and <i>Implosion</i>, are powerful enough.
When somebody casts them, it can be felt everywhere in the country.
He decided to use these spells as signals to his troops.
When liches in a certain stronghold feel a certain spell,
they should teleport to the predefined destination stronghold
(or stay in their current stronghold).
After a spell is cast, the liches in all the strongholds
simultaneously teleport according to this scheme.
Liches have no troubles with discipline,
so this scheme works perfectly since it was introduced.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">When Sandro died, the peace between people and the undead was proclaimed.
The remaining liches were evenly distributed among all the strongholds
in Deyja in case of a sudden attack, while the top undead commanders
started to fight for power.
Soon necromancer Vidomina and vampire Korbu became the most powerful
among the undead.
Their influence was almost equal, so none of them could become the only
leader, and the country was split between them.
Recently, Vidomina decided to start another war against Erathia and began
to gather troops.
As an experienced warlord, she understands the strength of Erathia's army,
and now wants to gather all the troops in one stronghold prior to the attack.
Meanwhile, Korbu thinks that this war can lead to total annihilation
of the undead and wants to keep truce.
He can't convince Vidomina, so he decided to prevent her from
gathering all the troops together.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Casting signal spells requires a lot of energy,
so they can only be cast once a day.
Each noon Vidomina casts one of the spells, in order to gather
the liches together.
On the other hand, each midnight Korbu also casts one of the spells,
trying to stop Vidomina.
There are no other mages capable of casting these spells in Deyja,
so no one else can move the troops. Vidomina casts her spell first.
Assuming that both mages act optimally, find out whether Vidomina
succeeds in gathering all the liches together.</DIV></DIV><H3 CLASS="problem_subtitle">Input</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">The first line contains an integer <i>n</i>, the number of strongholds in Deyja
(2 &le; <i>n</i> &le; 1000).
The <i>i</i>-th of the following <i>n</i> lines contains two integers <i>a</i><sub><i>i</i></sub> and <i>b</i><sub><i>i</i></sub>
which are the numbers of strongholds where troops move from stronghold <i>i</i>
after <i>Curse of the Netherworld</i> and <i>Implosion</i> spells,
respectively (1 &le; <i>a</i><sub><i>i</i></sub>, <i>b</i><sub><i>i</i></sub> &le; <i>n</i>).</DIV></DIV><H3 CLASS="problem_subtitle">Output</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Output &ldquo;War&rdquo; if Vidomina will succeed in gathering all the troops together,
or &ldquo;Peace&rdquo; if Korbu will prevent her from doing that in any finite number of
days.</DIV></DIV><H3 CLASS="problem_subtitle">Samples</H3><TABLE CLASS="sample"><TR><TH WIDTH="350">input</TH><TH WIDTH="350">output</TH></TR><TR><TD><PRE>2
2 1
1 2
</PRE></TD><TD><PRE>Peace
</PRE></TD></TR><TR><TD><PRE>2
2 2
2 1
</PRE></TD><TD><PRE>War
</PRE></TD></TR></TABLE><DIV CLASS="problem_source"><B>Problem Author: </B>Fedor Fominykh<BR><B>Problem Source: </B>Ural SU Team.GOV Contest. Petrozavodsk Summer Session, August 2011<BR></DIV></DIV></DIV><DIV CLASS="problem_links"><A HREF="print.aspx?space=90&amp;num=6" TARGET="_blank">Printable version</A><BR></DIV>To submit the solution for this problem go to the Problem set: <A HREF="problem.aspx?space=1&amp;num=1856"><nobr>1856. War and Peace</nobr></A></TD></TR></TABLE></TD></TR><TR><TD CLASS="footer"><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""></div></noscript>© 2000–2017 <A HREF="/team.aspx">Timus Online Judge Team</A>. All rights reserved.</TD></TR></TABLE></BODY></HTML>