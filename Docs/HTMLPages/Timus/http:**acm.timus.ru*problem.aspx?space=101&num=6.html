<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=utf-8"><META NAME="viewport" CONTENT="width=768"><META HTTP-EQUIV="X-UA-Compatible" CONTENT="IE=edge"><TITLE>F. Money out of Thin Air @ NEERC 2011, Eastern subregional contest @ Timus Online Judge</TITLE><LINK REL="alternate" HREFLANG="x-default" HREF="/problem.aspx?space=101&amp;num=6"><LINK REL="alternate" HREFLANG="en-us" HREF="/problem.aspx?space=101&amp;num=6&amp;locale=en"><LINK REL="alternate" HREFLANG="ru-ru" HREF="/problem.aspx?space=101&amp;num=6&amp;locale=ru"><LINK REL="stylesheet" TYPE="text/css" HREF="/style52.css"><LINK REL="shortcut icon" TYPE="image/x-icon" HREF="/favicon.ico"></HEAD><BODY><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="body"><TR><TD CLASS="caption"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" CLASS="locale"><A HREF="/problem.aspx?space=101&amp;num=6&amp;locale=en">ENG</A>&nbsp;&nbsp;<A HREF="/problem.aspx?space=101&amp;num=6&amp;locale=ru">RUS</A></TD><TD CLASS="title"><A HREF="/">Timus Online Judge</A></TD><TD WIDTH="130"></TD></TR></TABLE></TD></TR><TR><TD CLASS="panel"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" VALIGN="TOP" ALIGN="CENTER" STYLE="padding-bottom:5px;"><A HREF="/"><IMG BORDER="0" SRC="/images/usu-summer.jpg" HEIGHT="134" WIDTH="106" ALT=""></A></TD><TD VALIGN="TOP" ALIGN="LEFT"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="panel"><TR><TH WIDTH="25%"><DIV>Online Judge</DIV></TH><TH WIDTH="25%"><DIV>Problems</DIV></TH><TH WIDTH="25%"><DIV>Authors</DIV></TH><TH WIDTH="25%"><DIV>Online contests</DIV></TH></TR><TR><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/">About Online Judge</A><BR><A HREF="/help.aspx?topic=faq">Frequently asked questions</A><BR><A HREF="/news.aspx">Site news</A><BR><A HREF="/forum/">Webboard</A><BR><A HREF="/help.aspx?topic=links">Links</A><BR></TD><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/problemset.aspx">Problem set</A><BR><A HREF="/submit.aspx">Submit solution</A><BR><A HREF="/status.aspx">Judge status</A><BR><A HREF="/help.aspx?topic=judge">Guide</A><BR></TD><TD VALIGN="TOP"><A HREF="/register.aspx">Register</A><BR><A HREF="/authedit.aspx">Update your info</A><BR><A HREF="/ranklist.aspx">Authors ranklist</A><BR><FORM ACTION="/search.aspx" METHOD="GET" STYLE="margin-top:0.6em;"><INPUT NAME="Str" SIZE="12" VALUE="" PLACEHOLDER="Author’s name"> <INPUT TYPE="SUBMIT" VALUE="Search"></FORM></TD><TD VALIGN="TOP"><A HREF="/contest.aspx">Current contest</A><BR><A HREF="/schedule.aspx">Scheduled contests</A><BR><A HREF="/archive.aspx">Past contests</A><BR><A HREF="/help.aspx?topic=contest">Rules</A><BR></TD></TR></TABLE></TD></TR></TABLE></TD></TR><TR><TD STYLE="padding-top: 32px; padding-bottom: 20px;"><H2 CLASS="title">NEERC 2011, Eastern subregional contest</H2><DIV STYLE="text-align:center; margin-bottom:1em;"><A HREF="/contest.aspx?id=101">About</A> &nbsp; &nbsp; <A HREF="/problemset.aspx?space=101" CLASS="selectedMenu">Problems</A> &nbsp; &nbsp; <A HREF="/submit.aspx?space=101">Submit solution</A> &nbsp; &nbsp; <A HREF="/status.aspx?space=101">Judge status</A> &nbsp; &nbsp; <A HREF="/monitor.aspx?id=101">Standings</A></DIV><DIV STYLE="margin-bottom:1em;"><DIV STYLE="text-align:center; font-weight:bold;">Contest is over</DIV></DIV><TABLE ALIGN="CENTER" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="800"><DIV CLASS="problem_content"><H2 class="problem_title">F. Money out of Thin Air</H2><DIV class="problem_limits">Time limit: 1.0 second<BR>Memory limit: 64 MB<BR></DIV><DIV ID="problem_text"><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Each employee of the company Oceanic Airlines, except for the director, has 
exactly one immediate superior. To encourage the best employees and 
best departments, the director can issue two kinds of orders: 
<ol>
<li> &ldquo;employee x y z&rdquo; &mdash; if the salary of employee&nbsp;<i>x</i> is less than <i>y</i> 
dollars, increase it by <i>z</i> dollars; 
<li> &ldquo;department x y z&rdquo; &mdash; if the average salary in the department headed 
by employee <i>x</i> is less than <i>y</i> dollars, increase the salary of each employee 
at this department by <i>z</i> dollars (the department includes employee <i>x</i> and all 
her subordinates, not necessarily immediate). 
</ol></DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Given the salaries of all the employees of Oceanic Airlines at the 
beginning of a year and all the salary increase orders issued by the director 
during the year, find the salaries of the employees by the end of the year. You 
may assume that the company didn't hire any new employees and didn't fire anyone 
during the year. </DIV></DIV><H3 CLASS="problem_subtitle">Input</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">The first line contains integers <i>n</i>, <i>q</i>, and <i>s</i><sub>0</sub>, which are the number of 
employees at Oceanic Airlines, the number of salary increase orders, and 
the director's salary at the beginning of the year (1 &le; <i>n</i>, <i>q</i> &le; 50&nbsp;000; 
0 &le; <i>s</i><sub>0</sub> &le; 10<sup>9</sup>). The employees are numbered from&nbsp;0 to&nbsp;<i>n</i> &minus; 1; the 
director's number is zero. In the <i>i</i>th of the following <i>n</i> &minus; 1 lines you are 
given integers <i>p</i><sub><i>i</i></sub> and&nbsp;<i>s</i><sub><i>i</i></sub>, which are the number of the immediate superior 
and the salary at the beginning of the year of the employee with number <i>i</i> (0 
&le; <i>p</i><sub><i>i</i></sub> &le; <i>i</i> &minus; 1; 0 &le; <i>s</i><sub><i>i</i></sub> &le; 10<sup>9</sup>). The following <i>q</i> lines are the 
director's orders given chronologically. Each order has the form &ldquo;employee x 
y z&rdquo; or &ldquo;department x y z&rdquo; (the notation <i>x</i>, <i>y</i>, <i>z</i> is explained above), 
where 0 &le; <i>x</i> &le; <i>n</i> &minus; 1 and 1 &le; <i>y</i>, <i>z</i> &le; 10<sup>9</sup>. </DIV></DIV><H3 CLASS="problem_subtitle">Output</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Output the salaries of all employees at Oceanic Airlines at the end of the 
year in the ascending order of the employees' numbers.</DIV></DIV><H3 CLASS="problem_subtitle">Sample</H3><TABLE CLASS="sample"><TR><TH WIDTH="350">input</TH><TH WIDTH="350">output</TH></TR><TR><TD><PRE>4 3 1
0 10
0 10
1 10
employee 2 15 1
employee 3 5 1
department 0 10 1
</PRE></TD><TD><PRE>2
11
12
11
</PRE></TD></TR></TABLE><DIV CLASS="problem_source"><B>Problem Author: </B>Dmitry Ivankov<BR><B>Problem Source: </B>NEERC 2011, Eastern subregional contest<BR></DIV></DIV></DIV><DIV CLASS="problem_links"><A HREF="print.aspx?space=101&amp;num=6" TARGET="_blank">Printable version</A><BR></DIV>To submit the solution for this problem go to the Problem set: <A HREF="problem.aspx?space=1&amp;num=1890"><nobr>1890. Money out of Thin Air</nobr></A></TD></TR></TABLE></TD></TR><TR><TD CLASS="footer"><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""></div></noscript>© 2000–2017 <A HREF="/team.aspx">Timus Online Judge Team</A>. All rights reserved.</TD></TR></TABLE></BODY></HTML>