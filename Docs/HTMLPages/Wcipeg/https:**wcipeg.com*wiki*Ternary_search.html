<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" />
<title>Ternary search - PEGWiki</title>
<meta name="generator" content="MediaWiki 1.25.2" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="/wiki/index.php?title=Ternary_search&amp;action=edit" />
<link rel="edit" title="Edit" href="/wiki/index.php?title=Ternary_search&amp;action=edit" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/wiki/opensearch_desc.php" title="PEGWiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="https://wcipeg.com/wiki/api.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="/wiki/Ternary_search" />
<link rel="copyright" href="http://creativecommons.org/licenses/by/3.0/" />
<link rel="alternate" type="application/atom+xml" title="PEGWiki Atom feed" href="/wiki/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="https://wcipeg.com/wiki/load.php?debug=false&amp;lang=en&amp;modules=ext.math.styles%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.vector.styles&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="https://wcipeg.com/wiki/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wikidb:resourceloader:filter:minify-css:7:b36fd1c042133c9c9b60260f7c29b237 */</style>
<script src="https://wcipeg.com/wiki/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Ternary_search","wgTitle":"Ternary search","wgCurRevisionId":1590,"wgRevisionId":1590,"wgArticleId":432,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Ternary_search","wgRelevantArticleId":432,"wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: wikidb:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/wiki/skins/Vector/csshover.min.htc")}</style><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Ternary_search skin-vector action-view">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>

						<div class="mw-indicators">
</div>
			<h1 id="firstHeading" class="firstHeading" lang="en">Ternary search</h1>
						<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">From PEGWiki</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p><b>Ternary search</b> is an algorithm similar to <a href="/wiki/Binary_search" title="Binary search">binary search</a>. It is used when we have a function that is bitonic on a given interval instead of monotone, and we wish to optimize its value on that interval. That is, either the function first increases and then decreases, and we wish to find its maximum (that is, where it changes from increasing to decreasing), or it first decreases and then increases, and we wish to find the minimum. (In the former case, finding the minimum is trivial; it is at either the left edge or the right edge of the interval. In the latter case, finding the maximum is trivial.)
</p><p>For the algorithm to work, we need the increase and decrease to be strict. Otherwise, we could have a pathological case in which the function is constant at all but one point, and then it would be impossible to find that point in the continuous case (and would be impossible to do it efficiently in the discrete case).
</p><p>Should we wish to find a specific value, we can use binary search on the increasing part and the decreasing part separately, after having located the extremum and hence determined where the increasing part and decreasing part begin and end.
</p><p>The function in question is usually defined on a continuous domain rather than a discrete domain, which gives the following pseudocode for the increasing-then-decreasing case:
</p>
<pre>// a: left edge of interval
// b: right edge of interval
// f: function
// epsilon: tolerance
input a, b, f, epsilon
l &#8592; a
r &#8592; b
while (r-l &gt; epsilon)
    m1 &#8592; (2*l + r)/3
    m2 &#8592; (l + 2*r)/3
    if f(m1) &lt; f(m2)
        l &#8592; m1
    else
        r &#8592; m2
print r
</pre>
<p>The reasoning is as follows. We split the interval <img class="mwe-math-fallback-image-inline tex" alt="[l, r]" src="/wiki/images/math/a/6/1/a615eebe867a499ba18a5de92492cf93.png" /> into three equal subintervals: <img class="mwe-math-fallback-image-inline tex" alt="[l, m_1]" src="/wiki/images/math/f/5/1/f51fcc9dded6415b0767b0b24f74aa4d.png" />, <img class="mwe-math-fallback-image-inline tex" alt="[m_1, m_2]" src="/wiki/images/math/b/9/6/b96503f0c7960acd1c9c19a5d2d18a24.png" />, and <img class="mwe-math-fallback-image-inline tex" alt="[m_2, r]" src="/wiki/images/math/2/8/8/288f8cf6e84b4e5f95477b49ead82ae0.png" />. Then we evaluate <img class="mwe-math-fallback-image-inline tex" alt="f" src="/wiki/images/math/8/f/a/8fa14cdd754f91cc6554c9e71929cce7.png" /> at the intermediate points <img class="mwe-math-fallback-image-inline tex" alt="m_1" src="/wiki/images/math/b/7/6/b76530f37a5cbc3d17ebe8df6fed402f.png" /> and <img class="mwe-math-fallback-image-inline tex" alt="m_2" src="/wiki/images/math/b/d/d/bdd1c7307b88ad20fe151890256e325a.png" />. We then consider the result of the comparison:
</p>
<ul><li> If <img class="mwe-math-fallback-image-inline tex" alt="f(m_1) &lt; f(m_2)" src="/wiki/images/math/6/e/e/6ee7b60f5a73cf0b7f936855208c528d.png" />, then the maximum can't possibly occur in the first interval, since then the function would be increasing from <img class="mwe-math-fallback-image-inline tex" alt="f(a)" src="/wiki/images/math/8/a/1/8a17929730159dd1440a93e485de0a45.png" /> to the maximum, then decreasing from the maximum to <img class="mwe-math-fallback-image-inline tex" alt="f(m_1)" src="/wiki/images/math/5/2/2/52247268488f46745cb8ad9af75f1565.png" />, and then at some point increasing again since <img class="mwe-math-fallback-image-inline tex" alt="f(m_2) &gt; f(m_1)" src="/wiki/images/math/0/0/b/00be65a990c49ac371a5bcc176b91a25.png" />. So we discard the first interval.</li>
<li> If <img class="mwe-math-fallback-image-inline tex" alt="f(m_1) &gt; f(m_2)" src="/wiki/images/math/2/1/3/213d0a741abe200c645788d0acdcba24.png" />, then the maximum can't possibly occur in the third interval, by similar reasoning.</li>
<li> If <img class="mwe-math-fallback-image-inline tex" alt="f(m_1) = f(m_2)" src="/wiki/images/math/4/7/6/4766fe644f062c283273d70e05b55654.png" />, then the maximum has to be in the second interval; if it were in the first interval then the function would not be strictly decreasing afterward, and if it were in the third interval then the function would not be strictly increasing at the beginning. Here, we can either discard the first or the third interval; it doesn't matter which. That's why we don't need a case in the code for this case.</li></ul>
<p>Intuitively, evaluating the function at the two intermediate points tips us off as to which "direction" to look in, as though we are climbing a hill. When the function is higher at the first than at the second, we know the maximum lies in one of the two left subintervals, and when it is higher at the second than at the first, we know the maximum lies in one of the two right subintervals. If the bitonicity is not strict, then we might not be able to obtain any useful information from the comparison, so this is not allowed.
</p><p>The loop runs about <img class="mwe-math-fallback-image-inline tex" alt="\log_{3/2}\frac{b-a}{\epsilon}" src="/wiki/images/math/a/a/c/aacc12ad831effaeda114a8d8fe46721.png" /> times, since each iteration reduces the length of the interval <img class="mwe-math-fallback-image-inline tex" alt="[l,r]" src="/wiki/images/math/a/6/1/a615eebe867a499ba18a5de92492cf93.png" /> by a factor of <img class="mwe-math-fallback-image-inline tex" alt="\frac{3}{2}" src="/wiki/images/math/7/3/1/7317b62bf7533a6a642140a6d7f546ba.png" />. Each iteration involves two evaluations of the function, so the total number of evaluations is about <img class="mwe-math-fallback-image-inline tex" alt="2\log_{3/2}\frac{b-a}{\epsilon}" src="/wiki/images/math/6/a/2/6a2737e785e317e84dcd3a9c1579ffc5.png" />. This is <img class="mwe-math-fallback-image-inline tex" alt="\Theta\left(\log(b-a) + \log\frac{1}{\epsilon}\right)" src="/wiki/images/math/0/3/a/03a503b92fd6a4e2fae32ac9c35776d3.png" />, so the smaller the epsilon, the longer the search takes, but overall the time is logarithmic in the length of the initial interval.
</p><p>An example application of ternary search is finding a point <img class="mwe-math-fallback-image-inline tex" alt="Q_0" src="/wiki/images/math/1/0/b/10beb967aace076136581342bde52b6d.png" /> on a line segment <img class="mwe-math-fallback-image-inline tex" alt="\ell" src="/wiki/images/math/3/3/4/334ce9eb79df1178b0380461c9eaa09e.png" /> such that the distance <img class="mwe-math-fallback-image-inline tex" alt="|PQ_0|" src="/wiki/images/math/1/9/0/190deec22998d352577eeabf66de0cb5.png" /> is minimal (where point <img class="mwe-math-fallback-image-inline tex" alt="P" src="/wiki/images/math/4/4/c/44c29edb103a2872f519ad0c9a0fdaaa.png" /> is given). Although there is a direct mathematical solution to this problem, an easier solution that allows us to approximate <img class="mwe-math-fallback-image-inline tex" alt="Q_0" src="/wiki/images/math/1/0/b/10beb967aace076136581342bde52b6d.png" /> is to parameterize the line segment: let <img class="mwe-math-fallback-image-inline tex" alt="Q(t)" src="/wiki/images/math/5/8/f/58fdd933c9bfb864e56f2ffc6a13f7a6.png" /> be the point on the line segment that is a distance <img class="mwe-math-fallback-image-inline tex" alt="t" src="/wiki/images/math/e/3/5/e358efa489f58062f10dd7316b65649e.png" /> from one of the endpoints, and then notice that <img class="mwe-math-fallback-image-inline tex" alt="|PQ(t)|" src="/wiki/images/math/9/1/9/91983f847b7f9c9cf20ea8eb24097725.png" /> is a bitonic function whose minimum we wish to find (this can easily be proven using the Pythagorean theorem). Thus, ternary search can be used to find the point. Intuitively, we divide the line segment into thirds, and measure the distance from <img class="mwe-math-fallback-image-inline tex" alt="P" src="/wiki/images/math/4/4/c/44c29edb103a2872f519ad0c9a0fdaaa.png" /> to each of the two dividing points, thus discarding one third of the segment, and repeating as far as necessary.
</p>
<!-- 
NewPP limit report
CPU time usage: 0.031 seconds
Real time usage: 0.036 seconds
Preprocessor visited node count: 85/1000000
Preprocessor generated node count: 564/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->

<!-- Saved in parser cache with key wikidb:pcache:idhash:432-0!*!0!*!*!*!*!math=0 and timestamp 20180417173225 and revision id 1590
 -->
</div>									<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://wcipeg.com/wiki/index.php?title=Ternary_search&amp;oldid=1590">https://wcipeg.com/wiki/index.php?title=Ternary_search&amp;oldid=1590</a>"					</div>
													<div id='catlinks' class='catlinks catlinks-allhidden'></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>

			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-createaccount"><a href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Ternary+search&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li><li id="pt-login"><a href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Ternary+search" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
															<li  id="ca-nstab-main" class="selected"><span><a href="/wiki/Ternary_search"  title="View the content page [c]" accesskey="c">Page</a></span></li>
															<li  id="ca-talk" class="new"><span><a href="/wiki/index.php?title=Talk:Ternary_search&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
													</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
															<li id="ca-view" class="selected"><span><a href="/wiki/Ternary_search" >Read</a></span></li>
															<li id="ca-edit"><span><a href="/wiki/index.php?title=Ternary_search&amp;action=edit"  title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></span></li>
															<li id="ca-history" class="collapsible"><span><a href="/wiki/index.php?title=Ternary_search&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
													</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label"><span>More</span><a href="#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>

						<form action="/wiki/index.php" id="searchform">
														<div id="simpleSearch">
															<input type="search" name="search" placeholder="Search" title="Search PEGWiki [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />								</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="/wiki/Main_Page"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
			<h3 id='p-navigation-label'>Navigation</h3>

			<div class="body">
									<ul>
													<li id="n-mainpage-description"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
													<li id="n-Index"><a href="/wiki/Special:AllPages">Index</a></li>
													<li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
													<li id="n-randompage"><a href="/wiki/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
													<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
			<h3 id='p-tb-label'>Tools</h3>

			<div class="body">
									<ul>
													<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Ternary_search" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
													<li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Ternary_search" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
													<li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
													<li id="t-print"><a href="/wiki/index.php?title=Ternary_search&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
													<li id="t-permalink"><a href="/wiki/index.php?title=Ternary_search&amp;oldid=1590" title="Permanent link to this revision of the page">Permanent link</a></li>
													<li id="t-info"><a href="/wiki/index.php?title=Ternary_search&amp;action=info" title="More information about this page">Page information</a></li>
											</ul>
							</div>
		</div>
				</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 13 February 2012, at 20:30.</li>
											<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by/3.0/">Attribution 3.0 Unported</a> unless otherwise noted.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="/wiki/PEGWiki:Privacy_policy" title="PEGWiki:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="/wiki/PEGWiki:About" title="PEGWiki:About">About PEGWiki</a></li>
											<li id="footer-places-disclaimer"><a href="/wiki/PEGWiki:General_disclaimer" title="PEGWiki:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
											<li id="footer-copyrightico">
															<a href="http://creativecommons.org/licenses/by/3.0/"><img src="http://i.creativecommons.org/l/by/3.0/88x31.png" alt="Attribution 3.0 Unported" width="88" height="31" /></a>
													</li>
											<li id="footer-poweredbyico">
															<a href="//www.mediawiki.org/"><img src="/wiki/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/wiki/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /wiki/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" /></a>
													</li>
									</ul>
						<div style="clear:both"></div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wcipeg.com/wiki/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=vector\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":63});
}</script>
	</body>
</html>
